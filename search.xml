<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>JSæ•°ç»„ä¹‹reduce</title>
    <url>/2020/05/13/JS%E6%95%B0%E7%BB%84%E4%B9%8Breduce/</url>
    <content><![CDATA[<h4 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h4><p>JS æ•°ç»„ä¸­çš„æ•°ç»„æ–¹æ³•reduceç»å¸¸ç”¨åˆ°ï¼Œè¯¥æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œcallbackå‡½æ•°(å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚<br><a id="more"></a></p>
<h5 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">arr.reduce(callback(accumulator, currentValue, index, array), initialValue)</span><br></pre></td></tr></table></figure>
<h5 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°:"></a>å‚æ•°:</h5><p><code>callback</code><br>æ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸ªå€¼ (å¦‚æœæ²¡æœ‰æä¾› initialValueåˆ™ç¬¬ä¸€ä¸ªå€¼é™¤å¤–)çš„å‡½æ•°ï¼ŒåŒ…å«å››ä¸ªå‚æ•°ï¼š<br>accumulator<br>ç´¯è®¡å™¨ç´¯è®¡å›è°ƒçš„è¿”å›å€¼; å®ƒæ˜¯ä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒæ—¶è¿”å›çš„ç´¯ç§¯å€¼ï¼Œæˆ–initialValueï¼ˆè§äºä¸‹æ–¹ï¼‰ã€‚</p>
<p><code>currentValue</code><br>æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚<br><code>index </code>å¯é€‰<br>æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚ å¦‚æœæä¾›äº†initialValueï¼Œåˆ™èµ·å§‹ç´¢å¼•å·ä¸º0ï¼Œå¦åˆ™ä»ç´¢å¼•1èµ·å§‹ã€‚<br><code>array</code>å¯é€‰<br>è°ƒç”¨reduce()çš„æ•°ç»„<br><code>initialValue</code>å¯é€‰<br>ä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callbackå‡½æ•°æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚ å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ åœ¨æ²¡æœ‰åˆå§‹å€¼çš„ç©ºæ•°ç»„ä¸Šè°ƒç”¨ reduce å°†æŠ¥é”™ã€‚</p>
<p>å›è°ƒå‡½æ•°ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼Œ<code>accumulator</code> å’Œ<code>currentValue</code>çš„å–å€¼æœ‰ä¸¤ç§æƒ…å†µï¼šå¦‚æœè°ƒç”¨reduce()æ—¶æä¾›äº†<code>initialValue</code>ï¼Œ<code>accumulator</code>å–å€¼ä¸º<code>initialValue</code>ï¼Œ<code>currentValue</code>å–æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼›å¦‚æœæ²¡æœ‰æä¾› <code>initialValue</code>ï¼Œé‚£ä¹ˆ<code>accumulator</code>å–æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œ<code>currentValue</code>å–æ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå€¼ã€‚</p>
<p><strong><br>æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰æä¾›initialValueï¼Œreduce ä¼šä»ç´¢å¼•1çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œ callback æ–¹æ³•ï¼Œè·³è¿‡ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚å¦‚æœæä¾›initialValueï¼Œä»ç´¢å¼•0å¼€å§‹ã€‚<br></strong></p>
<h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><h5 id="æ•°ç»„æ±‚å’Œ"><a href="#æ•°ç»„æ±‚å’Œ" class="headerlink" title="æ•°ç»„æ±‚å’Œ"></a>æ•°ç»„æ±‚å’Œ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const  total = [ 0, 1, 2, 3 ].reduce(</span><br><span class="line">  ( acc, cur ) =&gt; acc + cur,</span><br><span class="line">  0</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h5 id="å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´"><a href="#å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´" class="headerlink" title="å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´"></a>å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var flattened = [[0, 1], [2, 3], [4, 5]].reduce(</span><br><span class="line"> ( acc, cur ) =&gt; acc.concat(cur),</span><br><span class="line"> []</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h5 id="è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°"><a href="#è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°"></a>è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var names = [&apos;Alice&apos;, &apos;Bob&apos;, &apos;Tiff&apos;, &apos;Bruce&apos;, &apos;Alice&apos;];</span><br><span class="line"></span><br><span class="line">var countedNames = names.reduce(function (allNames, name) &#123; </span><br><span class="line">  if (name in allNames) &#123;</span><br><span class="line">    allNames[name]++;</span><br><span class="line">  &#125;</span><br><span class="line">  else &#123;</span><br><span class="line">    allNames[name] = 1;</span><br><span class="line">  &#125;</span><br><span class="line">  return allNames;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line">// countedNames is:</span><br><span class="line">// &#123; &apos;Alice&apos;: 2, &apos;Bob&apos;: 1, &apos;Tiff&apos;: 1, &apos;Bruce&apos;: 1 &#125;</span><br></pre></td></tr></table></figure>
<h5 id="æŒ‰å±æ€§å¯¹objectåˆ†ç±»"><a href="#æŒ‰å±æ€§å¯¹objectåˆ†ç±»" class="headerlink" title="æŒ‰å±æ€§å¯¹objectåˆ†ç±»"></a>æŒ‰å±æ€§å¯¹objectåˆ†ç±»</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var people = [</span><br><span class="line">  &#123; name: &apos;Alice&apos;, age: 21 &#125;,</span><br><span class="line">  &#123; name: &apos;Max&apos;, age: 20 &#125;,</span><br><span class="line">  &#123; name: &apos;Jane&apos;, age: 20 &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">function groupBy(objectArray, property) &#123;</span><br><span class="line">  return objectArray.reduce(function (acc, obj) &#123;</span><br><span class="line">    var key = obj[property];</span><br><span class="line">    if (!acc[key]) &#123;</span><br><span class="line">      acc[key] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    acc[key].push(obj);</span><br><span class="line">    return acc;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var groupedPeople = groupBy(people, &apos;age&apos;);</span><br><span class="line">// groupedPeople is:</span><br><span class="line">// &#123; </span><br><span class="line">//   20: [</span><br><span class="line">//     &#123; name: &apos;Max&apos;, age: 20 &#125;, </span><br><span class="line">//     &#123; name: &apos;Jane&apos;, age: 20 &#125;</span><br><span class="line">//   ], </span><br><span class="line">//   21: [&#123; name: &apos;Alice&apos;, age: 21 &#125;] </span><br><span class="line">// &#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å’ŒinitialValueç»‘å®šåŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„æ•°ç»„"><a href="#ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å’ŒinitialValueç»‘å®šåŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„æ•°ç»„" class="headerlink" title="ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å’ŒinitialValueç»‘å®šåŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„æ•°ç»„"></a>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å’ŒinitialValueç»‘å®šåŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„æ•°ç»„</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// friends - å¯¹è±¡æ•°ç»„</span><br><span class="line">// where object field &quot;books&quot; - list of favorite books </span><br><span class="line">var friends = [&#123;</span><br><span class="line">  name: &apos;Anna&apos;,</span><br><span class="line">  books: [&apos;Bible&apos;, &apos;Harry Potter&apos;],</span><br><span class="line">  age: 21</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  name: &apos;Bob&apos;,</span><br><span class="line">  books: [&apos;War and peace&apos;, &apos;Romeo and Juliet&apos;],</span><br><span class="line">  age: 26</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  name: &apos;Alice&apos;,</span><br><span class="line">  books: [&apos;The Lord of the Rings&apos;, &apos;The Shining&apos;],</span><br><span class="line">  age: 18</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">// allbooks - list which will contain all friends&apos; books +  </span><br><span class="line">// additional list contained in initialValue</span><br><span class="line">var allbooks = friends.reduce(function(prev, curr) &#123;</span><br><span class="line">  return [...prev, ...curr.books];</span><br><span class="line">&#125;, [&apos;Alphabet&apos;]);</span><br><span class="line"></span><br><span class="line">// allbooks = [</span><br><span class="line">//   &apos;Alphabet&apos;, &apos;Bible&apos;, &apos;Harry Potter&apos;, &apos;War and peace&apos;, </span><br><span class="line">//   &apos;Romeo and Juliet&apos;, &apos;The Lord of the Rings&apos;,</span><br><span class="line">//   &apos;The Shining&apos;</span><br><span class="line">// ]</span><br></pre></td></tr></table></figure>
<h5 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h5><p><strong><br>æ³¨æ„ï¼š å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªå¯ä»¥å…¼å®¹<code>Set </code>å’Œ<code> Array.from() </code>çš„ç¯å¢ƒï¼Œ ä½ å¯ä»¥ä½¿ç”¨<code>let orderedArray = Array.from(new Set(myArray)); <code>æ¥è·å¾—ä¸€ä¸ªç›¸åŒå…ƒç´ è¢«ç§»é™¤çš„æ•°ç»„ã€‚<br></code></code></strong><br>æ–¹æ³•ä¸€ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var myArray = [&apos;a&apos;, &apos;b&apos;, &apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;e&apos;, &apos;e&apos;, &apos;c&apos;, &apos;d&apos;, &apos;d&apos;, &apos;d&apos;, &apos;d&apos;];</span><br><span class="line">var myOrderedArray = myArray.reduce(function (accumulator, currentValue) &#123;</span><br><span class="line">  if (accumulator.indexOf(currentValue) === -1) &#123;</span><br><span class="line">    accumulator.push(currentValue);</span><br><span class="line">  &#125;</span><br><span class="line">  return accumulator</span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure></p>
<p>æ–¹æ³•äºŒï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr = [1,2,1,2,3,5,4,5,3,4,4,4,4];</span><br><span class="line">let result = arr.sort().reduce((init, current) =&gt; &#123;</span><br><span class="line">    if(init.length === 0 || init[init.length-1] !== current) &#123;</span><br><span class="line">        init.push(current);</span><br><span class="line">    &#125;</span><br><span class="line">    return init;</span><br><span class="line">&#125;, []);</span><br><span class="line">console.log(result); //[1,2,3,4,5]</span><br></pre></td></tr></table></figure></p>
<h5 id="æŒ‰é¡ºåºè¿è¡ŒPromise"><a href="#æŒ‰é¡ºåºè¿è¡ŒPromise" class="headerlink" title="æŒ‰é¡ºåºè¿è¡ŒPromise"></a>æŒ‰é¡ºåºè¿è¡ŒPromise</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Runs promises from array of functions that can return promises</span><br><span class="line"> * in chained manner</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;array&#125; arr - promise arr</span><br><span class="line"> * @return &#123;Object&#125; promise object</span><br><span class="line"> */</span><br><span class="line">function runPromiseInSequence(arr, input) &#123;</span><br><span class="line">  return arr.reduce(</span><br><span class="line">    (promiseChain, currentFunction) =&gt; promiseChain.then(currentFunction),</span><br><span class="line">    Promise.resolve(input)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// promise function 1</span><br><span class="line">function p1(a) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    resolve(a * 5);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// promise function 2</span><br><span class="line">function p2(a) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    resolve(a * 2);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// function 3  - will be wrapped in a resolved promise by .then()</span><br><span class="line">function f3(a) &#123;</span><br><span class="line"> return a * 3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// promise function 4</span><br><span class="line">function p4(a) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    resolve(a * 4);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const promiseArr = [p1, p2, f3, p4];</span><br><span class="line">runPromiseInSequence(promiseArr, 10)</span><br><span class="line">  .then(console.log);   // 1200</span><br></pre></td></tr></table></figure>
<h5 id="åŠŸèƒ½å‹å‡½æ•°ç®¡é“"><a href="#åŠŸèƒ½å‹å‡½æ•°ç®¡é“" class="headerlink" title="åŠŸèƒ½å‹å‡½æ•°ç®¡é“"></a>åŠŸèƒ½å‹å‡½æ•°ç®¡é“</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// Building-blocks to use for composition</span><br><span class="line">const double = x =&gt; x + x;</span><br><span class="line">const triple = x =&gt; 3 * x;</span><br><span class="line">const quadruple = x =&gt; 4 * x;</span><br><span class="line"></span><br><span class="line">// Function composition enabling pipe functionality</span><br><span class="line">const pipe = (...functions) =&gt; input =&gt; functions.reduce(</span><br><span class="line">    (acc, fn) =&gt; fn(acc),</span><br><span class="line">    input</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// Composed functions for multiplication of specific values</span><br><span class="line">const multiply6 = pipe(double, triple);</span><br><span class="line">const multiply9 = pipe(triple, triple);</span><br><span class="line">const multiply16 = pipe(quadruple, quadruple);</span><br><span class="line">const multiply24 = pipe(double, triple, quadruple);</span><br><span class="line"></span><br><span class="line">// Usage</span><br><span class="line">multiply6(6); // 36</span><br><span class="line">multiply9(9); // 81</span><br><span class="line">multiply16(16); // 256</span><br><span class="line">multiply24(10); // 240</span><br></pre></td></tr></table></figure>
<h5 id="ä½¿ç”¨-reduceå®ç°map"><a href="#ä½¿ç”¨-reduceå®ç°map" class="headerlink" title="ä½¿ç”¨ reduceå®ç°map"></a>ä½¿ç”¨ reduceå®ç°map</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (!Array.prototype.mapUsingReduce) &#123;</span><br><span class="line">  Array.prototype.mapUsingReduce = function(callback, thisArg) &#123;</span><br><span class="line">    return this.reduce(function(mappedArray, currentValue, index, array) &#123;</span><br><span class="line">      mappedArray[index] = callback.call(thisArg, currentValue, index, array);</span><br><span class="line">      return mappedArray;</span><br><span class="line">    &#125;, []);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[1, 2, , 3].mapUsingReduce(</span><br><span class="line">  (currentValue, index, array) =&gt; currentValue + index + array.length</span><br><span class="line">); // [5, 7, , 10]</span><br></pre></td></tr></table></figure>
<p>æ€»ä¹‹ï¼Œreduce æ–¹æ³•åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œä»¥ååœ¨é¡¹ç›®ä¸­å¤šå¤šä½¿ç”¨å§ã€‚ğŸ˜</p>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>reduce</tag>
      </tags>
  </entry>
  <entry>
    <title>JSç±»å‹åˆ¤æ–­</title>
    <url>/2020/04/14/JS%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD/</url>
    <content><![CDATA[<p>æˆ‘ä»¬éƒ½çŸ¥é“ JS æ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œè·Ÿjavaç­‰å¼ºç±»å‹è¯­è¨€ä¸åŒï¼Œæˆ‘ä»¬åªèƒ½åœ¨è¿è¡Œæ—¶æ‰çœŸæ­£çŸ¥é“æŸä¸ªå˜é‡æ˜¯å±äºå“ªä¸€ç§ç±»å‹ï¼Œå› ä¸ºåœ¨æ­¤ä¹‹å‰ï¼Œä½ å¯èƒ½æœ‰æ„æ— æ„çš„æ”¹å˜äº†å˜é‡çš„ç±»å‹ï¼Œå› ä¸ºå˜é‡çš„å€¼åŠå…¶æ•°æ®ç±»å‹å¯åœ¨å£°æ˜å‘¨æœŸå†…æ”¹å˜ï¼Œè¿™ä¹Ÿæ˜¯bugçš„æ¥æºï¼Œç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´éƒ½æ·±æœ‰ä½“ä¼šğŸ˜†ã€‚<br><a id="more"></a></p>
<h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒJS ä¸­å˜é‡åˆ†ä¸ºä¸¤ç§ç±»å‹ã€‚åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ã€‚</p>
<h4 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h4><p>åŸºæœ¬ç±»å‹åŒ…æ‹¬<code>Undefinedã€Nullã€Stringã€Numberã€Booleanã€Symbol</code>ã€‚åŸºæœ¬ç±»å‹æŒ‰å€¼è®¿é—®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯æ“ä½œä¿å­˜åœ¨å˜é‡ä¸­å®é™…çš„å€¼ã€‚</p>
<p>åŸºæœ¬ç±»å‹çš„å€¼åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°çš„ç©ºé—´ï¼Œæ˜¯è¢«ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­ã€‚ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶åŸºæœ¬ç±»å‹çš„å€¼ï¼Œä¼šåˆ›å»ºè¿™ä¸ªå€¼çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œè¿™ä¸¤ä¸ªå€¼å®Œå…¨ç‹¬ç«‹åœ°å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­ã€‚</p>
<h4 id="å¼•ç”¨ç±»å‹"><a href="#å¼•ç”¨ç±»å‹" class="headerlink" title="å¼•ç”¨ç±»å‹"></a>å¼•ç”¨ç±»å‹</h4><p>å¼•ç”¨ç±»å‹æ˜¯å¯¹è±¡ç±»å‹ï¼ŒåŒ…æ‹¬<code>Objectã€Arrayã€Functionã€Dataã€Regexpã€Error</code>ã€‚å¼•ç”¨ç±»å‹çš„å€¼æ˜¯ä¿å­˜åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼ŒJSä¸å…è®¸ç›´æ¥è®¿é—®å†…å­˜ä¸­çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ç›´æ¥è®¿é—®æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´ã€‚</p>
<p>æ“ä½œå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨æ“ä½œå¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥è¯´å¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„ã€‚ä»è€Œæœ‰<code>[1, 2] === [1, 2]</code>ä¸º<code>false</code>ã€‚</p>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>jsç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeç®—æ³•é¢˜ä¹‹ä¸¤æ•°ä¹‹å’Œ</title>
    <url>/2019/01/09/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E4%B9%8B%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
    <content><![CDATA[<h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚<br><a id="more"></a><br>ç¤ºä¾‹:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç»™å®š nums = [2, 7, 11, 15], target = 9</span><br><span class="line"></span><br><span class="line">å› ä¸º nums[0] + nums[1] = 2 + 7 = 9</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥è¿”å› [0, 1]</span><br></pre></td></tr></table></figure></p>
<h3 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h3><p>æˆ‘çš„è§£ç­”ï¼Œç®€å•æš´åŠ›ã€‚ã€‚</p>
<h4 id="è§£ç­”ä¸€"><a href="#è§£ç­”ä¸€" class="headerlink" title="è§£ç­”ä¸€"></a>è§£ç­”ä¸€</h4><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)ï¼Œ å¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬è¯•å›¾é€šè¿‡éå†æ•°ç»„çš„å…¶ä½™éƒ¨åˆ†æ¥å¯»æ‰¾å®ƒæ‰€å¯¹åº”çš„ç›®æ ‡å…ƒç´ ï¼Œè¿™å°†è€—è´¹ O(n) çš„æ—¶é—´ã€‚å› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</li>
<li>æ‰§è¡Œæ—¶é—´ 148ms<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @param &#123;number[]&#125; nums</span><br><span class="line"> * @param &#123;number&#125; target</span><br><span class="line"> * @return &#123;number[]&#125;</span><br><span class="line"> */</span><br><span class="line">var twoSum = function(nums, target) &#123;</span><br><span class="line">    let length = nums.length;</span><br><span class="line">    for(let i = 0; i &lt;length; i++)&#123;</span><br><span class="line">        for(let j = i+1; j &lt; length; j++)&#123;</span><br><span class="line">            if(nums[i] + nums[j] === target)&#123;</span><br><span class="line">                return [i,j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="è§£ç­”äºŒ"><a href="#è§£ç­”äºŒ" class="headerlink" title="è§£ç­”äºŒ"></a>è§£ç­”äºŒ</h4><p>ç”¨es6çš„Map , éå†ä¸€æ¬¡å³å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var twoSum = function(nums, target) &#123;</span><br><span class="line">    let targetMap = new Map()</span><br><span class="line">    for (let i = 0; i &lt; nums.length; i++) &#123;</span><br><span class="line">      const key = target - nums[i]</span><br><span class="line">      if (targetMap.has(key)) &#123;</span><br><span class="line">        return [targetMap.get(key), i]</span><br><span class="line">      &#125;</span><br><span class="line">      targetMap.set(nums[i], i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>LeetCode</tag>
        <tag>ç®—æ³•</tag>
        <tag>ä¸¤æ•°ä¹‹å’Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>github actions å‰ç«¯éƒ¨ç½²æœåŠ¡å™¨</title>
    <url>/2021/07/04/github-actions-%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<p>å‰ç«¯æ¯æ¬¡éƒ¨ç½²éƒ½è¦æ‰‹åŠ¨æ‰“åŒ…æ„Ÿè§‰å¥½éº»çƒ¦ï¼Œæµªè´¹äº†å¤§é‡æ—¶é—´ä¸è¯´è¿˜å®¹æ˜“å‡ºé”™ã€‚æ‰€ä»¥å°±ç ”ç©¶äº†ä¸€ä¸‹github çš„github actionsã€‚githubè‡ªå·±æ¨å‡ºçš„æŒç»­é›†æˆå·¥å…·ã€‚<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name: Blog CI/CD</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master  # åªåœ¨masterä¸Špushè§¦å‘éƒ¨ç½²</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  build-production:</span><br><span class="line"></span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    strategy:</span><br><span class="line">      matrix:</span><br><span class="line">        node-version: [12.x] # é…ç½®æ‰€éœ€nodeç‰ˆæœ¬</span><br><span class="line">    steps:  # è‡ªåŠ¨åŒ–æ­¥éª¤</span><br><span class="line">    - uses: actions/checkout@v2   # ç¬¬ä¸€æ­¥ï¼Œæ£€å‡ºä»“åº“å‰¯æœ¬</span><br><span class="line"></span><br><span class="line">    - name: Use Node.js $&#123;&#123; matrix.node-version &#125;&#125; #è§„å®šnode.jsç‰ˆæœ¬(å¯ä¸é…ç½®)</span><br><span class="line">      uses: actions/setup-node@v1</span><br><span class="line">      with:</span><br><span class="line">        node-version: $&#123;&#123; matrix.node-version &#125;&#125;</span><br><span class="line"></span><br><span class="line">    - name: Install dependencies  # ç¬¬äºŒæ­¥ï¼Œå®‰è£…ä¾èµ–</span><br><span class="line">      run: npm install</span><br><span class="line"></span><br><span class="line">    - name: Build                 # ç¬¬ä¸‰æ­¥ï¼Œæ‰“åŒ…ä»£ç </span><br><span class="line">      run: npm run build --if-present</span><br><span class="line"></span><br><span class="line">    # Deploy</span><br><span class="line">    - name: Deploy</span><br><span class="line">      uses: easingthemes/ssh-deploy@v2.0.7</span><br><span class="line">      env:</span><br><span class="line">        SSH_PRIVATE_KEY: $&#123;&#123; secrets.ACCESS_TOKEN &#125;&#125; # æœåŠ¡ç«¯ç§é’¥</span><br><span class="line">        ARGS: &quot;-avz --delete&quot;</span><br><span class="line">        SOURCE: &quot;dist/&quot;</span><br><span class="line">        REMOTE_HOST: $&#123;&#123; secrets.SSH_HOST &#125;&#125;</span><br><span class="line">        REMOTE_USER: $&#123;&#123; secrets.SSH_USERNAME &#125;&#125;</span><br><span class="line">        TARGET: $&#123;&#123; secrets.TARGET &#125;&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>CI</tag>
        <tag>éƒ¨ç½²</tag>
        <tag>æŒç»­é›†æˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>js å•å¼•å·æ›¿æ¢æˆåŒå¼•å·,åŒå¼•å·æ›¿æ¢æˆå•å¼•å·</title>
    <url>/2021/03/25/js-%E5%8D%95%E5%BC%95%E5%8F%B7%E6%9B%BF%E6%8D%A2%E6%88%90%E5%8F%8C%E5%BC%95%E5%8F%B7-%E5%8F%8C%E5%BC%95%E5%8F%B7%E6%9B%BF%E6%8D%A2%E6%88%90%E5%8D%95%E5%BC%95%E5%8F%B7/</url>
    <content><![CDATA[<p>jsæ–¹æ³•ä¼ å‚<code>data</code>ä¸­æœ‰åŒå¼•å·æ—¶ï¼Œä¼šæŠ¥é”™ã€‚æ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&apos;&lt;a href=&quot;#&quot; style=&quot;text-decoration: none;color: #7b7de5;margin-left: 10px&quot; onclick=&quot;handleAcClick(&apos;+data+&apos;)&quot;&gt;å›æ‰§ä¿¡æ¯&lt;/a&gt;&apos;</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥æŠŠå‚æ•°ä¸­çš„åŒå¼•å·è½¬æ¢ä¸ºå•å¼•å·ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">JSON.stringify(data).replace(/\&quot;/g,&quot;&apos;&quot;)</span><br></pre></td></tr></table></figure></p>
<p>æœ€åä½¿ç”¨å‚æ•°çš„æ—¶å€™å†æŠŠå•å¼•å·è½¬æ¢ä¸ºåŒå¼•å·å°±è¡Œäº†<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">JSON.parse(data.replace(/&apos;/g, &apos;&quot;&apos;))</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>railså•å…ƒæµ‹è¯•github actions</title>
    <url>/2021/07/08/rails%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95github-actions/</url>
    <content><![CDATA[<p>å­¦ rails æ—¶ç”¨åˆ°äº†å•å…ƒæµ‹è¯•ï¼Œé‚£å°±ç”¨ github actions æ¥è·‘æµ‹è¯•å§ã€‚</p>
<p>ä¸‹é¢æ˜¯workflowé…ç½®ï¼š<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name: Ruby</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches: [ master ]</span><br><span class="line">  pull_request:</span><br><span class="line">    branches: [ master ]</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  test:</span><br><span class="line"></span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line"></span><br><span class="line">    services:</span><br><span class="line">      mysql:</span><br><span class="line">        image: mysql:5.7</span><br><span class="line">        env:</span><br><span class="line">          MYSQL_ROOT_PASSWORD: root</span><br><span class="line">          MYSQL_DATABASE: app_db_test</span><br><span class="line">        ports:</span><br><span class="line">          - 3306</span><br><span class="line">        options: &gt;-</span><br><span class="line">          --health-cmd=&quot;mysqladmin ping&quot;</span><br><span class="line">          --health-interval=10s</span><br><span class="line">          --health-timeout=5s</span><br><span class="line">          --health-retries=3</span><br><span class="line"></span><br><span class="line">    steps:</span><br><span class="line">      - uses: actions/checkout@v1</span><br><span class="line"></span><br><span class="line">      - name: Set up Ruby 2.6.6</span><br><span class="line">        uses: ruby/setup-ruby@v1</span><br><span class="line">        with:</span><br><span class="line">          ruby-version: 2.6.6</span><br><span class="line"></span><br><span class="line">      - name: Gem cache</span><br><span class="line">        uses: actions/cache@v1</span><br><span class="line">        with:</span><br><span class="line">          path: vendor/bundle</span><br><span class="line">          key: $&#123;&#123; runner.os &#125;&#125;-gems-$&#123;&#123; hashFiles(&apos;**/Gemfile.lock&apos;) &#125;&#125;</span><br><span class="line">          restore-keys: |</span><br><span class="line">            $&#123;&#123; runner.os &#125;&#125;-gems-</span><br><span class="line"></span><br><span class="line">      - name: Verify MySQL connection from host</span><br><span class="line">        run: |</span><br><span class="line">          sudo apt-get install -y mysql-client libmysqlclient-dev</span><br><span class="line">          sudo /etc/init.d/mysql start</span><br><span class="line">          mysql -h 127.0.0.1 --port $&#123;&#123; job.services.mysql.ports[3306] &#125;&#125; -u root -proot -e &quot;CREATE DATABASE IF NOT EXISTS app_db_test;&quot;</span><br><span class="line"></span><br><span class="line">      - name: Bundle install, setup DB and run tests</span><br><span class="line">        env:</span><br><span class="line">          RAILS_ENV: test</span><br><span class="line">          DB_PASSWORD: root</span><br><span class="line">          DB_PORT: $&#123;&#123; job.services.mysql.ports[3306] &#125;&#125;</span><br><span class="line">        run: |</span><br><span class="line">          cp config/database.yml.ci config/database.yml</span><br><span class="line">          gem install bundler</span><br><span class="line">          bundle config path vendor/bundle</span><br><span class="line">          bundle install --jobs 4 --retry 3</span><br><span class="line">          bundle exec rails db:setup</span><br><span class="line">          bundle exec rails test</span><br></pre></td></tr></table></figure></p>
<p>database.yml.ci é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">default: &amp;default</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  encoding: utf8mb4</span><br><span class="line">  pool: &lt;%= ENV.fetch(&quot;RAILS_MAX_THREADS&quot;) &#123; 5 &#125; %&gt;</span><br><span class="line">  username: root</span><br><span class="line">  password: root</span><br><span class="line"></span><br><span class="line">test:</span><br><span class="line">  &lt;&lt;: *default</span><br><span class="line">  database: app_db_test</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>æŒç»­é›†æˆ</tag>
        <tag>github actions</tag>
      </tags>
  </entry>
  <entry>
    <title>vpsä¸€é”®æ­å»ºssè„šæœ¬</title>
    <url>/2019/07/27/vps%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAss%E8%84%9A%E6%9C%AC/</url>
    <content><![CDATA[<h3 id="å®‰è£…è„šæœ¬"><a href="#å®‰è£…è„šæœ¬" class="headerlink" title="å®‰è£…è„šæœ¬"></a>å®‰è£…è„šæœ¬</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget --no-check-certificate http://down.whsir.com/downloads/shadowsocks-go.sh</span><br><span class="line">chmod +x shadowsocks-go.sh</span><br><span class="line">./shadowsocks-go.sh 2&gt;&amp;1 | tee shadowsocks-go.log</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="å¸è½½æ–¹æ³•"><a href="#å¸è½½æ–¹æ³•" class="headerlink" title="å¸è½½æ–¹æ³•"></a>å¸è½½æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./shadowsocks-go.sh uninstall</span><br></pre></td></tr></table></figure>
<h3 id="ç”¨æˆ·å¯†ç é…ç½®"><a href="#ç”¨æˆ·å¯†ç é…ç½®" class="headerlink" title="ç”¨æˆ·å¯†ç é…ç½®"></a>ç”¨æˆ·å¯†ç é…ç½®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi /etc/shadowsocks/config.json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;:&quot;0.0.0.0&quot;,  //ä½ çš„ä¸»æœºIP</span><br><span class="line">    &quot;server_port&quot;:xxxx,  //ç«¯å£</span><br><span class="line">    &quot;local_port&quot;:1080,</span><br><span class="line">    &quot;password&quot;:&quot;xxxx&quot;,</span><br><span class="line">    &quot;method&quot;:&quot;aes-256-cfb&quot;,</span><br><span class="line">    &quot;timeout&quot;:600</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/etc/init.d/shadowsocks restart</span><br></pre></td></tr></table></figure>
<h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¯åŠ¨ï¼š/etc/init.d/shadowsocks start</span><br><span class="line">åœæ­¢ï¼š/etc/init.d/shadowsocks stop</span><br><span class="line">é‡å¯ï¼š/etc/init.d/shadowsocks restart</span><br><span class="line">çŠ¶æ€ï¼š/etc/init.d/shadowsocks status</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>vps</tag>
        <tag>ss</tag>
      </tags>
  </entry>
  <entry>
    <title>äº‹ä»¶æ•è·,å†’æ³¡,ä»£ç†</title>
    <url>/2022/01/26/%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7-%E5%86%92%E6%B3%A1-%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<p>äº‹ä»¶å†’æ³¡ï¼š äº‹ä»¶é»˜è®¤æ˜¯ç”±ä¸‹å¾€ä¸Šçš„å†’æ³¡æ‰§è¡Œæ–¹å¼ã€‚ä»¥ç‚¹å‡»äº‹ä»¶ä¸ºä¾‹ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»å­å…ƒç´ ä¹Ÿèƒ½è§¦å‘çˆ¶å…ƒç´ åŠä»¥ä¸Šå…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ã€‚äº‹ä»¶æ‰§è¡Œé¡ºåºç”±ä¸‹è‡³ä¸Šï¼Œè¿™å°±æ˜¯å†’æ³¡äº‹ä»¶</p>
<p>äº‹ä»¶æ•è·ï¼šæ‰§è¡Œæ–¹å¼æ˜¯ç”±ä¸Šå¾€ä¸‹çš„æ•è·æ–¹å¼ã€‚è¿˜æ˜¯ä»¥ç‚¹å‡»äº‹ä»¶ä¸ºä¾‹ï¼Œå½“ä¸€ä¸ªå­å…ƒç´ ç»‘å®šäº†ç‚¹å‡»äº‹ä»¶ï¼Œæˆ‘ä»¬ç‚¹å‡»å­å…ƒç´ æ—¶ï¼Œçˆ¶å…ƒç´ åŠä»¥ä¸Šçš„å…ƒç´ ç»‘å®šçš„ç‚¹å‡»äº‹ä»¶ä¹Ÿä¼šæ‰§è¡Œã€‚äº‹ä»¶çš„æ‰§è¡Œé¡ºåºæ—¶ç”±ä¸Šè‡³ä¸‹ï¼Œè¿™å°±æ˜¯æ•è·äº‹ä»¶</p>
<a id="more"></a>
<p>äº‹ä»¶ä»£ç†ï¼š äº‹ä»¶ä»£ç†æ˜¯åŸºäºäº‹ä»¶å†’æ³¡ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»å­å…ƒç´ ä¹Ÿèƒ½è§¦å‘çˆ¶å…ƒç´ åŠä»¥ä¸Šå…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ç»™çˆ¶å…ƒç´ æ·»åŠ äº‹ä»¶å‡½æ•°ï¼Œé€šè¿‡åˆ¤æ–­å½“å‰ç‚¹å‡»çš„æ˜¯ä¸æ˜¯å­å…ƒç´ æ¥æ·»åŠ ä¸€äº›å¤„ç†ã€‚ è¿™æ ·æˆ‘ä¹ˆå°±ä¸ç”¨ç»™æ¯ä¸€ä¸ªå­å…ƒç´ æ·»åŠ äº‹ä»¶ï¼Œå¯¹äºåŠ¨æ€æ·»åŠ çš„å­å…ƒç´ ä¹Ÿé€‚ç”¨ã€‚</p>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>äº‹ä»¶æ•è·</tag>
        <tag>äº‹ä»¶å†’æ³¡</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯</title>
    <url>/2022/01/24/%E4%BC%98%E5%8C%96%E6%89%93%E5%8C%85%E4%BD%93%E7%A7%AF/</url>
    <content><![CDATA[<p>æœ€è¿‘å‘ç°é¡¹ç›®æ‰“åŒ…ä½“ç§¯ç«Ÿç„¶æœ‰20Mäº†ï¼Œ æƒ³äº†æƒ³é¡¹ç›®ç¡®å®æœ‰å‡ å¼ å›¾ç‰‡ä½“ç§¯å¾ˆå¤§ï¼Œè¿˜å¼•å…¥äº†echartsï¼Œ ä½†ä¸è‡³äºä½“ç§¯è¿™ä¹ˆå¤§å§ï¼Œäºæ˜¯å¼€å§‹ç ”ç©¶webpackæ‰“åŒ…äº†ã€‚<br><a id="more"></a><br>é¦–å…ˆå®‰è£…<code></code>webpack-bundle-analyzer` æ’ä»¶ï¼Œ æ‰¾å‡ºæœ€å ç”¨ç©ºé—´çš„æ–‡ä»¶æœ‰å“ªäº›ã€‚</p>
<p><code>npm install webpack-bundle-analyzer -D</code></p>
<p>æˆ‘æ˜¯ç”¨çš„<code>vue-cli4</code>ï¼Œ æ‰€ä»¥åœ¨<code>vue.config.js</code>é‡Œé¢æ·»åŠ å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const BundleAnalyzerPlugin = require(&quot;webpack-bundle-analyzer&quot;).BundleAnalyzerPlugin;</span><br><span class="line"> </span><br><span class="line">// å±•ç¤ºå›¾å½¢åŒ–ä¿¡æ¯</span><br><span class="line">chainWebpack: config =&gt; &#123;</span><br><span class="line">  config</span><br><span class="line">    .plugin(&apos;webpack-bundle-analyzer&apos;)</span><br><span class="line">    .use(BundleAnalyzerPlugin)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶ååœ¨<code>package.json</code>é‡Œé¢æ·»åŠ <code>&quot;analyzer&quot;: &quot;use_analyzer=true npm run serve&quot;</code><br>å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://static01.imgkr.com/temp/8589678b5bcd43cc9107f90eb60f701e.jpg" alt="&#39;æ‰“åŒ…åˆ†æ&#39;"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œecharts å¯ä»¥è¯´æ˜¯ç½ªé­ç¥¸é¦–äº†ï¼Œæºç åŠ ä¸Šåœ°å›¾jsonæ–‡ä»¶ï¼Œå ç”¨äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ç©ºé—´ã€‚elementUIçš„æ–‡ä»¶ä¹Ÿå¾ˆå¤§ã€‚</p>
<p>é¦–å…ˆæ˜¯elementUI çš„æŒ‰éœ€åŠ è½½ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    &apos;@vue/app&apos;</span><br><span class="line">  ],</span><br><span class="line">  plugins: [</span><br><span class="line">    [</span><br><span class="line">      &quot;component&quot;,</span><br><span class="line">      &#123;</span><br><span class="line">        libraryName: &quot;element-ui&quot;,</span><br><span class="line">        styleLibraryName: &quot;theme-chalk&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ¥ç€ä¼˜åŒ–echartsæŒ‰éœ€åŠ è½½ï¼š<br><code>npm install babel-plugin-equire -D</code></p>
<figure class="highlight plain"><figcaption><span>echarts </span></figcaption><table><tr><td class="code"><pre><span class="line">  // å†™ä¸Šä½ éœ€è¦çš„ echarts api</span><br><span class="line">  &quot;bar&quot;,</span><br><span class="line">  &quot;line&quot;,</span><br><span class="line">  &quot;map&quot;</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">export default echarts;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>vue.config.js</code>é‡Œé¢æ·»åŠ <br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    &apos;@vue/app&apos;</span><br><span class="line">  ],</span><br><span class="line">  plugins: [</span><br><span class="line">    [</span><br><span class="line">      &quot;component&quot;,</span><br><span class="line">      &#123;</span><br><span class="line">        libraryName: &quot;element-ui&quot;,</span><br><span class="line">        styleLibraryName: &quot;theme-chalk&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;equire&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>é¡µé¢åº”ç”¨ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ç›´æ¥å¼•ç”¨</span><br><span class="line"> import echarts from &apos;@/lib/util/echarts.js&apos; </span><br><span class="line"> </span><br><span class="line"> this.myChart = echarts.init(this.$refs.chart)</span><br></pre></td></tr></table></figure></p>
<p>åˆ é™¤æ— ç”¨çš„æ’ä»¶ï¼Œé¿å…åŠ è½½å¤šä½™çš„èµ„æº<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chainWebpack: config =&gt; &#123;</span><br><span class="line">    // ç§»é™¤prefetchæ’ä»¶ï¼Œé¿å…åŠ è½½å¤šä½™çš„èµ„æº</span><br><span class="line">    config.plugins.delete(&apos;prefetch&apos;)</span><br><span class="line">    / ç§»é™¤ preload æ’ä»¶ï¼Œé¿å…åŠ è½½å¤šä½™çš„èµ„æº</span><br><span class="line">    config.plugins.delete(&apos;preload&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å›¾ç‰‡æŒ‰éœ€åŠ è½½:  <code>npm install image-webpack-loader -D</code><br><code>vue.config.js</code>é‡Œé¢ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">config.module.rule(&apos;images&apos;)</span><br><span class="line">    .test(/\.(png|jpe?g|gif|webp)(\?.*)?$/)</span><br><span class="line">    .use(&apos;image-webpack-loader&apos;)</span><br><span class="line">    .loader(&apos;image-webpack-loader&apos;)</span><br><span class="line">    .options(&#123;</span><br><span class="line">      bypassOnDebug: true</span><br><span class="line">    &#125;)</span><br><span class="line">    .end()</span><br></pre></td></tr></table></figure></p>
<p>æŠ½ç¦» css æ”¯æŒæŒ‰éœ€åŠ è½½: <code>npm install mini-css-extract-plugin -D</code><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chainWebpack: config =&gt; &#123;</span><br><span class="line">  let miniCssExtractPlugin = new MiniCssExtractPlugin(&#123;</span><br><span class="line">    filename: &apos;assets/[name].[hash:8].css&apos;,</span><br><span class="line">    chunkFilename: &apos;assets/[name].[hash:8].css&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">  config.plugin(&apos;extract-css&apos;).use(miniCssExtractPlugin)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>gzipå‹ç¼©ä»£ç : <code>npm install compression-webpack-plugin -D</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const CompressionWebpackPlugin = require(&apos;compression-webpack-plugin&apos;);</span><br><span class="line"></span><br><span class="line">// å¼€å¯gzipå‹ç¼©</span><br><span class="line">  config.plugins.push(</span><br><span class="line">    new CompressionWebpackPlugin(</span><br><span class="line">      &#123;</span><br><span class="line">        filename: info =&gt; &#123;</span><br><span class="line">          return `$&#123;info.path&#125;.gz$&#123;info.query&#125;`</span><br><span class="line">        &#125;,</span><br><span class="line">        algorithm: &apos;gzip&apos;,</span><br><span class="line">        threshold: 10240, // åªæœ‰å¤§å°å¤§äºè¯¥å€¼çš„èµ„æºä¼šè¢«å¤„ç† 10240</span><br><span class="line">        test: new RegExp(&apos;\\.(&apos; + [&apos;js&apos;].join(&apos;|&apos;) + &apos;)$&apos;</span><br><span class="line">        ),</span><br><span class="line">        minRatio: 0.8, // åªæœ‰å‹ç¼©ç‡å°äºè¿™ä¸ªå€¼çš„èµ„æºæ‰ä¼šè¢«å¤„ç†</span><br><span class="line">        deleteOriginalAssets: false // åˆ é™¤åŸæ–‡ä»¶</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>webpack</tag>
        <tag>æ‰“åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯ä¸‹è½½ excel</title>
    <url>/2021/07/02/%E5%89%8D%E7%AB%AF%E4%B8%8B%E8%BD%BD-excel/</url>
    <content><![CDATA[<p>å‰ç«¯å¯¼å‡ºexcel:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import XLSX from &apos;xlsx&apos;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * å¯¼å‡ºExcelçš„å¤„ç†å‡½æ•°--é’ˆå¯¹table</span><br><span class="line"> * @param &#123;Array&#125; headers: [&#123;key: &apos;date&apos;, title: &apos;æ—¥æœŸ&apos;&#125;, &#123;key: &apos;name&apos;, title: &apos;åç§°&apos;&#125;]</span><br><span class="line"> * @param &#123;Array&#125; data   : [&#123;date: &apos;2019-05-31&apos;, name: &apos;megen.huang&apos;&#125;, &#123;date: &apos;name&apos;, name: &apos;å°æ˜&apos;&#125;]</span><br><span class="line"> * @param &#123;String&#125; fileName: &apos;å¯¼å‡ºç»“æœ.xlsx&apos;</span><br><span class="line"> * */</span><br><span class="line">export default function Export2Excel (headers, data, fileName = &apos;å¯¼å‡ºç»“æœ.xlsx&apos;) &#123;</span><br><span class="line">  const _headers = headers.map((item, i) =&gt; Object.assign(&#123;&#125;, &#123; key: item.key, title: item.title, position: String.fromCharCode(65 + i) + 1 &#125;)).reduce((prev, next) =&gt; Object.assign(&#123;&#125;, prev, &#123; [next.position]: &#123; key: next.key, v: next.title &#125; &#125;), &#123;&#125;)</span><br><span class="line"></span><br><span class="line">  const _data = data.map((item, i) =&gt; headers.map((key, j) =&gt; Object.assign(&#123;&#125;, &#123; content: item[key.key], position: String.fromCharCode(65 + j) + (i + 2) &#125;)))</span><br><span class="line">  // å¯¹åˆšæ‰çš„ç»“æœè¿›è¡Œé™ç»´å¤„ç†ï¼ˆäºŒç»´æ•°ç»„å˜æˆä¸€ç»´æ•°ç»„ï¼‰</span><br><span class="line">    .reduce((prev, next) =&gt; prev.concat(next))</span><br><span class="line">    // è½¬æ¢æˆ worksheet éœ€è¦çš„ç»“æ„</span><br><span class="line">    .reduce((prev, next) =&gt; Object.assign(&#123;&#125;, prev, &#123; [next.position]: &#123; v: next.content &#125; &#125;), &#123;&#125;)</span><br><span class="line"></span><br><span class="line">  // åˆå¹¶ headers å’Œ data</span><br><span class="line">  const output = Object.assign(&#123;&#125;, _headers, _data)</span><br><span class="line">  // è·å–æ‰€æœ‰å•å…ƒæ ¼çš„ä½ç½®</span><br><span class="line">  const outputPos = Object.keys(output)</span><br><span class="line">  // è®¡ç®—å‡ºèŒƒå›´ ,[&quot;A1&quot;,..., &quot;H2&quot;]</span><br><span class="line">  const ref = `$&#123;outputPos[0]&#125;:$&#123;outputPos[outputPos.length - 1]&#125;`</span><br><span class="line">  // æ„å»º workbook å¯¹è±¡</span><br><span class="line">  const wb = &#123;</span><br><span class="line">    SheetNames: [&apos;mySheet&apos;],</span><br><span class="line">    Sheets: &#123;</span><br><span class="line">      mySheet: Object.assign(</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">        output,</span><br><span class="line">        &#123;</span><br><span class="line">          &apos;!ref&apos;: ref,</span><br><span class="line">          // eslint-disable-next-line</span><br><span class="line">            &apos;!cols&apos;: headers.map(item =&gt; (&#123;wpx: 100&#125;))</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // å¯¼å‡º Excel</span><br><span class="line">  XLSX.writeFile(wb, fileName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ æ²¹!</title>
    <url>/2022/02/12/%E5%8A%A0%E6%B2%B9/</url>
    <content><![CDATA[<p>æœ€è¿‘é¢è¯•ä¸å¤ªé¡ºåˆ©ï¼Œå†ä¸€æ¬¡æ„Ÿå¹å¹³æ—¶çœŸçš„æ²¡æœ‰å¥½å¥½å‡†å¤‡ï¼Œé‡åˆ°å¥½çš„å·¥ä½œæœºä¼šæœ€ååªèƒ½æ„Ÿå¹ï¼Œæœºä¼šæ˜¯ç•™ç»™æœ‰å‡†å¤‡çš„äººçš„ã€‚<br>ä¸è¿‡ï¼Œä¸è¦æ°”é¦ï¼ŒåŠ æ²¹å§ï¼å¥½å¥½æ€»ç»“ï¼Œæ¥ç€å¹²ï¼ï¼ï¼</p>
<p>å¾ˆä¹…æ²¡æœ‰å†™æ—¥è®°äº†ï¼Œæ„Ÿè§‰å¯ä»¥ç»å¸¸å†™å†™ï¼Œè®°å½•å¹³æ—¶çš„ä¸€äº›æ„Ÿæƒ³ï¼Œå¤šå¹´åå†çœ‹åº”è¯¥å¾ˆæœ‰è¶£å§ğŸ˜</p>
]]></content>
  </entry>
  <entry>
    <title>å¤šæ¡ä»¶åˆ¤æ–­çš„å¦ä¸€ç§å†™æ³•</title>
    <url>/2020/02/23/%E5%A4%9A%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E7%9A%84%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%86%99%E6%B3%95/</url>
    <content><![CDATA[<p>åœ¨å†™ä¸šåŠ¡é€»è¾‘åˆ°æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç¢°åˆ°å†™å¾ˆå¤šif, å°‘æ•°è¿˜å¥½ï¼Œå¤šä¸ªçš„è¯å¯èƒ½ä¼šç”¨switch, éšç€ä¸šåŠ¡é€»è¾‘è¶Šæ¥è¶Šå¤æ‚ï¼Œä»£ç å¯èƒ½è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å¦ä¸€ç§å†™æ³•ç®€åŒ–ä»£ç ã€‚<br><a id="more"></a></p>
<h3 id="ES6-Map"><a href="#ES6-Map" class="headerlink" title="ES6 Map"></a>ES6 Map</h3><p>ä»é˜®ä¸€å³°è€å¸ˆçš„åŸºç¡€æ•™ç¨‹é‡Œå¯ä»¥çŸ¥é“ Map çš„å¤§è‡´ç”¨æ³•ï¼š </p>
<p>Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒObject ç»“æ„æä¾›äº†â€œå­—ç¬¦ä¸²â€”å€¼â€çš„å¯¹åº”ï¼ŒMap ç»“æ„æä¾›äº†â€œå€¼â€”å€¼â€çš„å¯¹åº”ï¼Œæ˜¯ä¸€ç§æ›´å®Œå–„çš„ Hash ç»“æ„å®ç°ã€‚å¦‚æœä½ éœ€è¦â€œé”®å€¼å¯¹â€çš„æ•°æ®ç»“æ„ï¼ŒMap æ¯” Object æ›´åˆé€‚ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const m = new Map();</span><br><span class="line">const o = &#123;p: &apos;Hello World&apos;&#125;;</span><br><span class="line"></span><br><span class="line">m.set(o, &apos;content&apos;)</span><br><span class="line">m.get(o) // &quot;content&quot;</span><br><span class="line"></span><br><span class="line">m.has(o) // true</span><br><span class="line">m.delete(o) // true</span><br><span class="line">m.has(o) // false</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä½¿ç”¨ Map ç»“æ„çš„setæ–¹æ³•ï¼Œå°†å¯¹è±¡oå½“ä½œmçš„ä¸€ä¸ªé”®ï¼Œç„¶ååˆä½¿ç”¨getæ–¹æ³•è¯»å–è¿™ä¸ªé”®ï¼Œæ¥ç€ä½¿ç”¨deleteæ–¹æ³•åˆ é™¤äº†è¿™ä¸ªé”®ã€‚</p>
<p>ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å‘ Map æ·»åŠ æˆå‘˜ã€‚ä½œä¸ºæ„é€ å‡½æ•°ï¼ŒMap ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ã€‚è¯¥æ•°ç»„çš„æˆå‘˜æ˜¯ä¸€ä¸ªä¸ªè¡¨ç¤ºé”®å€¼å¯¹çš„æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const map = new Map([</span><br><span class="line">  [&apos;name&apos;, &apos;å¼ ä¸‰&apos;],</span><br><span class="line">  [&apos;title&apos;, &apos;Author&apos;]</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">map.size // 2</span><br><span class="line">map.has(&apos;name&apos;) // true</span><br><span class="line">map.get(&apos;name&apos;) // &quot;å¼ ä¸‰&quot;</span><br><span class="line">map.has(&apos;title&apos;) // true</span><br><span class="line">map.get(&apos;title&apos;) // &quot;Author&quot;</span><br></pre></td></tr></table></figure>
<p>åˆ©ç”¨ä»¥ä¸Šè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡æ„å¤šä¸ª if ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//å°†åˆ¤æ–­æ¡ä»¶ä½œä¸ºå¯¹è±¡çš„å±æ€§åï¼Œå°†å¤„ç†é€»è¾‘ä½œä¸ºå¯¹è±¡çš„å±æ€§å€¼</span><br><span class="line">var Statistics = function()&#123;</span><br><span class="line">  console.log(&apos;æ‰§è¡Œ&apos;)</span><br><span class="line">&#125;</span><br><span class="line">const comparativeTotles = new Map([</span><br><span class="line">    [0,Statistics],</span><br><span class="line">    [1,Statistics],</span><br><span class="line">    [2,Statistics],</span><br><span class="line">    [3,Statistics]</span><br><span class="line"> ])</span><br><span class="line">let map = function(val)&#123;</span><br><span class="line">      return comparativeTotles.get(val)</span><br><span class="line">&#125; </span><br><span class="line">let getMap  = map(1); //å¦‚æœæŸ¥æ‰¾ä¸åˆ°è¿”å›undefined</span><br><span class="line">if(!getMap)&#123;</span><br><span class="line">      console.log(&apos;æŸ¥æ‰¾ä¸åˆ°&apos;)</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    concaozuole.log(&apos;æ‰§è¡Œæ“ä½œ&apos;)</span><br><span class="line">      getMap()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ¹æ®å­èŠ‚ç‚¹å¯»æ‰¾çˆ¶èŠ‚ç‚¹è·¯å¾„</title>
    <url>/2020/05/03/%E6%A0%B9%E6%8D%AE%E5%AD%90%E8%8A%82%E7%82%B9%E5%AF%BB%E6%89%BE%E7%88%B6%E8%8A%82%E7%82%B9%E8%B7%AF%E5%BE%84/</url>
    <content><![CDATA[<p>æœ€è¿‘é¡¹ç›®é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œåœ¨ä¸€ä¸ªæ ‘ç»“æ„é‡Œï¼Œæ ¹æ®å­èŠ‚ç‚¹å¯»æ‰¾çˆ¶èŠ‚ç‚¹çš„è·¯å¾„ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚<br><a id="more"></a></p>
<h4 id="æ–¹æ³•ä¸€ï¼š"><a href="#æ–¹æ³•ä¸€ï¼š" class="headerlink" title="æ–¹æ³•ä¸€ï¼š"></a>æ–¹æ³•ä¸€ï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getParent(array, nodeCode)&#123;</span><br><span class="line">  let stack = [];</span><br><span class="line">  let going = true;</span><br><span class="line">  </span><br><span class="line">  let walker = (array, nodeCode) =&gt; &#123;</span><br><span class="line">      array.forEach(item =&gt; &#123;</span><br><span class="line">          if (!going) return;</span><br><span class="line">          stack.push(item[&apos;nodeCode&apos;]);</span><br><span class="line">          if (item[&apos;nodeCode&apos;] === nodeCode) &#123;</span><br><span class="line">              going = false;</span><br><span class="line">          &#125; else if (item[&apos;child&apos;]) &#123;</span><br><span class="line">              walker(item[&apos;child&apos;], nodeCode);</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">              stack.pop();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      if (going) stack.pop();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  walker(array, nodeCode);</span><br><span class="line"></span><br><span class="line">  return stack.join(&apos;,&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ–¹æ³•äºŒï¼š"><a href="#æ–¹æ³•äºŒï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼š"></a>æ–¹æ³•äºŒï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getParent(data, target)&#123;</span><br><span class="line"></span><br><span class="line">  const get = (children, target, record = []) =&gt; (</span><br><span class="line">    children.reduce((result, &#123; nodeCode, child: innerChildren &#125;) =&gt; &#123;</span><br><span class="line">      if (nodeCode === target) &#123;</span><br><span class="line">        return [...record, target]</span><br><span class="line">      &#125;</span><br><span class="line">      if (innerChildren) &#123;</span><br><span class="line">        return [...result, ...get(innerChildren, target, [...record, nodeCode])]</span><br><span class="line">      &#125;</span><br><span class="line">      return result</span><br><span class="line">    &#125;, []))</span><br><span class="line"></span><br><span class="line">  return get(data, target).join(&apos;,&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>æµ‹è¯•æŒç»­é›†æˆ</title>
    <url>/2020/09/27/%E6%B5%8B%E8%AF%95%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/</url>
    <content><![CDATA[<p>æ·»åŠ äº†travisçš„ä¸€ä¸ªè„šæœ¬ï¼Œè¿™æ ·æ¯æ¬¡åªè¦æäº¤ä¸€ä¸‹åšå®¢æ–‡ä»¶å°±è¡Œäº†ï¼Œæ‰“åŒ…çš„å·¥ä½œå°±äº¤è¿˜ç»™travisäº†ã€‚æŒç»­é›†æˆçœŸçš„å¾ˆå¥½ç”¨ï¼Œæå¤§åœ°æå‡äº†æ•ˆç‡ã€‚</p>
]]></content>
      <tags>
        <tag>æŒç»­é›†æˆ</tag>
        <tag>æµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•ä¹‹æ•°ç»„(ä¸€)</title>
    <url>/2020/04/25/%E7%AE%97%E6%B3%95%E4%B9%8B%E6%95%B0%E7%BB%84-%E4%B8%80/</url>
    <content><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ’åºåå®ç°ç¬¬ä¸€å¤§çš„å€¼æ”¾åœ¨æœ€å·¦è¾¹ï¼ŒåŒæ—¶æŠŠç¬¬äºŒå¤§çš„å€¼æ”¾åœ¨æœ€å³è¾¹ï¼Œç¬¬ä¸‰å¤§çš„å€¼æ”¾åœ¨å·¦è¾¹ç¬¬äºŒä½ï¼Œç¬¬å››å¤§çš„å€¼æ”¾åœ¨å³è¾¹ç¬¬äºŒä½ï¼Œä¾æ¬¡æ’åºï¼Œæ¯”å¦‚ç»™å®š<code>[1, 2, 3, 4]</code>ï¼ŒæœŸæœ›ç»“æœ: <code>[4, 2, 1, 3]</code><br><a id="more"></a></p>
<h4 id="è§£æ³•ä¸€ï¼š"><a href="#è§£æ³•ä¸€ï¼š" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><p>å…ˆæŠŠæ•°ç»„é™åºï¼Œç„¶åç´¢å¼•ä¸ºå¶æ•°çš„æ”¾å·¦è¾¹ï¼Œä¸ºå¥‡æ•°çš„æ”¾å³è¾¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var sortArr = (nums) =&gt; &#123;</span><br><span class="line">  let arr = nums.sort((x,y) =&gt; &#123;</span><br><span class="line">    return y - x</span><br><span class="line">  &#125;)</span><br><span class="line">  let a= []</span><br><span class="line">  let b = []</span><br><span class="line">  arr.forEach((element,i) =&gt; &#123;</span><br><span class="line">    if(i%2 === 0)&#123;</span><br><span class="line">      a.push(element)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      b.push(element)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return a.concat(b.reverse())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(sortArr([2,1,4,100,50,13,8,6,23]))//[ 100, 23,  8,  4, 1, 2,  6, 13, 50 ]</span><br></pre></td></tr></table></figure>
<h4 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h4><p>åˆ†åˆ«ä»æ•°ç»„çš„å¤´å’Œå°¾è¿­ä»£æ•°ç»„ï¼Œæ‰¾å‡ºæœ€å¤§å€¼ï¼Œå¹¶ä¸ä¹‹äº¤æ¢ä½ç½®ï¼Œç»§ç»­åœ¨å‰©ä¸‹çš„æ•°ç»„é‡Œé‡å¤ä¸Šä¸€æ­¥åšæ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const getArrMaxIndex = (nums,start,end) =&gt; &#123;</span><br><span class="line">  const max = Math.max.apply(null, nums.slice(start,end))</span><br><span class="line">  return nums.findIndex(i=&gt;i===max)</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">const sortArr = (nums) =&gt; &#123;</span><br><span class="line">  let [start, temp, end] = [0, 1, nums.length]</span><br><span class="line">  while(start !== end-1)&#123;</span><br><span class="line">    let maxIndex = getArrMaxIndex(nums,start,end)</span><br><span class="line">    if(temp%2 === 0)&#123;</span><br><span class="line">      [nums[end-1], nums[maxIndex]] = [nums[maxIndex], nums[end-1]]</span><br><span class="line">      end--</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      [nums[start], nums[maxIndex]] = [nums[maxIndex], nums[start]]</span><br><span class="line">      start++</span><br><span class="line">    &#125;</span><br><span class="line">    temp++</span><br><span class="line">  &#125;</span><br><span class="line">  return nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(sortArr([2,1,4,100,50,13,8,6,23]))//[ 100, 23,  8,  4, 1, 2,  6, 13, 50 ]</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»ˆäºçœ‹å®Œè€å‹è®°äº†</title>
    <url>/2020/04/12/%E7%BB%88%E4%BA%8E%E7%9C%8B%E5%AE%8C%E8%80%81%E5%8F%8B%E8%AE%B0%E4%BA%86/</url>
    <content><![CDATA[<p><img src="https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&amp;quality=100&amp;size=b4000_4000&amp;sec=1586704138&amp;di=4329bb6a517364a9577b7c3f3bae641e&amp;src=http://i2.hdslb.com/bfs/archive/5339b0aee51f6be61ff127d1a7f9e085ca893104.jpg" alt="&#39;è€å‹è®°æµ·æŠ¥&#39;"></p>
<p>å¤§å­¦æ—¶å°±å¼€å§‹çœ‹è€å‹è®°äº†ï¼Œä½†æ˜¯æ–­æ–­ç»­ç»­çœ‹äº†å‡ å­£ååˆæ²¡çœ‹äº†ï¼Œç›´åˆ°ä»Šå¤©ç»ˆäºçœ‹å®Œã€‚çœ‹å®Œå‘ç°ï¼Œè€å‹è®°çœŸçš„å¥½å¤šè¤æ®µå­å•ŠğŸ˜ï¼ŒçœŸçš„æ˜¯å°‘å„¿ä¸å®œ2333ã€‚æœ€å¼€å§‹æˆ‘çœ‹æµ·æŠ¥ï¼Œå°±æ˜¯ä¸Šé¢è¿™å¼ ï¼Œæˆ‘ä»¥ä¸ºä¹”ä¼Šä¼šå’Œè²æ¯”åœ¨ä¸€èµ·ï¼Œæœ€åçœ‹å®Œç«Ÿç„¶ä¸æ˜¯ï¼Œå“ˆå“ˆå“ˆå“ˆã€‚æ€»ä¹‹çœ‹å®Œè¿˜æ˜¯æœ‰ç‚¹ä¼¤æ„Ÿçš„ï¼Œæœ‰è¿½å®Œå‰§çš„ç©ºè™šï¼Œä¹Ÿæƒ³èµ·äº†å¤§å­¦æ—¶ä»£é‚£äº›æ—¥å­ï¼Œæ—¶é—´è¿‡å¾—å¯çœŸå¿«å•Šã€‚ã€‚ã€‚</p>
]]></content>
      <tags>
        <tag>è€å‹è®°</tag>
        <tag>ç¾å‰§</tag>
      </tags>
  </entry>
  <entry>
    <title>é€’å½’å®ç°1-100æ±‚å’Œ</title>
    <url>/2022/02/12/%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B01-100%E6%B1%82%E5%92%8C/</url>
    <content><![CDATA[<p>é¢è¯•é‡åˆ°è¿™æ ·ä¸€é“é¢˜ï¼Œå¹³æ—¶æ²¡æ€ä¹ˆå‡†å¤‡ç®—æ³•ï¼Œå½“æ—¶å°±å¡å£³äº†ã€‚åæ¥å›æ¥æƒ³æƒ³å…¶å®å¾ˆç®€å•ã€‚è¦åšçš„å…¶å®å°±æ˜¯ï¼Œç”¨é€’å½’å®ç°æ¯æ¬¡åŠ 1æˆ–è€…å‡1ã€‚</p>
<p>çœŸçš„è¦å¥½å¥½çœ‹çœ‹ç®—æ³•äº†å‘€ã€‚<br><a id="more"></a><br>å‡1ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function sum(n)&#123;</span><br><span class="line">  if(n === 1) return 1</span><br><span class="line">  return sum(n - 1) + n</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sum(100) // 5050</span><br></pre></td></tr></table></figure>
<p>åŠ 1ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function sum(num, start) &#123;</span><br><span class="line">  num += start</span><br><span class="line">  start++;</span><br><span class="line">  if (start &gt; 100) &#123;</span><br><span class="line">    return num</span><br><span class="line">  &#125;</span><br><span class="line">  else &#123;</span><br><span class="line">    sum(num, start)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">sum(0, 1) // 5050</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title>é”šç‚¹å¯¼èˆª</title>
    <url>/2021/03/16/%E9%94%9A%E7%82%B9%E5%AF%BC%E8%88%AA/</url>
    <content><![CDATA[<p>å¯¼èˆªé”šç‚¹è·Ÿéšé¡µé¢æ»šåŠ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$(&quot;#work_info&quot;).on(&apos;scroll&apos;, function ()&#123;</span><br><span class="line">    var flag = 0;</span><br><span class="line">    var w_top = $(this).scrollTop();</span><br><span class="line">    var len = arr.length</span><br><span class="line">    for(var i=0;i&lt;len;i++)&#123;</span><br><span class="line">        var linkText = arr[i];</span><br><span class="line">            if(w_top &gt;= topObj[linkText] &amp;&amp; w_top &lt;= topObj[[arr[i+1]]])&#123;</span><br><span class="line">                flag = i</span><br><span class="line">                    break;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (topObj[arr[flag+1]] - w_top &lt; w_top -  topObj[arr[flag]])&#123;</span><br><span class="line">        flag += 1</span><br><span class="line">    &#125;</span><br><span class="line">    if (w_top &gt; arr[len - 1]) &#123;</span><br><span class="line">        flag = len - 1;</span><br><span class="line">    &#125;</span><br><span class="line">    $(&apos;.anchor-link[value=&apos;+arr[flag]+&apos;]&apos;).siblings().removeClass(&apos;anchor-active&apos;);</span><br><span class="line">    $(&apos;.anchor-link[value=&apos;+arr[flag]+&apos;]&apos;).addClass(&apos;anchor-active&apos;)                     </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜²æŠ–èŠ‚æµ</title>
    <url>/2022/02/12/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/</url>
    <content><![CDATA[<p>åœ¨å¤„ç†é«˜é¢‘äº‹ä»¶ï¼Œç±»ä¼¼äºwindowçš„resizeæˆ–è€…scorllï¼Œæˆ–è€…inputè¾“å…¥æ ¡éªŒç­‰æ“ä½œæ—¶ã€‚å¦‚æœç›´æ¥æ‰§è¡Œäº‹ä»¶å¤„ç†å™¨ï¼Œä¼šå¢å¤§æµè§ˆå™¨çš„è´Ÿæ‹…ï¼Œä¸¥é‡çš„ç›´æ¥å¡æ­»ï¼Œç”¨æˆ·ä½“éªŒéå¸¸ä¸å¥½ã€‚</p>
<p>é¢å¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¸€èˆ¬å¯ä»¥é‡‡ç”¨é˜²æŠ–å’ŒèŠ‚æµçš„æ–¹å¼å‡å°‘è°ƒç”¨é¢‘ç‡ã€‚<br><a id="more"></a><br>é˜²æŠ–ï¼šåœ¨å•ä½æ—¶é—´å†…æ‰§è¡Œå‡½æ•°ï¼Œ å¦‚æœåœ¨è¿™ä¸ªæ—¶é—´å†…è§¦å‘ï¼Œåˆ™é‡æ–°å¼€å§‹è®¡æ—¶ã€‚<br>åœºæ™¯ï¼šæ»šåŠ¨æ¡æ»šåŠ¨ï¼Œ æäº¤æŒ‰é’®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function debounce(fn, delay)&#123;</span><br><span class="line">  let timer</span><br><span class="line">  return function()&#123;</span><br><span class="line">    if(timer) clearTimeout(timer)</span><br><span class="line"></span><br><span class="line">    timer = setTimeout(fn, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é˜²æŠ–ï¼šåœ¨å•ä½æ—¶é—´å†…æ‰§è¡Œå‡½æ•°ï¼Œ å¦‚æœåœ¨è¿™ä¸ªæ—¶é—´å†…è§¦å‘ï¼Œåˆ™å¿½ç•¥ï¼Œç›´åˆ°æ—¶é—´ç»“æŸï¼Œå‡½æ•°å¼€å§‹æ‰§è¡Œ<br>åœºæ™¯ï¼šè¾“å…¥æ¡†è¾“å…¥</p>
<p>ç¬¬ä¸€ç§å®ç°ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function throttle(fn, delay)&#123;</span><br><span class="line">  let timer</span><br><span class="line">  return function()&#123;</span><br><span class="line">    if(timer) return</span><br><span class="line">    timer = setTimeout(function()&#123;</span><br><span class="line">      fn()</span><br><span class="line">      clearTimeout(timer)</span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç¬¬äºŒç§å®ç°ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function throttle(fn, delay)&#123;</span><br><span class="line">  let prev = Date.now()</span><br><span class="line">  return function()&#123;</span><br><span class="line">    if(Date.now() - prev &lt; delay) &#123;</span><br><span class="line">      return</span><br><span class="line">    &#125;</span><br><span class="line">    fn()</span><br><span class="line">    prev = Date.now()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>é˜²æŠ–</tag>
        <tag>èŠ‚æµ</tag>
      </tags>
  </entry>
</search>
