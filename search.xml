<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>20é“vueé¢è¯•é¢˜</title>
    <url>/2022/02/20/20%E9%81%93vue%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<p>å¸¸è§çš„vueé¢è¯•é¢˜ï¼Œæ•´ç†å¦‚ä¸‹ï¼š<br><a id="more"></a></p>
<h3 id="å•é¡µåº”ç”¨-spa"><a href="#å•é¡µåº”ç”¨-spa" class="headerlink" title="å•é¡µåº”ç”¨(spa)"></a>å•é¡µåº”ç”¨(spa)</h3><p>å•é¡µWebåº”ç”¨ï¼Œå°±æ˜¯åªæœ‰ä¸€å¼ Webé¡µé¢çš„åº”ç”¨ã€‚æµè§ˆå™¨ä¸€å¼€å§‹ä¼šåŠ è½½å¿…éœ€çš„HTMLã€CSSå’ŒJavaScriptï¼Œä¹‹åæ‰€æœ‰çš„æ“ä½œéƒ½åœ¨è¿™å¼ é¡µé¢å®Œæˆï¼Œè¿™ä¸€åˆ‡éƒ½ç”±JavaScriptæ¥æ§åˆ¶ã€‚</p>
<p>å•é¡µåº”ç”¨å¾—ä¼˜åŠ¿ï¼š</p>
<p>æ“ä½œä½“éªŒæµç•…ï¼Œåª²ç¾æœ¬åœ°åº”ç”¨çš„æ„Ÿè§‰ï¼Œåˆ‡æ¢è¿‡ç¨‹ä¸­ä¸ä¼šé¢‘ç¹æœ‰è¢«â€œæ‰“æ–­â€çš„æ„Ÿè§‰ã€‚<br>å› ä¸ºç•Œé¢æ¡†æ¶éƒ½åœ¨æœ¬åœ°ï¼Œä¸æœåŠ¡ç«¯çš„é€šè®¯åŸºæœ¬åªæœ‰æ•°æ®ï¼Œæ‰€ä»¥ä¾¿äºè¿ç§»ï¼Œå¯ä»¥ç”¨æ¯”è¾ƒå°çš„ä»£ä»·ï¼Œè¿ç§»æˆæ¡Œé¢äº§å“ï¼Œæˆ–è€…å„ç§ç§»åŠ¨ç«¯Hybridäº§å“ã€‚<br>å®Œå…¨çš„å‰ç«¯ç»„ä»¶åŒ–ï¼Œå‰ç«¯å¼€å‘ä¸å†ä»¥é¡µé¢ä¸ºå•ä½ï¼Œæ›´å¤šåœ°é‡‡ç”¨ç»„ä»¶åŒ–çš„æ€æƒ³ï¼Œä»£ç ç»“æ„å’Œç»„ç»‡æ–¹å¼æ›´åŠ è§„èŒƒåŒ–ï¼Œä¾¿äºä¿®æ”¹å’Œè°ƒæ•´ï¼›<br>API å…±äº«ï¼Œå¦‚æœä½ çš„æœåŠ¡æ˜¯å¤šç«¯çš„ï¼ˆæµè§ˆå™¨ç«¯ã€Androidã€iOSã€å¾®ä¿¡ç­‰ï¼‰ï¼Œå•é¡µåº”ç”¨çš„æ¨¡å¼ä¾¿äºä½ åœ¨å¤šä¸ªç«¯å…±ç”¨ APIï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘æœåŠ¡ç«¯çš„å·¥ä½œé‡ã€‚å®¹æ˜“å˜åŒ–çš„ UI éƒ¨åˆ†éƒ½å·²ç»å‰ç½®åˆ°äº†å¤šç«¯ï¼Œåªå—åˆ°ä¸šåŠ¡æ•°æ®æ¨¡å‹å½±å“çš„ APIï¼Œæ›´å®¹æ˜“ç¨³å®šä¸‹æ¥ï¼Œä¾¿äºæä¾›æ›´æ£’çš„æœåŠ¡ï¼›<br>ç»„ä»¶å…±äº«ï¼Œåœ¨æŸäº›å¯¹æ€§èƒ½ä½“éªŒè¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼Œæˆ–è€…äº§å“å¤„äºå¿«é€Ÿè¯•é”™é˜¶æ®µï¼Œå€ŸåŠ©äºä¸€äº›æŠ€æœ¯ï¼ˆHybridã€React Nativeï¼‰ï¼Œå¯ä»¥åœ¨å¤šç«¯å…±äº«ç»„ä»¶ï¼Œä¾¿äºäº§å“çš„å¿«é€Ÿè¿­ä»£ï¼ŒèŠ‚çº¦èµ„æºã€‚</p>
<p>å•é¡µåº”ç”¨å¾—ç¼ºç‚¹ï¼š</p>
<p>é¦–æ¬¡åŠ è½½å¤§é‡èµ„æºï¼Œè¦åœ¨ä¸€ä¸ªé¡µé¢ä¸Šä¸ºç”¨æˆ·æä¾›äº§å“çš„æ‰€æœ‰åŠŸèƒ½ï¼Œåœ¨è¿™ä¸ªé¡µé¢åŠ è½½çš„æ—¶å€™ï¼Œé¦–å…ˆè¦åŠ è½½å¤§é‡çš„é™æ€èµ„æºï¼Œè¿™ä¸ªåŠ è½½æ—¶é—´ç›¸å¯¹æ¯”è¾ƒé•¿ï¼›<br>å¯¹æœç´¢å¼•æ“ä¸å‹å¥½ï¼Œå› ä¸ºç•Œé¢çš„ç»å¤§éƒ¨åˆ†éƒ½æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œæ‰€ä»¥æœç´¢å¼•æ“å¾ˆä¸å®¹æ˜“ç´¢å¼•å®ƒã€‚<br>å¼€å‘éš¾åº¦ç›¸å¯¹è¾ƒé«˜ï¼Œå¼€å‘è€…çš„JavaScriptæŠ€èƒ½å¿…é¡»è¿‡å…³ï¼ŒåŒæ—¶éœ€è¦å¯¹ç»„ä»¶åŒ–ã€è®¾è®¡æ¨¡å¼æœ‰æ‰€è®¤è¯†ï¼Œä»–æ‰€é¢å¯¹çš„ä¸å†æ˜¯ä¸€ä¸ªç®€å•çš„é¡µé¢ï¼Œè€Œæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­çš„æ¡Œé¢è½¯ä»¶ã€‚</p>
<h3 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h3><p>MVVMå…¨åæ˜¯ Model View View-Modelçš„ç¼©å†™<br>Model(æ¨¡å‹)ï¼šæ˜¯ç”¨äºå¤„ç†åº”ç”¨ç¨‹åºæ•°æ®é€»è¾‘éƒ¨åˆ†ã€‚<br>View(è§†å›¾)ï¼šæ˜¯åº”ç”¨ç¨‹åºä¸­å¤„ç†æ•°æ®æ˜¾ç¤ºçš„æœ¬åˆ†ã€‚é€šå¸¸è§†å›¾æ˜¯ä¾æ®æ¨¡å‹æ•°æ®åˆ›å»ºçš„<br>ViewModelå±‚ï¼šåšäº†ä¸¤ä»¶äº‹è¾¾åˆ°äº†æ•°æ®çš„åŒå‘ç»‘å®šï¼Œä¸€æ˜¯å°†ã€æ¨¡å‹ã€‘è½¬åŒ–æˆã€è§†å›¾ã€‘ï¼Œå³å°†åç«¯ä¼ é€’çš„æ•°æ®è½¬åŒ–æˆæ‰€çœ‹åˆ°çš„é¡µé¢ã€‚ å®ç°çš„æ–¹å¼æ—¶ï¼šæ•°æ®ç»‘å®šã€‚äºŒæ˜¯å°†ã€è§†å›¾ã€‘è½¬åŒ–æˆã€æ¨¡å‹ã€‘ï¼Œå³å°†æ‰€çœ‹åˆ°çš„é¡µé¢è½¬æ¢æˆåç«¯çš„æ•°æ®ã€‚å®ç°çš„æ–¹å¼æ˜¯ï¼šDOMäº‹ä»¶ç›‘å¬ã€‚</p>
<h3 id="Vue-çš„å“åº”å¼åŸç†ï¼ˆåŒå‘æ•°æ®ç»‘å®šï¼‰"><a href="#Vue-çš„å“åº”å¼åŸç†ï¼ˆåŒå‘æ•°æ®ç»‘å®šï¼‰" class="headerlink" title="Vue çš„å“åº”å¼åŸç†ï¼ˆåŒå‘æ•°æ®ç»‘å®šï¼‰"></a>Vue çš„å“åº”å¼åŸç†ï¼ˆåŒå‘æ•°æ®ç»‘å®šï¼‰</h3><p>æ•´ä½“æ€è·¯æ˜¯æ•°æ®åŠ«æŒ + è§‚å¯Ÿè€…æ¨¡å¼</p>
<p>å¯¹è±¡å†…éƒ¨é€šè¿‡ defineReactive æ–¹æ³•ï¼Œä½¿ç”¨ Object.defineProperty å°†å±æ€§è¿›è¡ŒåŠ«æŒï¼ˆåªä¼šåŠ«æŒå·²å­˜åœ¨çš„å±æ€§ï¼‰ï¼Œæ•°ç»„åˆ™æ˜¯é€šè¿‡é‡å†™æ•°ç»„æ¥å®ç°ã€‚å½“é¡µé¢ä½¿ç”¨å¯¹åº”å±æ€§æ—¶ï¼Œæ¯ä¸ªå±æ€§éƒ½æ‹¥æœ‰è‡ªå·±çš„ dep å±æ€§ï¼Œå­˜åœ¨å®ƒæ‰€ä¾èµ–çš„ watcher ï¼ˆä¾èµ–æ”¶é›†ï¼‰getï¼Œå½“å±æ€§å˜åŒ–åä¼šé€šçŸ¥è‡ªå·±å¯¹åº”çš„ watcher å»æ›´æ–°ï¼ˆæ´¾å‘æ›´æ–°ï¼‰setã€‚</p>
<p>1ã€Object.defineProperty æ•°æ®åŠ«æŒ<br>2ã€ä½¿ç”¨ getter æ”¶é›†ä¾èµ– ï¼Œsetter é€šçŸ¥ watcheræ´¾å‘æ›´æ–°ã€‚<br>3ã€watcher å‘å¸ƒè®¢é˜…æ¨¡å¼ã€‚</p>
<h3 id="data-ä¸ºä»€ä¹ˆæ˜¯å‡½æ•°"><a href="#data-ä¸ºä»€ä¹ˆæ˜¯å‡½æ•°" class="headerlink" title="data ä¸ºä»€ä¹ˆæ˜¯å‡½æ•°"></a>data ä¸ºä»€ä¹ˆæ˜¯å‡½æ•°</h3><p>ç»„ä»¶çš„dataå†™æˆä¸€ä¸ªå‡½æ•°ï¼Œæ•°æ®ä»¥å‡½æ•°è¿”å›å€¼å½¢å¼å®šä¹‰ï¼Œè¿™æ ·æ¯å¤ç”¨ä¸€æ¬¡ç»„ä»¶ï¼Œå°±ä¼šè¿”å›ä¸€åˆ†æ–°çš„dataï¼Œç±»ä¼¼äºç»™æ¯ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºä¸€ä¸ªç§æœ‰çš„æ•°æ®ç©ºé—´ï¼Œè®©å„ä¸ªç»„ä»¶å®ä¾‹ç»´æŠ¤å„è‡ªçš„æ•°æ®ã€‚è€Œå•çº¯çš„å†™æˆå¯¹è±¡å½¢å¼ï¼Œå°±ä½¿å¾—æ‰€æœ‰ç»„ä»¶å®ä¾‹å…±ç”¨äº†ä¸€ä»½dataï¼Œå°±ä¼šé€ æˆä¸€ä¸ªå˜äº†å…¨éƒ½ä¼šå˜çš„ç»“æœ</p>
<h3 id="v-model-çš„åŸç†"><a href="#v-model-çš„åŸç†" class="headerlink" title="v-model çš„åŸç†"></a>v-model çš„åŸç†</h3><p>v-model åªæ˜¯è¯­æ³•ç³–è€Œå·²ã€‚<br>v-model åœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„ property å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ã€‚<br>text å’Œ textarea å…ƒç´ ä½¿ç”¨ value property å’Œ input äº‹ä»¶ï¼›<br>checkbox å’Œ radio ä½¿ç”¨ checked property å’Œ changeäº‹ä»¶ï¼›<br>select å­—æ®µå°† value ä½œä¸º prop å¹¶å°† change ä½œä¸ºäº‹ä»¶ã€‚<br>æ³¨æ„ï¼šå¯¹äºéœ€è¦ä½¿ç”¨è¾“å…¥æ³•çš„è¯­è¨€ï¼Œä½ ä¼šå‘ç° v-model ä¸ä¼šåœ¨è¾“å…¥æ³•ç»„åˆæ–‡å­—è¿‡ç¨‹ä¸­å¾—åˆ°æ›´æ–°ã€‚<br>åœ¨æ™®é€šå…ƒç´ ä¸Šï¼š<br>input v-model=â€™sthâ€™<br>input v-bind:value=â€™sthâ€™ v-on:input=â€™sth = $event.target.valueâ€™</p>
<h3 id="v-if-å’Œ-v-show-çš„åŒºåˆ«"><a href="#v-if-å’Œ-v-show-çš„åŒºåˆ«" class="headerlink" title="v-if å’Œ v-show çš„åŒºåˆ«"></a>v-if å’Œ v-show çš„åŒºåˆ«</h3><p>v-if åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šè¢«è½¬åŒ–æˆä¸‰å…ƒè¡¨è¾¾å¼ï¼Œæ¡ä»¶ä¸æ»¡è¶³æ—¶ä¸æ¸²æŸ“æ­¤èŠ‚ç‚¹ã€‚</p>
<p>v-show ä¼šè¢«ç¼–è¯‘æˆæŒ‡ä»¤ï¼Œæ¡ä»¶ä¸æ»¡è¶³æ—¶æ§åˆ¶æ ·å¼å°†æ­¤èŠ‚ç‚¹éšè—ï¼ˆdisplay:noneï¼‰</p>
<h3 id="computedã€-watch-åŒºåˆ«"><a href="#computedã€-watch-åŒºåˆ«" class="headerlink" title="computedã€ watch åŒºåˆ«"></a>computedã€ watch åŒºåˆ«</h3><p>computed<br>1ã€computedæ˜¯è®¡ç®—å±æ€§ï¼Œä¹Ÿå°±æ˜¯ä¾èµ–æŸä¸ªå€¼æˆ–è€…propsé€šè¿‡è®¡ç®—å¾—æ¥å¾—æ•°æ®ï¼›<br>2ã€ computedçš„å€¼æ˜¯åœ¨getteræ‰§è¡Œä¹‹åè¿›è¡Œç¼“å­˜çš„ï¼Œåªæœ‰åœ¨å®ƒä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œä¼šé‡æ–°è°ƒç”¨getteræ¥è®¡ç®—ï¼›<br>3ã€ ä¸æ”¯æŒå¼‚æ­¥ï¼Œå½“computedå†…æœ‰å¼‚æ­¥æ“ä½œæ—¶æ— æ•ˆï¼Œæ— æ³•ç›‘å¬æ•°æ®çš„å˜åŒ–ï¼›</p>
<p>watch<br>1ã€watchæ˜¯ç›‘å¬å™¨ï¼Œå¯ä»¥ç›‘å¬æŸä¸€ä¸ªæ•°æ®ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„æ“ä½œï¼›<br>2ã€ä¸æ”¯æŒç¼“å­˜ï¼Œæ•°æ®å˜ç›´æ¥ä¼šè§¦å‘ç›¸åº”çš„æ“ä½œï¼›<br>3ã€ç›‘å¬çš„å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æœ€æ–°çš„å€¼ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¾“å…¥ä¹‹å‰çš„å€¼ï¼›<br>4ã€æ”¯æŒå¼‚æ­¥æ“ä½œï¼›</p>
<h3 id="Vue-çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Vue-çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Vue çš„ç”Ÿå‘½å‘¨æœŸ"></a>Vue çš„ç”Ÿå‘½å‘¨æœŸ</h3><p>beforeCreate åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹ï¼ˆdata observeï¼‰å’Œ event/watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ã€‚åœ¨å½“å‰é˜¶æ®µ dataã€methodsã€computed ä»¥åŠ watch ä¸Šçš„æ•°æ®å’Œæ–¹æ³•éƒ½ä¸èƒ½è¢«è®¿é—®ã€‚</p>
<p>created å®ä¾‹å·²ç»åˆ›å»ºå®Œæˆä¹‹åè¢«è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹å·²ç»å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šæ•°æ®è§‚æµ‹ï¼ˆdata observe ï¼‰ï¼Œå±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œwatch/event äº‹ä»¶å›è°ƒã€‚è¿™é‡Œæ²¡æœ‰ $elï¼Œå¦‚æœéè¦æƒ³ä¸ DOM è¿›è¡Œäº¤äº’ï¼Œå¯ä»¥é€šè¿‡vm.$nextTick æ¥è®¿é—® DOMã€‚</p>
<p>beforeMount åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚</p>
<p>mounted åœ¨æŒ‚è½½å®Œæˆåå‘ç”Ÿï¼Œåœ¨å½“å‰é˜¶æ®µï¼ŒçœŸå®çš„ Dom æŒ‚è½½å®Œæ¯•ï¼Œæ•°æ®å®ŒæˆåŒå‘ç»‘å®šï¼Œå¯ä»¥è®¿é—®åˆ° DomèŠ‚ç‚¹ã€‚</p>
<p>beforeUpdate æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ ï¼ˆpatchï¼‰ä¹‹å‰ã€‚å¯ä»¥åœ¨è¿™ä¸ªé’©å­ä¸­è¿›ä¸€æ­¥åœ°æ›´æ”¹çŠ¶æ€ï¼Œè¿™ä¸ä¼šè§¦å‘é™„åŠ çš„é‡æ¸²æŸ“è¿‡ç¨‹ã€‚</p>
<p>updated å‘ç”Ÿåœ¨æ›´æ–°å®Œæˆä¹‹åï¼Œå½“å‰é˜¶æ®µç»„ä»¶ Dom å·²ç»å®Œæˆæ›´æ–°ã€‚è¦æ³¨æ„çš„æ˜¯é¿å…åœ¨æ­¤æœŸé—´æ›´æ–°æ•°æ®ï¼Œå› ä¸ºè¿™ä¸ªå¯èƒ½å¯¼è‡´æ— é™å¾ªç¯çš„æ›´æ–°ï¼Œè¯¥é’©å­åœ¨æœåŠ¡å™¨æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚</p>
<p>beforeDestroy å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®åŠ›ä»ç„¶å®Œå…¨å¯ç”¨ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™æ—¶è¿›è¡Œ å–„åæ”¶å°¾å·¥ä½œï¼Œæ¯”å¦‚æ¸…é™¤å®šæ—¶å™¨ã€‚</p>
<p>destroy Vueå®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVueå®ä¾‹æŒ‡ç¤ºçš„ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œå·¦å³çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ï¼Œè¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¸è¢«è°ƒç”¨ã€‚</p>
<p>activated keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨</p>
<p>deactivated keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨</p>
<h3 id="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé¡ºåº"><a href="#çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé¡ºåº" class="headerlink" title="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé¡ºåº"></a>çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé¡ºåº</h3><p>åŠ è½½æ¸²æŸ“è¿‡ç¨‹<br>çˆ¶beforeCreate -&gt; çˆ¶created -&gt; çˆ¶beforeMount -&gt; å­beforeCreate -&gt; å­created -&gt; å­beforeMount -&gt; å­mounted -&gt; çˆ¶mounted<br>å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹<br>çˆ¶beforeUpdate -&gt; å­beforeUpdate -&gt; å­updated -&gt; çˆ¶updated<br>çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹<br>çˆ¶beforeUpdate -&gt; çˆ¶updated<br>é”€æ¯è¿‡ç¨‹<br>çˆ¶beforeDestroy -&gt; å­beforeDestroy -&gt; å­destroyed -&gt; çˆ¶destroyed</p>
<h3 id="Vue-ç»„ä»¶é—´é€šä¿¡æ–¹å¼"><a href="#Vue-ç»„ä»¶é—´é€šä¿¡æ–¹å¼" class="headerlink" title="Vue ç»„ä»¶é—´é€šä¿¡æ–¹å¼"></a>Vue ç»„ä»¶é—´é€šä¿¡æ–¹å¼</h3><p>1ã€props å’Œ $emitã€‚çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®æ˜¯é€šè¿‡propsä¼ é€’çš„ï¼Œå­ç»„ä»¶ä¼ é€’ç»™çˆ¶ç»„ä»¶æ˜¯é€šè¿‡$emitè§¦å‘äº‹ä»¶æ¥åšåˆ°çš„ã€‚</p>
<p>2ã€$parent å’Œ $children è·å–å•ç­¾ç»„ä»¶çš„çˆ¶ç»„ä»¶å’Œå½“å‰ç»„ä»¶çš„å­ç»„ä»¶ã€‚</p>
<p>3ã€$attrs å’Œ $listeners A -&gt; B -&gt; Cã€‚Vue2.4å¼€å§‹æä¾›äº†$attrså’Œ$listenersæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>4ã€çˆ¶ç»„ä»¶ä¸­é€šè¿‡ provide æ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­ç»„ä»¶ä¸­é€šè¿‡ inject æ¥æ³¨å…¥å˜é‡ã€‚ï¼ˆå®˜æ–¹ä¸æ¨èåœ¨å®é™…ä¸šåŠ¡ä¸­é€‚ç”¨ï¼Œä½†æ˜¯å†™ç»„ä»¶åº“æ—¶å¾ˆå¸¸ç”¨ã€‚ï¼‰</p>
<p>5ã€$refs è·å–ç»„ä»¶å®ä¾‹ã€‚</p>
<p>6ã€envetBus å…„å¼Ÿç»„ä»¶æ•°æ®ä¼ é€’ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨äº‹ä»¶æ€»çº¿çš„æ–¹å¼ã€‚</p>
<p>7ã€vuex çŠ¶æ€ç®¡ç†ã€‚</p>
<h3 id="Vue-çš„å•é¡¹æ•°æ®æµ"><a href="#Vue-çš„å•é¡¹æ•°æ®æµ" class="headerlink" title="Vue çš„å•é¡¹æ•°æ®æµ"></a>Vue çš„å•é¡¹æ•°æ®æµ</h3><p>æ•°æ®æ€»æ˜¯ä»çˆ¶ç»„ä»¶ä¼ åˆ°å­ç»„ä»¶ï¼Œå­ç»„ä»¶æ²¡æœ‰æƒåˆ©ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ•°æ®ï¼Œåªèƒ½è¯·æ±‚çˆ¶ç»„ä»¶å¯¹åŸå§‹æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚è¿™æ ·ä¼šé˜²æ­¢ä»å­ç»„ä»¶æ„å¤–æ”¹å˜çˆ¶ç»„ä»¶çš„çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´ä½ çš„åº”ç”¨çš„æ•°æ®æµå‘éš¾ä»¥ç†è§£</p>
<h3 id="keep-alive-ç»„ä»¶"><a href="#keep-alive-ç»„ä»¶" class="headerlink" title="keep-alive ç»„ä»¶"></a>keep-alive ç»„ä»¶</h3><p>keep-alive æ˜¯ Vue å†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥å®ç°ç»„ä»¶ç¼“å­˜ï¼Œå½“ç»„ä»¶åˆ‡æ¢æ—¶ä¸ä¼šå¯¹å½“å‰ç»„ä»¶è¿›è¡Œå¸è½½</p>
<h3 id="slot-æ’æ§½"><a href="#slot-æ’æ§½" class="headerlink" title="slot æ’æ§½"></a>slot æ’æ§½</h3><p>vueé‡Œæä¾›äº†ä¸€ç§å°†çˆ¶ç»„ä»¶çš„å†…å®¹å’Œå­ç»„ä»¶çš„æ¨¡æ¿æ•´åˆçš„æ–¹æ³•ï¼šå†…å®¹åˆ†å‘ï¼Œé€šè¿‡slotæ’æ§½æ¥å®ç°ã€‚</p>
<p>åœ¨ç»„ä»¶æ ‡ç­¾å†…éƒ¨å†™å…¥çš„å†…å®¹é»˜è®¤çš„ä¼šè¢«æ›¿æ¢æ‰ï¼Œå¦‚æœæƒ³è¦åœ¨ç»„ä»¶çš„æ¨¡æ¿é‡Œä½¿ç”¨è¿™äº›å†…å®¹ï¼Œå°±åœ¨å¯¹åº”çš„ä½ç½®å†™ä¸Šslotæ ‡ç­¾ï¼Œè¿™ä¸ªslotæ ‡ç­¾å°±ä»£è¡¨ç€è¿™äº›å†…å®¹</p>
<h3 id="Vue-æ£€æµ‹æ•°ç»„æˆ–å¯¹è±¡çš„å˜åŒ–"><a href="#Vue-æ£€æµ‹æ•°ç»„æˆ–å¯¹è±¡çš„å˜åŒ–" class="headerlink" title="Vue æ£€æµ‹æ•°ç»„æˆ–å¯¹è±¡çš„å˜åŒ–"></a>Vue æ£€æµ‹æ•°ç»„æˆ–å¯¹è±¡çš„å˜åŒ–</h3><p>å¯¹è±¡æ˜¯ç”¨defineProperty setterã€‚<br>æ•°ç»„è€ƒè™‘æ€§èƒ½åŸå› æ²¡æœ‰ç”¨ defineProperty å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹è¿›è¡Œæ‹¦æˆªï¼Œè€Œæ˜¯é€‰æ‹©å¯¹7ç§æ•°ç»„ï¼ˆpush,shift,pop,splice,unshift,sort,reverseï¼‰æ–¹æ³•è¿›è¡Œé‡å†™ï¼ˆAOP åˆ‡ç‰‡æ€æƒ³ï¼‰ã€‚</p>
<p>æ‰€ä»¥åœ¨ Vue ä¸­ä¿®æ”¹æ•°ç»„çš„ç´¢å¼•å’Œé•¿åº¦æ— æ³•ç›‘æ§åˆ°ã€‚éœ€è¦é€šè¿‡ä»¥ä¸Š7ç§å˜å¼‚æ–¹æ³•ä¿®æ”¹æ•°ç»„æ‰ä¼šè§¦å‘æ•°ç»„å¯¹åº”çš„watcherè¿›è¡Œæ›´æ–°</p>
<h3 id="è™šæ‹Ÿdom"><a href="#è™šæ‹Ÿdom" class="headerlink" title="è™šæ‹Ÿdom"></a>è™šæ‹Ÿdom</h3><p>ç”±äºåœ¨æµè§ˆå™¨ä¸­æ“ä½œDOMæ˜¯å¾ˆæ˜‚è´µçš„ã€‚é¢‘ç¹æ“ä½œDOMï¼Œä¼šäº§ç”Ÿä¸€å®šæ€§èƒ½é—®é¢˜ã€‚è¿™å°±æ˜¯è™šæ‹ŸDomçš„äº§ç”ŸåŸå› ã€‚Vue2çš„Virtual DOM å€Ÿé‰´äº†å¼€æºåº“ snabbdom çš„å®ç°ã€‚Virtual DOMæœ¬è´¨å°±æ˜¯ç”¨ä¸€ä¸ªåŸç”Ÿçš„JSå¯¹è±¡å»æè¿°ä¸€ä¸ªDOMèŠ‚ç‚¹ï¼Œæ˜¯å¯¹çœŸå®DOMçš„ä¸€å±‚æŠ½è±¡ã€‚<br>ä¼˜ç‚¹ï¼š<br>1ã€ä¿è¯æ€§èƒ½ä¸‹é™ï¼šæ¡†æ¶çš„è™šæ‹ŸDOMéœ€è¦é€‚é…ä»»ä½•ä¸Šå±‚APIå¯èƒ½äº§ç”Ÿçš„æ“ä½œï¼Œä»–çš„ä¸€äº›DOMæ“ä½œçš„å®ç°å¿…é¡»æ˜¯æ™®é€‚çš„ï¼Œæ‰€ä»¥å®ƒçš„æ€§èƒ½å¹¶ä¸æ˜¯æœ€ä¼˜çš„ï¼›ä½†æ˜¯æ¯”èµ·ç²—æš´çš„DOMæ“ä½œæ€§èƒ½è¦å¥½å¾ˆå¤šï¼Œå› æ­¤æ¡†æ¶çš„è™šæ‹ŸDOMè‡³å°‘å¯ä»¥ä¿è¯åœ¨ä½ ä¸éœ€è¦æ‰‹åŠ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶å¯ä»¥æä¾›è¿˜ä¸é”™çš„æ€§èƒ½ï¼Œæ—¢ä¿è¯æ€§èƒ½çš„ä¸‹é™ã€‚<br>2ã€æ— éœ€æ‰‹åŠ¨æ“ä½œDOMï¼šæˆ‘ä»¬ä¸éœ€æ‰‹åŠ¨å»æ“ä½œDOMï¼Œåªéœ€è¦å†™å¥½ View-Modelçš„ ä»£ç é€»è¾‘ï¼Œæ¡†æ¶ä¼šæ ¹æ®è™šæ‹ŸDOMå’Œæ•°æ®åŒå‘ç»‘å®šï¼Œå¸®æˆ‘ä»¬ä»¥å¯é¢„æœŸçš„æ–¹å¼æ›´æ–°è§†å›¾ï¼Œæå¤§æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚<br>3ã€è·¨å¹³å°ï¼šè™šæ‹ŸDOMæœ¬è´¨ä¸Šæ˜¯JavaScriptå¯¹è±¡ï¼Œè€ŒDOMä¸å¹³å°å¼ºç›¸å…³ï¼Œç›¸æ¯”ä¹‹ä¸‹è™šæ‹ŸDOMå¯ä»¥è¿›è¡Œæ›´æ–¹ä¾¿åœ°è·¨å¹³å°æ“ä½œï¼Œä¾‹å¦‚æœåŠ¡å™¨ç«¯æ¸²æŸ“ã€weexå¼€å‘ç­‰ç­‰ã€‚<br>ç¼ºç‚¹ï¼š<br>1ã€æ— æ³•è¿›è¡Œæè‡´ä¼˜åŒ–ï¼šè™½ç„¶è™šæ‹ŸDOM + åˆç†çš„ä¼˜åŒ–ï¼Œè¶³ä»¥åº”å¯¹å¤§éƒ¨åˆ†åº”ç”¨çš„æ€§èƒ½éœ€è¦ï¼Œä½†åœ¨ä¸€äº›æ€§èƒ½è¦æ±‚æé«˜çš„åº”ç”¨ä¸­è™šæ‹ŸDOMæ— æ³•è¿›è¡Œé’ˆå¯¹æ€§çš„æè‡´ä¼˜åŒ–ã€‚<br>2ã€é¦–æ¬¡æ¸²æŸ“å¤§é‡DOMæ—¶ï¼Œç”±äºå¤šäº†ä¸€å±‚DOMè®¡ç®—ï¼Œä¼šæ¯”innerHTMLæ’å…¥æ…¢ã€‚</p>
<h3 id="Vue-ä¸­-key-çš„ä½œç”¨"><a href="#Vue-ä¸­-key-çš„ä½œç”¨" class="headerlink" title="Vue ä¸­ key çš„ä½œç”¨"></a>Vue ä¸­ key çš„ä½œç”¨</h3><p>å¦‚æœä¸ä½¿ç”¨keyï¼ŒVueä¼šä½¿ç”¨ä¸€ç§æœ€å¤§é™åº¦å‡å°‘åŠ¨æ€å…ƒç´ å¹¶ä¸”å°½å¯èƒ½çš„å°è¯•å°±åœ°ä¿®æ”¹/å¤ç”¨ç›¸åŒç±»å‹å…ƒç´ çš„ç®—æ³•ã€‚key æ˜¯ä¸ºVueä¸­Vnodeçš„å”¯ä¸€æ ‡è¯†ï¼Œé€šè¿‡è¿™ä¸ªkeyï¼Œæˆ‘ä»¬çš„diffæ“ä½œå¯ä»¥æ›´å‡†ç¡®ã€æ›´å¿«é€Ÿã€‚<br>æ›´å‡†ç¡®ï¼šå› ä¸ºå¸¦keyå°±ä¸æ˜¯å°±åœ°å¤ç”¨äº†ï¼Œåœ¨sameNodeå‡½æ•° a.key === b.key å¯¹æ¯”ä¸­å¯ä»¥é¿å…å°±åœ°å¤ç”¨çš„æƒ…å†µã€‚æ‰€ä»¥æ›´åŠ å‡†ç¡®ã€‚<br>æ›´å¿«é€Ÿï¼šåˆ©ç”¨keyçš„å”¯ä¸€æ€§ç”Ÿæˆmapå¯¹è±¡æ¥è·å–å¯¹åº”èŠ‚ç‚¹ï¼Œæ¯”éå†æ–¹å¼å—ã€‚</p>
<h3 id="nextTick-çš„åŸç†"><a href="#nextTick-çš„åŸç†" class="headerlink" title="nextTick çš„åŸç†"></a>nextTick çš„åŸç†</h3><p>nextTick ä¸­çš„å›è°ƒæ˜¯åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œçš„å»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„ DOMã€‚ä¸»è¦æ€è·¯å°±æ˜¯é‡‡ç”¨å¾®ä»»åŠ¡ä¼˜å…ˆçš„æ–¹å¼è°ƒç”¨å¼‚æ­¥æ–¹æ³•å»æ‰§è¡Œ nextTick åŒ…è£…çš„æ–¹æ³•</p>
<h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><p>vuex æ˜¯ä¸“é—¨ä¸º vue æä¾›çš„å…¨å±€çŠ¶æ€ç®¡ç†ç³»ç»Ÿï¼Œç”¨äºå¤šä¸ªç»„ä»¶ä¸­æ•°æ®å…±äº«ã€æ•°æ®ç¼“å­˜</p>
<p>ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š</p>
<p>State:å®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹åŒ–çŠ¶æ€ã€‚<br>Getter:å…è®¸ç»„ä»¶ä»Storeä¸­è·å–æ•°æ®ï¼ŒmapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ã€‚<br>Mutation:æ˜¯å”¯ä¸€æ›´æ”¹ store ä¸­çŠ¶æ€çš„æ–¹æ³•ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°ã€‚<br>Action:ç”¨äºæäº¤ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥è¯·æ±‚ã€‚<br>Module:å…è®¸å°†å•ä¸€çš„ Store æ‹†åˆ†æ›´å¤šä¸ª store ä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘ä¸­ã€‚</p>
<h3 id="vue-router-çš„ä¸¤ç§æ¨¡å¼"><a href="#vue-router-çš„ä¸¤ç§æ¨¡å¼" class="headerlink" title="vue-router çš„ä¸¤ç§æ¨¡å¼"></a>vue-router çš„ä¸¤ç§æ¨¡å¼</h3><p>hash æ¨¡å¼<br>1ã€location.has çš„å€¼å®é™…å°±æ˜¯ URL ä¸­ # åé¢çš„ä¸œè¥¿ã€‚å®ƒçš„ç‰¹ç‚¹åœ¨äºï¼šhashè™½ç„¶å‡ºç° URL ä¸­ï¼Œä½†ä¸ä¼šè¢«åŒ…å«åœ¨ HTTP è¯·æ±‚ä¸­ï¼Œå¯¹åç«¯å®Œå…¨æ²¡æœ‰å½±å“ï¼Œå› æ­¤æ”¹å˜ hash ä¸ä¼šé‡æ–°åŠ è½½é¡µé¢ã€‚</p>
<p>2ã€å¯ä»¥ä¸º hash çš„æ”¹å˜æ·»åŠ ç›‘å¬äº‹ä»¶<br>window.addEventListener(â€œhashchangeâ€,funcRef,false)<br>æ¯ä¸€æ¬¡æ”¹å˜ hash (window.location.hash)ï¼Œéƒ½ä¼šåœ¨æµè§ˆå™¨çš„è®¿é—®å†å²ä¸­å¢åŠ ä¸€ä¸ªè®°å½•ï¼Œåˆ©ç”¨hashçš„ä»¥ä¸Šç‰¹ç‚¹ï¼Œå°±å¯ä»¥å®ç°å‰ç«¯è·¯ç”±â€œæ›´æ–°è§†å›¾ä½†ä¸é‡æ–°è¯·æ±‚é¡µé¢â€çš„åŠŸèƒ½äº†<br>ç‰¹ç‚¹ï¼šå…¼å®¹æ€§å¥½ä½†æ˜¯ä¸ç¾è§‚</p>
<p>history æ¨¡å¼<br>åˆ©ç”¨ HTML5 History Interface ä¸­æ–°å¢çš„ pushState() å’Œ replaceState() æ–¹æ³•ã€‚</p>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•åº”ç”¨äºæµè§ˆå™¨çš„å†å²è®°å½•ç«™ï¼Œåœ¨å½“å‰å·²æœ‰çš„ backã€forwardã€go çš„åŸºç¡€ä¸Šï¼Œä»–ä»¬æä¾›äº†å¯¹å†å²è®°å½•è¿›è¡Œä¿®æ”¹çš„åŠŸèƒ½ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•æœ‰ä¸ªå…±åŒç‚¹ï¼šå½“è°ƒç”¨ä»–ä»¬ä¿®æ”¹æµè§ˆå™¨å†å²è®°å½•æ ˆåï¼Œè™½ç„¶å½“å‰ URL æ”¹å˜äº†ï¼Œä½†æµè§ˆå™¨ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œè¿™å°±ä¸ºå•é¡µé¢åº”ç”¨å‰ç«¯è·¯ç”±â€œæ›´æ–°è§†å›¾ä½†ä¸é‡æ–°è¯·æ±‚é¡µé¢â€æä¾›äº†åŸºç¡€</p>
<p>ç‰¹ç‚¹ï¼šè™½ç„¶ç¾è§‚ï¼Œä½†æ˜¯åˆ·æ–°ä¼šå‡ºç° 404 éœ€è¦åç«¯è¿›è¡Œé…ç½®</p>
<h3 id="vue-router-æœ‰å‡ ç§å¯¼èˆªé’©å­"><a href="#vue-router-æœ‰å‡ ç§å¯¼èˆªé’©å­" class="headerlink" title="vue-router æœ‰å‡ ç§å¯¼èˆªé’©å­"></a>vue-router æœ‰å‡ ç§å¯¼èˆªé’©å­</h3><p>è·¯ç”±é’©å­çš„æ‰§è¡Œæµç¨‹ï¼Œé’©å­å‡½æ•°ç§ç±»æœ‰ï¼šå…¨å±€å®ˆå«ã€è·¯ç”±å®ˆå«ã€ç»„ä»¶å®ˆå«ã€‚<br>å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹ï¼š<br>1ã€å¯¼èˆªè¢«è§¦å‘ã€‚<br>2ã€åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouterLeave å®ˆå«ã€‚<br>3ã€è°ƒç”¨å…¨å±€çš„ beforeEach å®ˆå«ã€‚<br>4ã€åœ¨é‡ç”¨çš„ç»„ä»¶è°ƒç”¨ beforeRouterUpdate å®ˆå«ï¼ˆ2.2+ï¼‰ã€‚<br>5ã€åœ¨è·¯ç”±é…ç½®é‡Œé¢ beforeEnterã€‚<br>6ã€è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚<br>7ã€åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouterEnterã€‚<br>8ã€è°ƒç”¨å…¨å±€çš„ beforeResolve å®ˆå«ï¼ˆ2.5+ï¼‰ã€‚<br>9ã€å¯¼èˆªè¢«ç¡®è®¤ã€‚<br>10ã€è°ƒç”¨å…¨å±€çš„ afterEach é’©å­ã€‚<br>11ã€è§¦å‘ DOM æ›´æ–°ã€‚<br>12ã€è°ƒç”¨ beforeRouterEnter å®ˆå«ä¸­ä¼ ç»™nextçš„å›è°ƒå‡½æ•°ï¼Œåˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚</p>
]]></content>
      <tags>
        <tag>é¢è¯•</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>JSæ•°ç»„ä¹‹reduce</title>
    <url>/2020/05/13/JS%E6%95%B0%E7%BB%84%E4%B9%8Breduce/</url>
    <content><![CDATA[<h4 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h4><p>JS æ•°ç»„ä¸­çš„æ•°ç»„æ–¹æ³•reduceç»å¸¸ç”¨åˆ°ï¼Œè¯¥æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œcallbackå‡½æ•°(å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚<br><a id="more"></a></p>
<h5 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">arr.reduce(callback(accumulator, currentValue, index, array), initialValue)</span><br></pre></td></tr></table></figure>
<h5 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°:"></a>å‚æ•°:</h5><p><code>callback</code><br>æ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸ªå€¼ (å¦‚æœæ²¡æœ‰æä¾› initialValueåˆ™ç¬¬ä¸€ä¸ªå€¼é™¤å¤–)çš„å‡½æ•°ï¼ŒåŒ…å«å››ä¸ªå‚æ•°ï¼š<br>accumulator<br>ç´¯è®¡å™¨ç´¯è®¡å›è°ƒçš„è¿”å›å€¼; å®ƒæ˜¯ä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒæ—¶è¿”å›çš„ç´¯ç§¯å€¼ï¼Œæˆ–initialValueï¼ˆè§äºä¸‹æ–¹ï¼‰ã€‚</p>
<p><code>currentValue</code><br>æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚<br><code>index </code>å¯é€‰<br>æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚ å¦‚æœæä¾›äº†initialValueï¼Œåˆ™èµ·å§‹ç´¢å¼•å·ä¸º0ï¼Œå¦åˆ™ä»ç´¢å¼•1èµ·å§‹ã€‚<br><code>array</code>å¯é€‰<br>è°ƒç”¨reduce()çš„æ•°ç»„<br><code>initialValue</code>å¯é€‰<br>ä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callbackå‡½æ•°æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚ å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ åœ¨æ²¡æœ‰åˆå§‹å€¼çš„ç©ºæ•°ç»„ä¸Šè°ƒç”¨ reduce å°†æŠ¥é”™ã€‚</p>
<p>å›è°ƒå‡½æ•°ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼Œ<code>accumulator</code> å’Œ<code>currentValue</code>çš„å–å€¼æœ‰ä¸¤ç§æƒ…å†µï¼šå¦‚æœè°ƒç”¨reduce()æ—¶æä¾›äº†<code>initialValue</code>ï¼Œ<code>accumulator</code>å–å€¼ä¸º<code>initialValue</code>ï¼Œ<code>currentValue</code>å–æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼›å¦‚æœæ²¡æœ‰æä¾› <code>initialValue</code>ï¼Œé‚£ä¹ˆ<code>accumulator</code>å–æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œ<code>currentValue</code>å–æ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå€¼ã€‚</p>
<p><strong><br>æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰æä¾›initialValueï¼Œreduce ä¼šä»ç´¢å¼•1çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œ callback æ–¹æ³•ï¼Œè·³è¿‡ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚å¦‚æœæä¾›initialValueï¼Œä»ç´¢å¼•0å¼€å§‹ã€‚<br></strong></p>
<h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><h5 id="æ•°ç»„æ±‚å’Œ"><a href="#æ•°ç»„æ±‚å’Œ" class="headerlink" title="æ•°ç»„æ±‚å’Œ"></a>æ•°ç»„æ±‚å’Œ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const  total = [ 0, 1, 2, 3 ].reduce(</span><br><span class="line">  ( acc, cur ) =&gt; acc + cur,</span><br><span class="line">  0</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h5 id="å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´"><a href="#å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´" class="headerlink" title="å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´"></a>å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var flattened = [[0, 1], [2, 3], [4, 5]].reduce(</span><br><span class="line"> ( acc, cur ) =&gt; acc.concat(cur),</span><br><span class="line"> []</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h5 id="è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°"><a href="#è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°"></a>è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var names = [&apos;Alice&apos;, &apos;Bob&apos;, &apos;Tiff&apos;, &apos;Bruce&apos;, &apos;Alice&apos;];</span><br><span class="line"></span><br><span class="line">var countedNames = names.reduce(function (allNames, name) &#123; </span><br><span class="line">  if (name in allNames) &#123;</span><br><span class="line">    allNames[name]++;</span><br><span class="line">  &#125;</span><br><span class="line">  else &#123;</span><br><span class="line">    allNames[name] = 1;</span><br><span class="line">  &#125;</span><br><span class="line">  return allNames;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line">// countedNames is:</span><br><span class="line">// &#123; &apos;Alice&apos;: 2, &apos;Bob&apos;: 1, &apos;Tiff&apos;: 1, &apos;Bruce&apos;: 1 &#125;</span><br></pre></td></tr></table></figure>
<h5 id="æŒ‰å±æ€§å¯¹objectåˆ†ç±»"><a href="#æŒ‰å±æ€§å¯¹objectåˆ†ç±»" class="headerlink" title="æŒ‰å±æ€§å¯¹objectåˆ†ç±»"></a>æŒ‰å±æ€§å¯¹objectåˆ†ç±»</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var people = [</span><br><span class="line">  &#123; name: &apos;Alice&apos;, age: 21 &#125;,</span><br><span class="line">  &#123; name: &apos;Max&apos;, age: 20 &#125;,</span><br><span class="line">  &#123; name: &apos;Jane&apos;, age: 20 &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">function groupBy(objectArray, property) &#123;</span><br><span class="line">  return objectArray.reduce(function (acc, obj) &#123;</span><br><span class="line">    var key = obj[property];</span><br><span class="line">    if (!acc[key]) &#123;</span><br><span class="line">      acc[key] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    acc[key].push(obj);</span><br><span class="line">    return acc;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var groupedPeople = groupBy(people, &apos;age&apos;);</span><br><span class="line">// groupedPeople is:</span><br><span class="line">// &#123; </span><br><span class="line">//   20: [</span><br><span class="line">//     &#123; name: &apos;Max&apos;, age: 20 &#125;, </span><br><span class="line">//     &#123; name: &apos;Jane&apos;, age: 20 &#125;</span><br><span class="line">//   ], </span><br><span class="line">//   21: [&#123; name: &apos;Alice&apos;, age: 21 &#125;] </span><br><span class="line">// &#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å’ŒinitialValueç»‘å®šåŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„æ•°ç»„"><a href="#ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å’ŒinitialValueç»‘å®šåŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„æ•°ç»„" class="headerlink" title="ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å’ŒinitialValueç»‘å®šåŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„æ•°ç»„"></a>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å’ŒinitialValueç»‘å®šåŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„æ•°ç»„</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// friends - å¯¹è±¡æ•°ç»„</span><br><span class="line">// where object field &quot;books&quot; - list of favorite books </span><br><span class="line">var friends = [&#123;</span><br><span class="line">  name: &apos;Anna&apos;,</span><br><span class="line">  books: [&apos;Bible&apos;, &apos;Harry Potter&apos;],</span><br><span class="line">  age: 21</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  name: &apos;Bob&apos;,</span><br><span class="line">  books: [&apos;War and peace&apos;, &apos;Romeo and Juliet&apos;],</span><br><span class="line">  age: 26</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  name: &apos;Alice&apos;,</span><br><span class="line">  books: [&apos;The Lord of the Rings&apos;, &apos;The Shining&apos;],</span><br><span class="line">  age: 18</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">// allbooks - list which will contain all friends&apos; books +  </span><br><span class="line">// additional list contained in initialValue</span><br><span class="line">var allbooks = friends.reduce(function(prev, curr) &#123;</span><br><span class="line">  return [...prev, ...curr.books];</span><br><span class="line">&#125;, [&apos;Alphabet&apos;]);</span><br><span class="line"></span><br><span class="line">// allbooks = [</span><br><span class="line">//   &apos;Alphabet&apos;, &apos;Bible&apos;, &apos;Harry Potter&apos;, &apos;War and peace&apos;, </span><br><span class="line">//   &apos;Romeo and Juliet&apos;, &apos;The Lord of the Rings&apos;,</span><br><span class="line">//   &apos;The Shining&apos;</span><br><span class="line">// ]</span><br></pre></td></tr></table></figure>
<h5 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h5><p><strong><br>æ³¨æ„ï¼š å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªå¯ä»¥å…¼å®¹<code>Set </code>å’Œ<code> Array.from() </code>çš„ç¯å¢ƒï¼Œ ä½ å¯ä»¥ä½¿ç”¨<code>let orderedArray = Array.from(new Set(myArray)); <code>æ¥è·å¾—ä¸€ä¸ªç›¸åŒå…ƒç´ è¢«ç§»é™¤çš„æ•°ç»„ã€‚<br></code></code></strong><br>æ–¹æ³•ä¸€ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var myArray = [&apos;a&apos;, &apos;b&apos;, &apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;e&apos;, &apos;e&apos;, &apos;c&apos;, &apos;d&apos;, &apos;d&apos;, &apos;d&apos;, &apos;d&apos;];</span><br><span class="line">var myOrderedArray = myArray.reduce(function (accumulator, currentValue) &#123;</span><br><span class="line">  if (accumulator.indexOf(currentValue) === -1) &#123;</span><br><span class="line">    accumulator.push(currentValue);</span><br><span class="line">  &#125;</span><br><span class="line">  return accumulator</span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure></p>
<p>æ–¹æ³•äºŒï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr = [1,2,1,2,3,5,4,5,3,4,4,4,4];</span><br><span class="line">let result = arr.sort().reduce((init, current) =&gt; &#123;</span><br><span class="line">    if(init.length === 0 || init[init.length-1] !== current) &#123;</span><br><span class="line">        init.push(current);</span><br><span class="line">    &#125;</span><br><span class="line">    return init;</span><br><span class="line">&#125;, []);</span><br><span class="line">console.log(result); //[1,2,3,4,5]</span><br></pre></td></tr></table></figure></p>
<h5 id="æŒ‰é¡ºåºè¿è¡ŒPromise"><a href="#æŒ‰é¡ºåºè¿è¡ŒPromise" class="headerlink" title="æŒ‰é¡ºåºè¿è¡ŒPromise"></a>æŒ‰é¡ºåºè¿è¡ŒPromise</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Runs promises from array of functions that can return promises</span><br><span class="line"> * in chained manner</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;array&#125; arr - promise arr</span><br><span class="line"> * @return &#123;Object&#125; promise object</span><br><span class="line"> */</span><br><span class="line">function runPromiseInSequence(arr, input) &#123;</span><br><span class="line">  return arr.reduce(</span><br><span class="line">    (promiseChain, currentFunction) =&gt; promiseChain.then(currentFunction),</span><br><span class="line">    Promise.resolve(input)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// promise function 1</span><br><span class="line">function p1(a) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    resolve(a * 5);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// promise function 2</span><br><span class="line">function p2(a) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    resolve(a * 2);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// function 3  - will be wrapped in a resolved promise by .then()</span><br><span class="line">function f3(a) &#123;</span><br><span class="line"> return a * 3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// promise function 4</span><br><span class="line">function p4(a) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    resolve(a * 4);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const promiseArr = [p1, p2, f3, p4];</span><br><span class="line">runPromiseInSequence(promiseArr, 10)</span><br><span class="line">  .then(console.log);   // 1200</span><br></pre></td></tr></table></figure>
<h5 id="åŠŸèƒ½å‹å‡½æ•°ç®¡é“"><a href="#åŠŸèƒ½å‹å‡½æ•°ç®¡é“" class="headerlink" title="åŠŸèƒ½å‹å‡½æ•°ç®¡é“"></a>åŠŸèƒ½å‹å‡½æ•°ç®¡é“</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// Building-blocks to use for composition</span><br><span class="line">const double = x =&gt; x + x;</span><br><span class="line">const triple = x =&gt; 3 * x;</span><br><span class="line">const quadruple = x =&gt; 4 * x;</span><br><span class="line"></span><br><span class="line">// Function composition enabling pipe functionality</span><br><span class="line">const pipe = (...functions) =&gt; input =&gt; functions.reduce(</span><br><span class="line">    (acc, fn) =&gt; fn(acc),</span><br><span class="line">    input</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// Composed functions for multiplication of specific values</span><br><span class="line">const multiply6 = pipe(double, triple);</span><br><span class="line">const multiply9 = pipe(triple, triple);</span><br><span class="line">const multiply16 = pipe(quadruple, quadruple);</span><br><span class="line">const multiply24 = pipe(double, triple, quadruple);</span><br><span class="line"></span><br><span class="line">// Usage</span><br><span class="line">multiply6(6); // 36</span><br><span class="line">multiply9(9); // 81</span><br><span class="line">multiply16(16); // 256</span><br><span class="line">multiply24(10); // 240</span><br></pre></td></tr></table></figure>
<h5 id="ä½¿ç”¨-reduceå®ç°map"><a href="#ä½¿ç”¨-reduceå®ç°map" class="headerlink" title="ä½¿ç”¨ reduceå®ç°map"></a>ä½¿ç”¨ reduceå®ç°map</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (!Array.prototype.mapUsingReduce) &#123;</span><br><span class="line">  Array.prototype.mapUsingReduce = function(callback, thisArg) &#123;</span><br><span class="line">    return this.reduce(function(mappedArray, currentValue, index, array) &#123;</span><br><span class="line">      mappedArray[index] = callback.call(thisArg, currentValue, index, array);</span><br><span class="line">      return mappedArray;</span><br><span class="line">    &#125;, []);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[1, 2, , 3].mapUsingReduce(</span><br><span class="line">  (currentValue, index, array) =&gt; currentValue + index + array.length</span><br><span class="line">); // [5, 7, , 10]</span><br></pre></td></tr></table></figure>
<p>æ€»ä¹‹ï¼Œreduce æ–¹æ³•åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œä»¥ååœ¨é¡¹ç›®ä¸­å¤šå¤šä½¿ç”¨å§ã€‚ğŸ˜</p>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>reduce</tag>
      </tags>
  </entry>
  <entry>
    <title>JSç±»å‹åˆ¤æ–­</title>
    <url>/2020/04/14/JS%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD/</url>
    <content><![CDATA[<p>æˆ‘ä»¬éƒ½çŸ¥é“ JS æ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œè·Ÿjavaç­‰å¼ºç±»å‹è¯­è¨€ä¸åŒï¼Œæˆ‘ä»¬åªèƒ½åœ¨è¿è¡Œæ—¶æ‰çœŸæ­£çŸ¥é“æŸä¸ªå˜é‡æ˜¯å±äºå“ªä¸€ç§ç±»å‹ï¼Œå› ä¸ºåœ¨æ­¤ä¹‹å‰ï¼Œä½ å¯èƒ½æœ‰æ„æ— æ„çš„æ”¹å˜äº†å˜é‡çš„ç±»å‹ï¼Œå› ä¸ºå˜é‡çš„å€¼åŠå…¶æ•°æ®ç±»å‹å¯åœ¨å£°æ˜å‘¨æœŸå†…æ”¹å˜ï¼Œè¿™ä¹Ÿæ˜¯bugçš„æ¥æºï¼Œç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´éƒ½æ·±æœ‰ä½“ä¼šğŸ˜†ã€‚<br><a id="more"></a></p>
<h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒJS ä¸­å˜é‡åˆ†ä¸ºä¸¤ç§ç±»å‹ã€‚åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ã€‚</p>
<h4 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h4><p>åŸºæœ¬ç±»å‹åŒ…æ‹¬<code>Undefinedã€Nullã€Stringã€Numberã€Booleanã€Symbol</code>ã€‚åŸºæœ¬ç±»å‹æŒ‰å€¼è®¿é—®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯æ“ä½œä¿å­˜åœ¨å˜é‡ä¸­å®é™…çš„å€¼ã€‚</p>
<p>åŸºæœ¬ç±»å‹çš„å€¼åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°çš„ç©ºé—´ï¼Œæ˜¯è¢«ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­ã€‚ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶åŸºæœ¬ç±»å‹çš„å€¼ï¼Œä¼šåˆ›å»ºè¿™ä¸ªå€¼çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œè¿™ä¸¤ä¸ªå€¼å®Œå…¨ç‹¬ç«‹åœ°å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­ã€‚</p>
<h4 id="å¼•ç”¨ç±»å‹"><a href="#å¼•ç”¨ç±»å‹" class="headerlink" title="å¼•ç”¨ç±»å‹"></a>å¼•ç”¨ç±»å‹</h4><p>å¼•ç”¨ç±»å‹æ˜¯å¯¹è±¡ç±»å‹ï¼ŒåŒ…æ‹¬<code>Objectã€Arrayã€Functionã€Dataã€Regexpã€Error</code>ã€‚å¼•ç”¨ç±»å‹çš„å€¼æ˜¯ä¿å­˜åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼ŒJSä¸å…è®¸ç›´æ¥è®¿é—®å†…å­˜ä¸­çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ç›´æ¥è®¿é—®æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´ã€‚</p>
<p>æ“ä½œå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨æ“ä½œå¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥è¯´å¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„ã€‚ä»è€Œæœ‰<code>[1, 2] === [1, 2]</code>ä¸º<code>false</code>ã€‚</p>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>jsç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeç®—æ³•é¢˜ä¹‹ä¸¤æ•°ä¹‹å’Œ</title>
    <url>/2019/01/09/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E4%B9%8B%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
    <content><![CDATA[<h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚<br><a id="more"></a><br>ç¤ºä¾‹:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç»™å®š nums = [2, 7, 11, 15], target = 9</span><br><span class="line"></span><br><span class="line">å› ä¸º nums[0] + nums[1] = 2 + 7 = 9</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥è¿”å› [0, 1]</span><br></pre></td></tr></table></figure></p>
<h3 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h3><p>æˆ‘çš„è§£ç­”ï¼Œç®€å•æš´åŠ›ã€‚ã€‚</p>
<h4 id="è§£ç­”ä¸€"><a href="#è§£ç­”ä¸€" class="headerlink" title="è§£ç­”ä¸€"></a>è§£ç­”ä¸€</h4><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)ï¼Œ å¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬è¯•å›¾é€šè¿‡éå†æ•°ç»„çš„å…¶ä½™éƒ¨åˆ†æ¥å¯»æ‰¾å®ƒæ‰€å¯¹åº”çš„ç›®æ ‡å…ƒç´ ï¼Œè¿™å°†è€—è´¹ O(n) çš„æ—¶é—´ã€‚å› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</li>
<li>æ‰§è¡Œæ—¶é—´ 148ms<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @param &#123;number[]&#125; nums</span><br><span class="line"> * @param &#123;number&#125; target</span><br><span class="line"> * @return &#123;number[]&#125;</span><br><span class="line"> */</span><br><span class="line">var twoSum = function(nums, target) &#123;</span><br><span class="line">    let length = nums.length;</span><br><span class="line">    for(let i = 0; i &lt;length; i++)&#123;</span><br><span class="line">        for(let j = i+1; j &lt; length; j++)&#123;</span><br><span class="line">            if(nums[i] + nums[j] === target)&#123;</span><br><span class="line">                return [i,j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="è§£ç­”äºŒ"><a href="#è§£ç­”äºŒ" class="headerlink" title="è§£ç­”äºŒ"></a>è§£ç­”äºŒ</h4><p>ç”¨es6çš„Map , éå†ä¸€æ¬¡å³å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var twoSum = function(nums, target) &#123;</span><br><span class="line">    let targetMap = new Map()</span><br><span class="line">    for (let i = 0; i &lt; nums.length; i++) &#123;</span><br><span class="line">      const key = target - nums[i]</span><br><span class="line">      if (targetMap.has(key)) &#123;</span><br><span class="line">        return [targetMap.get(key), i]</span><br><span class="line">      &#125;</span><br><span class="line">      targetMap.set(nums[i], i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>LeetCode</tag>
        <tag>ç®—æ³•</tag>
        <tag>ä¸¤æ•°ä¹‹å’Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>defer async</title>
    <url>/2022/02/19/defer-async/</url>
    <content><![CDATA[<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ™®é€šçš„<code>script</code>æ ‡ç­¾åŠ è½½ <code>js</code>ä¼šé˜»å¡é¡µé¢è§£æï¼Œå› æ­¤ä¼˜åŒ–æªæ–½å¯ä»¥å°†scriptæ”¾åˆ°<code><script src="/live2d-widget-model-hibiki/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2d-widget-model-hibiki/","pluginJsPath":null,"pluginModelPath":"live2d-widget-model-hibiki/assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2d-widget-model-hibiki/live2d-widget-model-hibiki/assets/hibiki.model.json"},"display":{"position":"left","width":200,"height":400},"mobile":{"show":true},"react":{"opacity":0.7}});</script></code>æ ‡ç­¾å‰é¢ã€‚ä½†è¿˜æœ‰ä¸€ç§æ›´å¥½çš„åšæ³•æ˜¯åŠ <code>defer </code>å’Œ <code>async</code>å±æ€§ã€‚è¿™ä¸¤ä¸ªå±æ€§ä½¿å¾—<code>script</code>éƒ½ä¸ä¼šé˜»å¡<code>DOM</code>çš„æ¸²æŸ“<br><a id="more"></a></p>
<h3 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h3><p>å¦‚æœscriptæ ‡ç­¾è®¾ç½®äº†è¯¥å±æ€§ï¼Œåˆ™æµè§ˆå™¨ä¼šå¼‚æ­¥çš„ä¸‹è½½è¯¥æ–‡ä»¶å¹¶ä¸”ä¸ä¼šå½±å“åˆ°åç»­DOMçš„æ¸²æŸ“ï¼›<br>å¦‚æœæœ‰å¤šä¸ªè®¾ç½®äº†deferçš„scriptæ ‡ç­¾å­˜åœ¨ï¼Œåˆ™ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œæ‰€æœ‰çš„scriptï¼›<br>deferè„šæœ¬ä¼šåœ¨æ–‡æ¡£æ¸²æŸ“å®Œæ¯•åï¼ŒDOMContentLoadedäº‹ä»¶è°ƒç”¨å‰æ‰§è¡Œã€‚</p>
<p>åº”ç”¨åœºæ™¯: å¦‚æœä½ çš„è„šæœ¬ä»£ç ä¾èµ–äºé¡µé¢ä¸­çš„DOMå…ƒç´ ï¼ˆæ–‡æ¡£æ˜¯å¦è§£æå®Œæ¯•ï¼‰ï¼Œæˆ–è€…è¢«å…¶ä»–è„šæœ¬æ–‡ä»¶ä¾èµ–ã€‚<br>ä¾‹ï¼š<br>1.è¯„è®ºæ¡†<br>2.ä»£ç è¯­æ³•é«˜äº®<br>3.polyfill.js</p>
<h3 id="async"><a href="#async" class="headerlink" title="async"></a>async</h3><p>asyncè„šæœ¬ä¼šåœ¨åŠ è½½å®Œæ¯•åæ‰§è¡Œã€‚<br>syncçš„æ‰§è¡Œï¼Œå¹¶ä¸ä¼šæŒ‰ç€scriptåœ¨é¡µé¢ä¸­çš„é¡ºåºæ¥æ‰§è¡Œï¼Œè€Œæ˜¯è°å…ˆåŠ è½½å®Œè°æ‰§è¡Œã€‚<br>asyncè„šæœ¬çš„åŠ è½½ä¸è®¡å…¥DOMContentLoadedäº‹ä»¶ç»Ÿè®¡</p>
<p>åº”ç”¨åœºæ™¯: å¦‚æœä½ çš„è„šæœ¬å¹¶ä¸å…³å¿ƒé¡µé¢ä¸­çš„DOMå…ƒç´ ï¼ˆæ–‡æ¡£æ˜¯å¦è§£æå®Œæ¯•ï¼‰ï¼Œå¹¶ä¸”ä¹Ÿä¸ä¼šäº§ç”Ÿå…¶ä»–è„šæœ¬éœ€è¦çš„æ•°æ®ã€‚</p>
<p>ä¾‹ï¼š<br>1.ç™¾åº¦ç»Ÿè®¡</p>
]]></content>
  </entry>
  <entry>
    <title>es6æ•°ç»„æ–¹æ³•</title>
    <url>/2022/02/17/es6%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>es5æ•°ç»„æ–¹æ³•ç”¨çš„æ¯”è¾ƒå¤šï¼Œæ¯”è¾ƒç†Ÿäº†ï¼Œes6æ¯”è¾ƒå°‘ï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚<br><a id="more"></a></p>
<h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h3><p>ç”¨äºå°†ç±»æ•°ç»„å’Œå¯éå†çš„å¯¹è±¡è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„<br>ç±»æ•°ç»„ï¼šå°±æ˜¯ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæœ¬è´¨ä¸Šè¦æœ‰lengthå±æ€§ï¼Œè¯´åˆ°åº•ï¼Œä»»ä½•æ‹¥æœ‰lengthå±æ€§çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥é€šè¿‡Array.from()æ–¹æ³•è½¬æ¢ä¸ºæ•°ç»„ã€‚<br>å¯éå†çš„å¯¹è±¡ï¼šES6æ–°å¢çš„æ•°æ®ç»“æ„setå’Œmap</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let myArray = &#123;&apos;0&apos;:&apos;a&apos;,&apos;1&apos;:&apos;b&apos;,&apos;2&apos;:&apos;c&apos;&#125;;</span><br><span class="line">let arr = Array.from(myArray);</span><br><span class="line">console.log(arr);   //[]ç”±äºæ²¡æœ‰lengthå±æ€§æ‰“å°ç»“æœä¸ºä¸€ä¸ªç©ºæ•°ç»„</span><br><span class="line"></span><br><span class="line">let myArray = &#123;&apos;0&apos;:&apos;a&apos;,&apos;1&apos;:&apos;b&apos;,&apos;2&apos;:&apos;c&apos;,length:3&#125;;</span><br><span class="line">let arr = Array.from(myArray);</span><br><span class="line">console.log(arr);  //[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><br><span class="line"></span><br><span class="line">console.log(Array.from(&#123;length:2&#125;));  //[undefined, undefined]</span><br></pre></td></tr></table></figure>
<h3 id="fill"><a href="#fill" class="headerlink" title="fill()"></a>fill()</h3><p>å¡«å……ä¸€ä¸ªæ•°ç»„ï¼Œä¸€èˆ¬ç”¨äºæ•°ç»„çš„åˆå§‹åŒ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var arr = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;];</span><br><span class="line">console.log(arr.fill(1)); // [1, 1, 1]</span><br></pre></td></tr></table></figure>
<h3 id="keys"><a href="#keys" class="headerlink" title="keys()"></a>keys()</h3><p>keys()éå†å‡ºæ‰€æœ‰çš„ç´¢å¼•å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for (let index of [&apos;a&apos;, &apos;b&apos;].keys()) &#123;</span><br><span class="line">    console.log(index);</span><br><span class="line">&#125;  //0  1</span><br></pre></td></tr></table></figure>
<h3 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf()"></a>valueOf()</h3><p>valueOf()éå†æ‰€æœ‰çš„å€¼<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for (let index of [&apos;a&apos;, &apos;b&apos;].valueOf()) &#123;</span><br><span class="line">    console.log(index);</span><br><span class="line">&#125;  //a  b</span><br></pre></td></tr></table></figure></p>
<h3 id="entries"><a href="#entries" class="headerlink" title="entries()"></a>entries()</h3><p>entries()éå†å€¼å’Œç´¢å¼•<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for (let index of [&apos;a&apos;, &apos;b&apos;].entries()) &#123;</span><br><span class="line">    console.log(index);</span><br><span class="line">&#125;  //[0, &quot;a&quot;] [1, &quot;b&quot;]</span><br></pre></td></tr></table></figure></p>
]]></content>
  </entry>
  <entry>
    <title>github actions å‰ç«¯éƒ¨ç½²æœåŠ¡å™¨</title>
    <url>/2021/07/04/github-actions-%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<p>å‰ç«¯æ¯æ¬¡éƒ¨ç½²éƒ½è¦æ‰‹åŠ¨æ‰“åŒ…æ„Ÿè§‰å¥½éº»çƒ¦ï¼Œæµªè´¹äº†å¤§é‡æ—¶é—´ä¸è¯´è¿˜å®¹æ˜“å‡ºé”™ã€‚æ‰€ä»¥å°±ç ”ç©¶äº†ä¸€ä¸‹github çš„github actionsã€‚githubè‡ªå·±æ¨å‡ºçš„æŒç»­é›†æˆå·¥å…·ã€‚<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name: Blog CI/CD</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master  # åªåœ¨masterä¸Špushè§¦å‘éƒ¨ç½²</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  build-production:</span><br><span class="line"></span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    strategy:</span><br><span class="line">      matrix:</span><br><span class="line">        node-version: [12.x] # é…ç½®æ‰€éœ€nodeç‰ˆæœ¬</span><br><span class="line">    steps:  # è‡ªåŠ¨åŒ–æ­¥éª¤</span><br><span class="line">    - uses: actions/checkout@v2   # ç¬¬ä¸€æ­¥ï¼Œæ£€å‡ºä»“åº“å‰¯æœ¬</span><br><span class="line"></span><br><span class="line">    - name: Use Node.js $&#123;&#123; matrix.node-version &#125;&#125; #è§„å®šnode.jsç‰ˆæœ¬(å¯ä¸é…ç½®)</span><br><span class="line">      uses: actions/setup-node@v1</span><br><span class="line">      with:</span><br><span class="line">        node-version: $&#123;&#123; matrix.node-version &#125;&#125;</span><br><span class="line"></span><br><span class="line">    - name: Install dependencies  # ç¬¬äºŒæ­¥ï¼Œå®‰è£…ä¾èµ–</span><br><span class="line">      run: npm install</span><br><span class="line"></span><br><span class="line">    - name: Build                 # ç¬¬ä¸‰æ­¥ï¼Œæ‰“åŒ…ä»£ç </span><br><span class="line">      run: npm run build --if-present</span><br><span class="line"></span><br><span class="line">    # Deploy</span><br><span class="line">    - name: Deploy</span><br><span class="line">      uses: easingthemes/ssh-deploy@v2.0.7</span><br><span class="line">      env:</span><br><span class="line">        SSH_PRIVATE_KEY: $&#123;&#123; secrets.ACCESS_TOKEN &#125;&#125; # æœåŠ¡ç«¯ç§é’¥</span><br><span class="line">        ARGS: &quot;-avz --delete&quot;</span><br><span class="line">        SOURCE: &quot;dist/&quot;</span><br><span class="line">        REMOTE_HOST: $&#123;&#123; secrets.SSH_HOST &#125;&#125;</span><br><span class="line">        REMOTE_USER: $&#123;&#123; secrets.SSH_USERNAME &#125;&#125;</span><br><span class="line">        TARGET: $&#123;&#123; secrets.TARGET &#125;&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>CI</tag>
        <tag>éƒ¨ç½²</tag>
        <tag>æŒç»­é›†æˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>js å•å¼•å·æ›¿æ¢æˆåŒå¼•å·,åŒå¼•å·æ›¿æ¢æˆå•å¼•å·</title>
    <url>/2021/03/25/js-%E5%8D%95%E5%BC%95%E5%8F%B7%E6%9B%BF%E6%8D%A2%E6%88%90%E5%8F%8C%E5%BC%95%E5%8F%B7-%E5%8F%8C%E5%BC%95%E5%8F%B7%E6%9B%BF%E6%8D%A2%E6%88%90%E5%8D%95%E5%BC%95%E5%8F%B7/</url>
    <content><![CDATA[<p>jsæ–¹æ³•ä¼ å‚<code>data</code>ä¸­æœ‰åŒå¼•å·æ—¶ï¼Œä¼šæŠ¥é”™ã€‚æ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&apos;&lt;a href=&quot;#&quot; style=&quot;text-decoration: none;color: #7b7de5;margin-left: 10px&quot; onclick=&quot;handleAcClick(&apos;+data+&apos;)&quot;&gt;å›æ‰§ä¿¡æ¯&lt;/a&gt;&apos;</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥æŠŠå‚æ•°ä¸­çš„åŒå¼•å·è½¬æ¢ä¸ºå•å¼•å·ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">JSON.stringify(data).replace(/\&quot;/g,&quot;&apos;&quot;)</span><br></pre></td></tr></table></figure></p>
<p>æœ€åä½¿ç”¨å‚æ•°çš„æ—¶å€™å†æŠŠå•å¼•å·è½¬æ¢ä¸ºåŒå¼•å·å°±è¡Œäº†<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">JSON.parse(data.replace(/&apos;/g, &apos;&quot;&apos;))</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>jsonpåŸç†ä¸å®ç°</title>
    <url>/2022/02/23/jsonp%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>jsonpæ˜¯ä¸€ç§è·¨åŸŸé€šä¿¡çš„æ‰‹æ®µï¼Œå®ƒçš„åŸç†å…¶å®å¾ˆç®€å•ï¼š</p>
<p>é¦–å…ˆæ˜¯åˆ©ç”¨scriptæ ‡ç­¾çš„srcå±æ€§æ¥å®ç°è·¨åŸŸã€‚</p>
<p>é€šè¿‡å°†å‰ç«¯æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ é€’åˆ°æœåŠ¡å™¨ç«¯ï¼Œç„¶åç”±æœåŠ¡å™¨ç«¯æ³¨å…¥å‚æ•°ä¹‹åå†è¿”å›ï¼Œå®ç°æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯é€šä¿¡ã€‚</p>
<p>ç”±äºä½¿ç”¨scriptæ ‡ç­¾çš„srcå±æ€§ï¼Œå› æ­¤åªæ”¯æŒgetæ–¹æ³•</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function jsonp(req)&#123;</span><br><span class="line">    var script = document.createElement(&apos;script&apos;);</span><br><span class="line">    var url = req.url + &apos;?callback=&apos; + req.callback.name;</span><br><span class="line">    script.src = url;</span><br><span class="line">    document.getElementsByTagName(&apos;head&apos;)[0].appendChild(script); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function hello(res)&#123;</span><br><span class="line">    alert(&apos;hello &apos; + res.data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">jsonp(&#123;</span><br><span class="line">    url : &apos;&apos;,</span><br><span class="line">    callback : hello </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æœåŠ¡å™¨ç«¯ä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var http = require(&apos;http&apos;);</span><br><span class="line">var urllib = require(&apos;url&apos;);</span><br><span class="line"></span><br><span class="line">var port = 8080;</span><br><span class="line">var data = &#123;&apos;data&apos;:&apos;world&apos;&#125;;</span><br><span class="line"></span><br><span class="line">http.createServer(function(req,res)&#123;</span><br><span class="line">    var params = urllib.parse(req.url,true);</span><br><span class="line">    if(params.query.callback)&#123;</span><br><span class="line">        console.log(params.query.callback);</span><br><span class="line">        //jsonp</span><br><span class="line">        var str = params.query.callback + &apos;(&apos; + JSON.stringify(data) + &apos;)&apos;;</span><br><span class="line">        res.end(str);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        res.end();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;).listen(port,function()&#123;</span><br><span class="line">    console.log(&apos;jsonp server is on&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>JSONP</tag>
      </tags>
  </entry>
  <entry>
    <title>jsé¢è¯•é¢˜</title>
    <url>/2022/02/21/js%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<h3 id="jsçš„æ•°æ®ç±»å‹"><a href="#jsçš„æ•°æ®ç±»å‹" class="headerlink" title="jsçš„æ•°æ®ç±»å‹"></a>jsçš„æ•°æ®ç±»å‹</h3><p>js å¯ä»¥åˆ†ä¸ºä¸¤ç§ç±»å‹çš„å€¼ï¼Œä¸€ç§æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¸€ç§æ˜¯å¤æ‚æ•°æ®ç±»å‹ã€‚</p>
<p>åŸºæœ¬æ•°æ®ç±»å‹ï¼šUndefinedã€Nullã€Booleanã€Numberã€String</p>
<p>å¤æ‚æ•°æ®ç±»å‹æŒ‡çš„æ˜¯ Object ç±»å‹ï¼Œæ‰€æœ‰å…¶ä»–çš„å¦‚ Arrayã€Date ç­‰æ•°æ®ç±»å‹éƒ½å¯ä»¥ç†è§£ä¸º Object ç±»å‹çš„å­ç±»ã€‚<br><a id="more"></a><br>ä¸¤ç§ç±»å‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯å®ƒä»¬çš„å­˜å‚¨ä½ç½®ä¸åŒï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„å€¼ç›´æ¥ä¿å­˜åœ¨æ ˆä¸­ï¼Œè€Œå¤æ‚æ•°æ®ç±»å‹çš„å€¼ä¿å­˜åœ¨å †ä¸­ï¼Œé€šè¿‡ä½¿ç”¨åœ¨æ ˆä¸­<br>ä¿å­˜å¯¹åº”çš„æŒ‡é’ˆæ¥è·å–å †ä¸­çš„å€¼ã€‚</p>
<h3 id="åˆ¤æ–­å˜é‡çš„ç±»å‹"><a href="#åˆ¤æ–­å˜é‡çš„ç±»å‹" class="headerlink" title="åˆ¤æ–­å˜é‡çš„ç±»å‹"></a>åˆ¤æ–­å˜é‡çš„ç±»å‹</h3><p>Object.prototype.toString.call([]ï¼‰ // â€˜[object Array]â€™</p>
<h3 id="åŸå‹å’ŒåŸå‹é“¾"><a href="#åŸå‹å’ŒåŸå‹é“¾" class="headerlink" title="åŸå‹å’ŒåŸå‹é“¾"></a>åŸå‹å’ŒåŸå‹é“¾</h3><p>åœ¨ js ä¸­æˆ‘ä»¬æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°æ¥æ–°å»ºä¸€ä¸ªå¯¹è±¡çš„ï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°çš„å†…éƒ¨éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§å€¼ï¼Œè¿™ä¸ªå±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹<br>è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†å¯ä»¥ç”±è¯¥æ„é€ å‡½æ•°çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚å½“æˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°æ–°å»ºä¸€ä¸ªå¯¹è±¡åï¼Œåœ¨è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨<br>å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘æ„é€ å‡½æ•°çš„ prototype å±æ€§å¯¹åº”çš„å€¼ï¼Œåœ¨ ES5 ä¸­è¿™ä¸ªæŒ‡é’ˆè¢«ç§°ä¸ºå¯¹è±¡çš„åŸå‹ã€‚ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬<br>æ˜¯ä¸åº”è¯¥èƒ½å¤Ÿè·å–åˆ°è¿™ä¸ªå€¼çš„ï¼Œä½†æ˜¯ç°åœ¨æµè§ˆå™¨ä¸­éƒ½å®ç°äº† <strong>proto</strong> å±æ€§æ¥è®©æˆ‘ä»¬è®¿é—®è¿™ä¸ªå±æ€§ï¼Œä½†æ˜¯æˆ‘ä»¬æœ€å¥½ä¸è¦ä½¿ç”¨è¿™<br>ä¸ªå±æ€§ï¼Œå› ä¸ºå®ƒä¸æ˜¯è§„èŒƒä¸­è§„å®šçš„ã€‚ES5 ä¸­æ–°å¢äº†ä¸€ä¸ª Object.getPrototypeOf() æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–å¯¹<br>è±¡çš„åŸå‹ã€‚</p>
<p>å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå»å®ƒçš„åŸå‹å¯¹è±¡é‡Œæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡åˆ<br>ä¼šæœ‰è‡ªå·±çš„åŸå‹ï¼Œäºæ˜¯å°±è¿™æ ·ä¸€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯åŸå‹é“¾çš„æ¦‚å¿µã€‚åŸå‹é“¾çš„å°½å¤´ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯ Object.prototype æ‰€ä»¥è¿™å°±<br>æ˜¯æˆ‘ä»¬æ–°å»ºçš„å¯¹è±¡ä¸ºä»€ä¹ˆèƒ½å¤Ÿä½¿ç”¨ toString() ç­‰æ–¹æ³•çš„åŸå› ã€‚</p>
<h3 id="é—­åŒ…åŠä¼˜ç¼ºç‚¹"><a href="#é—­åŒ…åŠä¼˜ç¼ºç‚¹" class="headerlink" title="é—­åŒ…åŠä¼˜ç¼ºç‚¹"></a>é—­åŒ…åŠä¼˜ç¼ºç‚¹</h3><p>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œåˆ›å»ºé—­åŒ…çš„æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ï¼Œåˆ›å»ºçš„å‡½æ•°å¯ä»¥<br>è®¿é—®åˆ°å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚</p>
<p>é—­åŒ…æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„ç”¨é€”ã€‚</p>
<p>é—­åŒ…çš„ç¬¬ä¸€ä¸ªç”¨é€”æ˜¯ä½¿æˆ‘ä»¬åœ¨å‡½æ•°å¤–éƒ¨èƒ½å¤Ÿè®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡ã€‚é€šè¿‡ä½¿ç”¨é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å¤–éƒ¨è°ƒç”¨é—­åŒ…å‡½æ•°ï¼Œä»è€Œåœ¨å¤–<br>éƒ¨è®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥åˆ›å»ºç§æœ‰å˜é‡ã€‚</p>
<p>å‡½æ•°çš„å¦ä¸€ä¸ªç”¨é€”æ˜¯ä½¿å·²ç»è¿è¡Œç»“æŸçš„å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯¹è±¡ç»§ç»­ç•™åœ¨å†…å­˜ä¸­ï¼Œå› ä¸ºé—­åŒ…å‡½æ•°ä¿ç•™äº†è¿™ä¸ªå˜é‡å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥<br>è¿™ä¸ªå˜é‡å¯¹è±¡ä¸ä¼šè¢«å›æ”¶ã€‚</p>
<p>é—­åŒ…çš„ç¼ºç‚¹æ˜¯å¯èƒ½é€ æˆå†…å­˜æ³„éœ²</p>
<h3 id="call-apply-bind"><a href="#call-apply-bind" class="headerlink" title="call apply bind"></a>call apply bind</h3><p>è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ˜¾ç¤ºçš„æŒ‡å®šè°ƒç”¨å‡½æ•°çš„ this æŒ‡å‘ã€‚å…¶ä¸­ apply æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯ this ç»‘å®šçš„å¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯å‚æ•°æ•°ç»„ã€‚call æ–¹æ³•æ¥æ”¶çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ this ç»‘å®šçš„å¯¹è±¡ï¼Œåé¢çš„å…¶ä½™å‚æ•°æ˜¯ä¼ å…¥å‡½æ•°æ‰§è¡Œçš„å‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½¿ç”¨ call() æ–¹æ³•æ—¶ï¼Œä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å¿…é¡»é€ä¸ªåˆ—ä¸¾å‡ºæ¥ã€‚bind æ–¹æ³•é€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª this ç»‘å®šäº†ä¼ å…¥å¯¹è±¡çš„æ–°å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„ this æŒ‡å‘é™¤äº†ä½¿ç”¨ new æ—¶ä¼šè¢«æ”¹å˜ï¼Œå…¶ä»–æƒ…å†µä¸‹éƒ½ä¸ä¼šæ”¹å˜</p>
<h3 id="DOM-äº‹ä»¶æµ-å’Œäº‹ä»¶å§”æ‰˜"><a href="#DOM-äº‹ä»¶æµ-å’Œäº‹ä»¶å§”æ‰˜" class="headerlink" title="DOM äº‹ä»¶æµ å’Œäº‹ä»¶å§”æ‰˜"></a>DOM äº‹ä»¶æµ å’Œäº‹ä»¶å§”æ‰˜</h3><p>äº‹ä»¶æ•è·ï¼Œäº‹ä»¶å†’æ³¡ã€‚</p>
<p>äº‹ä»¶å§”æ‰˜æœ¬è´¨ä¸Šæ˜¯åˆ©ç”¨äº†æµè§ˆå™¨äº‹ä»¶å†’æ³¡çš„æœºåˆ¶ã€‚å› ä¸ºäº‹ä»¶åœ¨å†’æ³¡è¿‡ç¨‹ä¸­ä¼šä¸Šä¼ åˆ°çˆ¶èŠ‚ç‚¹ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹å¯ä»¥é€šè¿‡äº‹ä»¶å¯¹è±¡è·å–åˆ°<br>ç›®æ ‡èŠ‚ç‚¹ï¼Œå› æ­¤å¯ä»¥æŠŠå­èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°å®šä¹‰åœ¨çˆ¶èŠ‚ç‚¹ä¸Šï¼Œç”±çˆ¶èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°ç»Ÿä¸€å¤„ç†å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶ï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºäº‹ä»¶ä»£ç†ã€‚</p>
<p>ä½¿ç”¨äº‹ä»¶ä»£ç†æˆ‘ä»¬å¯ä»¥ä¸å¿…è¦ä¸ºæ¯ä¸€ä¸ªå­å…ƒç´ éƒ½ç»‘å®šä¸€ä¸ªç›‘å¬äº‹ä»¶ï¼Œè¿™æ ·å‡å°‘äº†å†…å­˜ä¸Šçš„æ¶ˆè€—ã€‚å¹¶ä¸”ä½¿ç”¨äº‹ä»¶ä»£ç†æˆ‘ä»¬è¿˜å¯ä»¥å®ç°äº‹ä»¶çš„åŠ¨æ€ç»‘å®šï¼Œæ¯”å¦‚è¯´æ–°å¢äº†ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å•ç‹¬åœ°ä¸ºå®ƒæ·»åŠ ä¸€ä¸ªç›‘å¬äº‹ä»¶ï¼Œå®ƒæ‰€å‘ç”Ÿçš„äº‹ä»¶ä¼šäº¤ç»™çˆ¶å…ƒç´ ä¸­çš„ç›‘å¬å‡½æ•°æ¥å¤„ç†ã€‚</p>
<h3 id="cookie-localStorage-sessionStorage"><a href="#cookie-localStorage-sessionStorage" class="headerlink" title="cookie localStorage sessionStorage"></a>cookie localStorage sessionStorage</h3><p>1ï¼‰ç›¸åŒç‚¹æ˜¯éƒ½æ˜¯ä¿å­˜åœ¨æµè§ˆå™¨ç«¯ã€ä¸”åŒæºçš„<br>2ï¼‰cookieæ•°æ®å§‹ç»ˆåœ¨åŒæºçš„httpè¯·æ±‚ä¸­æºå¸¦ï¼ˆå³ä½¿ä¸éœ€è¦ï¼‰ï¼Œå³cookieåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨é—´æ¥å›ä¼ é€’ï¼Œè€ŒsessionStorageå’ŒlocalStorageä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜ã€‚cookieæ•°æ®è¿˜æœ‰è·¯å¾„ï¼ˆpathï¼‰çš„æ¦‚å¿µï¼Œå¯ä»¥é™åˆ¶cookieåªå±äºæŸä¸ªè·¯å¾„ä¸‹<br>3ï¼‰å­˜å‚¨å¤§å°é™åˆ¶ä¹Ÿä¸åŒï¼Œcookieæ•°æ®ä¸èƒ½è¶…è¿‡4Kï¼ŒåŒæ—¶å› ä¸ºæ¯æ¬¡httpè¯·æ±‚éƒ½ä¼šæºå¸¦cookieã€æ‰€ä»¥cookieåªé€‚åˆä¿å­˜å¾ˆå°çš„æ•°æ®ï¼Œå¦‚ä¼šè¯æ ‡è¯†ã€‚sessionStorageå’ŒlocalStorageè™½ç„¶ä¹Ÿæœ‰å­˜å‚¨å¤§å°çš„é™åˆ¶ï¼Œä½†æ¯”cookieå¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ°5Mæˆ–æ›´å¤§<br>4ï¼‰æ•°æ®æœ‰æ•ˆæœŸä¸åŒï¼ŒsessionStorageï¼šä»…åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­ä¹‹å‰æœ‰æ•ˆï¼›localStorageï¼šå§‹ç»ˆæœ‰æ•ˆï¼Œçª—å£æˆ–æµè§ˆå™¨å…³é—­ä¹Ÿä¸€ç›´ä¿å­˜ï¼Œå› æ­¤ç”¨ä½œæŒä¹…æ•°æ®ï¼›cookieï¼šåªåœ¨è®¾ç½®çš„cookieè¿‡æœŸæ—¶é—´ä¹‹å‰æœ‰æ•ˆï¼Œå³ä½¿çª—å£å…³é—­æˆ–æµè§ˆå™¨å…³é—­<br>5ï¼‰ä½œç”¨åŸŸä¸åŒï¼ŒsessionStorageä¸åœ¨ä¸åŒçš„æµè§ˆå™¨çª—å£ä¸­å…±äº«ï¼Œå³ä½¿æ˜¯åŒä¸€ä¸ªé¡µé¢ï¼›localstorageåœ¨æ‰€æœ‰åŒæºçª—å£ä¸­éƒ½æ˜¯å…±äº«çš„ï¼›cookieä¹Ÿæ˜¯åœ¨æ‰€æœ‰åŒæºçª—å£ä¸­éƒ½æ˜¯å…±äº«çš„</p>
<h3 id="æ•°ç»„å’Œå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•"><a href="#æ•°ç»„å’Œå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="æ•°ç»„å’Œå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•"></a>æ•°ç»„å’Œå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•</h3><p>æ•°ç»„å’Œå­—ç¬¦ä¸²çš„è½¬æ¢æ–¹æ³•ï¼štoString()ã€toLocalString()ã€join() å…¶ä¸­ join() æ–¹æ³•å¯ä»¥æŒ‡å®šè½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶çš„åˆ†éš”ç¬¦ã€‚</p>
<p>æ•°ç»„å°¾éƒ¨æ“ä½œçš„æ–¹æ³• pop() å’Œ push()ï¼Œpush æ–¹æ³•å¯ä»¥ä¼ å…¥å¤šä¸ªå‚æ•°ã€‚</p>
<p>æ•°ç»„é¦–éƒ¨æ“ä½œçš„æ–¹æ³• shift() å’Œ unshift() é‡æ’åºçš„æ–¹æ³• reverse() å’Œ sort()ï¼Œsort() æ–¹æ³•å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°æ¥è¿›è¡Œæ¯”è¾ƒï¼Œä¼ å…¥å‰åä¸¤ä¸ªå€¼ï¼Œå¦‚æœè¿”å›å€¼ä¸ºæ­£æ•°ï¼Œåˆ™äº¤æ¢ä¸¤ä¸ªå‚æ•°çš„ä½ç½®ã€‚</p>
<p>æ•°ç»„è¿æ¥çš„æ–¹æ³• concat() ï¼Œè¿”å›çš„æ˜¯æ‹¼æ¥å¥½çš„æ•°ç»„ï¼Œä¸å½±å“åŸæ•°ç»„ã€‚</p>
<p>æ•°ç»„æˆªå–åŠæ³• slice()ï¼Œç”¨äºæˆªå–æ•°ç»„ä¸­çš„ä¸€éƒ¨åˆ†è¿”å›ï¼Œä¸å½±å“åŸæ•°ç»„ã€‚</p>
<p>æ•°ç»„æ’å…¥æ–¹æ³• splice()ï¼Œå½±å“åŸæ•°ç»„æŸ¥æ‰¾ç‰¹å®šé¡¹çš„ç´¢å¼•çš„æ–¹æ³•ï¼ŒindexOf() å’Œ lastIndexOf() è¿­ä»£æ–¹æ³• every()ã€some()ã€filter()ã€map() å’Œ forEach() æ–¹æ³•</p>
<p>æ•°ç»„å½’å¹¶æ–¹æ³• reduce() å’Œ reduceRight() æ–¹æ³•</p>
<h3 id="new-å†…éƒ¨åšäº†ä»€ä¹ˆ"><a href="#new-å†…éƒ¨åšäº†ä»€ä¹ˆ" class="headerlink" title="new å†…éƒ¨åšäº†ä»€ä¹ˆ"></a>new å†…éƒ¨åšäº†ä»€ä¹ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ï¼ˆ1ï¼‰é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡</span><br><span class="line">// ï¼ˆ2ï¼‰è®¾ç½®åŸå‹ï¼Œå°†å¯¹è±¡çš„åŸå‹è®¾ç½®ä¸ºå‡½æ•°çš„ prototype å¯¹è±¡ã€‚</span><br><span class="line">// ï¼ˆ3ï¼‰è®©å‡½æ•°çš„ this æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰</span><br><span class="line">// ï¼ˆ4ï¼‰åˆ¤æ–­å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œå¦‚æœæ˜¯å€¼ç±»å‹ï¼Œè¿”å›åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±è¿”å›è¿™ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">// å®ç°:</span><br><span class="line"></span><br><span class="line">function objectFactory() &#123;</span><br><span class="line">  let newObject = null,</span><br><span class="line">    constructor = Array.prototype.shift.call(arguments),</span><br><span class="line">    result = null;</span><br><span class="line"></span><br><span class="line">  // å‚æ•°åˆ¤æ–­</span><br><span class="line">  if (typeof constructor !== &quot;function&quot;) &#123;</span><br><span class="line">    console.error(&quot;type error&quot;);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // æ–°å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¯¹è±¡çš„åŸå‹ä¸ºæ„é€ å‡½æ•°çš„ prototype å¯¹è±¡</span><br><span class="line">  newObject = Object.create(constructor.prototype);</span><br><span class="line"></span><br><span class="line">  // å°† this æŒ‡å‘æ–°å»ºå¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå‡½æ•°</span><br><span class="line">  result = constructor.apply(newObject, arguments);</span><br><span class="line"></span><br><span class="line">  // åˆ¤æ–­è¿”å›å¯¹è±¡</span><br><span class="line">  let flag =</span><br><span class="line">    result &amp;&amp; (typeof result === &quot;object&quot; || typeof result === &quot;function&quot;);</span><br><span class="line"></span><br><span class="line">  // åˆ¤æ–­è¿”å›ç»“æœ</span><br><span class="line">  return flag ? result : newObject;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨æ–¹æ³•</span><br><span class="line">// objectFactory(æ„é€ å‡½æ•°, åˆå§‹åŒ–å‚æ•°);</span><br></pre></td></tr></table></figure>
<h3 id="é˜²æŠ–èŠ‚æµ"><a href="#é˜²æŠ–èŠ‚æµ" class="headerlink" title="é˜²æŠ–èŠ‚æµ"></a>é˜²æŠ–èŠ‚æµ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// å‡½æ•°é˜²æŠ–ï¼š åœ¨äº‹ä»¶è¢«è§¦å‘ n ç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™ n ç§’å†…äº‹ä»¶åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚</span><br><span class="line"></span><br><span class="line">// å‡½æ•°èŠ‚æµï¼š è§„å®šä¸€ä¸ªå•ä½æ—¶é—´ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½æœ‰ä¸€æ¬¡è§¦å‘äº‹ä»¶çš„å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªå•ä½æ—¶é—´å†…æŸäº‹ä»¶è¢«è§¦å‘å¤šæ¬¡ï¼Œåªæœ‰ä¸€æ¬¡èƒ½ç”Ÿæ•ˆã€‚</span><br><span class="line"></span><br><span class="line">// å‡½æ•°é˜²æŠ–çš„å®ç°</span><br><span class="line">function debounce(fn, wait) &#123;</span><br><span class="line">  var timer = null;</span><br><span class="line"></span><br><span class="line">  return function() &#123;</span><br><span class="line">    var context = this,</span><br><span class="line">      args = arguments;</span><br><span class="line"></span><br><span class="line">    // å¦‚æœæ­¤æ—¶å­˜åœ¨å®šæ—¶å™¨çš„è¯ï¼Œåˆ™å–æ¶ˆä¹‹å‰çš„å®šæ—¶å™¨é‡æ–°è®°æ—¶</span><br><span class="line">    if (timer) &#123;</span><br><span class="line">      clearTimeout(timer);</span><br><span class="line">      timer = null;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // è®¾ç½®å®šæ—¶å™¨ï¼Œä½¿äº‹ä»¶é—´éš”æŒ‡å®šäº‹ä»¶åæ‰§è¡Œ</span><br><span class="line">    timer = setTimeout(() =&gt; &#123;</span><br><span class="line">      fn.apply(context, args);</span><br><span class="line">    &#125;, wait);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°èŠ‚æµçš„å®ç°;</span><br><span class="line">function throttle(fn, delay) &#123;</span><br><span class="line">  var preTime = Date.now();</span><br><span class="line"></span><br><span class="line">  return function() &#123;</span><br><span class="line">    var context = this,</span><br><span class="line">      args = arguments,</span><br><span class="line">      nowTime = Date.now();</span><br><span class="line"></span><br><span class="line">    // å¦‚æœä¸¤æ¬¡æ—¶é—´é—´éš”è¶…è¿‡äº†æŒ‡å®šæ—¶é—´ï¼Œåˆ™æ‰§è¡Œå‡½æ•°ã€‚</span><br><span class="line">    if (nowTime - preTime &gt;= delay) &#123;</span><br><span class="line">      preTime = Date.now();</span><br><span class="line">      return fn.apply(context, args);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="this-æŒ‡å‘"><a href="#this-æŒ‡å‘" class="headerlink" title="this æŒ‡å‘"></a>this æŒ‡å‘</h3><p>this æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒæŒ‡å‘æœ€åä¸€æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œthis çš„æŒ‡å‘å¯ä»¥é€šè¿‡å››ç§è°ƒç”¨æ¨¡<br>å¼æ¥åˆ¤æ–­ã€‚</p>
<p>1.ç¬¬ä¸€ç§æ˜¯å‡½æ•°è°ƒç”¨æ¨¡å¼ï¼Œå½“ä¸€ä¸ªå‡½æ•°ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œç›´æ¥ä½œä¸ºå‡½æ•°æ¥è°ƒç”¨æ—¶ï¼Œthis æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚</p>
<p>2.ç¬¬äºŒç§æ˜¯æ–¹æ³•è°ƒç”¨æ¨¡å¼ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°ä½œä¸ºä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•æ¥è°ƒç”¨æ—¶ï¼Œthis æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚</p>
<p>3.ç¬¬ä¸‰ç§æ˜¯æ„é€ å™¨è°ƒç”¨æ¨¡å¼ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°ç”¨ new è°ƒç”¨æ—¶ï¼Œå‡½æ•°æ‰§è¡Œå‰ä¼šæ–°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œthis æŒ‡å‘è¿™ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
<p>4.ç¬¬å››ç§æ˜¯ apply ã€ call å’Œ bind è°ƒç”¨æ¨¡å¼ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ˜¾ç¤ºçš„æŒ‡å®šè°ƒç”¨å‡½æ•°çš„ this æŒ‡å‘ã€‚å…¶ä¸­ apply æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯ this ç»‘å®šçš„å¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯å‚æ•°æ•°ç»„ã€‚call æ–¹æ³•æ¥æ”¶çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ this ç»‘å®šçš„å¯¹è±¡ï¼Œåé¢çš„å…¶ä½™å‚æ•°æ˜¯ä¼ å…¥å‡½æ•°æ‰§è¡Œçš„å‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½¿ç”¨ call() æ–¹æ³•æ—¶ï¼Œä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å¿…é¡»é€ä¸ªåˆ—ä¸¾å‡ºæ¥ã€‚bind æ–¹æ³•é€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª this ç»‘å®šäº†ä¼ å…¥å¯¹è±¡çš„æ–°å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„ this æŒ‡å‘é™¤äº†ä½¿ç”¨ new æ—¶ä¼šè¢«æ”¹å˜ï¼Œå…¶ä»–æƒ…å†µä¸‹éƒ½ä¸ä¼šæ”¹å˜</p>
<h3 id="ä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸé“¾" class="headerlink" title="ä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸé“¾</h3><p>ä½œç”¨åŸŸé“¾çš„ä½œç”¨æ˜¯ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ï¼Œé€šè¿‡ä½œç”¨åŸŸé“¾ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°å¤–å±‚ç¯å¢ƒçš„å˜é‡å’Œ<br>å‡½æ•°ã€‚</p>
<h3 id="ç»§æ‰¿çš„å‡ ç§å®ç°æ–¹å¼"><a href="#ç»§æ‰¿çš„å‡ ç§å®ç°æ–¹å¼" class="headerlink" title="ç»§æ‰¿çš„å‡ ç§å®ç°æ–¹å¼"></a>ç»§æ‰¿çš„å‡ ç§å®ç°æ–¹å¼</h3><p>1ï¼‰ç¬¬ä¸€ç§æ˜¯ä»¥åŸå‹é“¾çš„æ–¹å¼æ¥å®ç°ç»§æ‰¿ï¼Œä½†æ˜¯è¿™ç§å®ç°æ–¹å¼å­˜åœ¨çš„ç¼ºç‚¹æ˜¯ï¼Œåœ¨åŒ…å«æœ‰å¼•ç”¨ç±»å‹çš„æ•°æ®æ—¶ï¼Œä¼šè¢«æ‰€æœ‰çš„å®ä¾‹å¯¹è±¡æ‰€å…±äº«ï¼Œå®¹æ˜“é€ æˆä¿®æ”¹çš„æ··ä¹±ã€‚è¿˜æœ‰å°±æ˜¯åœ¨åˆ›å»ºå­ç±»å‹çš„æ—¶å€™ä¸èƒ½å‘è¶…ç±»å‹ä¼ é€’å‚æ•°ã€‚</p>
<p>ï¼ˆ2ï¼‰ç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨å€Ÿç”¨æ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ˜¯é€šè¿‡åœ¨å­ç±»å‹çš„å‡½æ•°ä¸­è°ƒç”¨è¶…ç±»å‹çš„æ„é€ å‡½æ•°æ¥å®ç°çš„ï¼Œè¿™ä¸€ç§æ–¹æ³•è§£å†³äº†ä¸èƒ½å‘è¶…ç±»å‹ä¼ é€’å‚æ•°çš„ç¼ºç‚¹ï¼Œä½†æ˜¯å®ƒå­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ— æ³•å®ç°å‡½æ•°æ–¹æ³•çš„å¤ç”¨ï¼Œå¹¶ä¸”è¶…ç±»å‹åŸå‹å®šä¹‰çš„æ–¹æ³•å­ç±»å‹ä¹Ÿæ²¡æœ‰åŠæ³•è®¿é—®åˆ°ã€‚</p>
<p>ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æ–¹å¼æ˜¯ç»„åˆç»§æ‰¿ï¼Œç»„åˆç»§æ‰¿æ˜¯å°†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°ç»„åˆèµ·æ¥ä½¿ç”¨çš„ä¸€ç§æ–¹å¼ã€‚é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°çš„æ–¹å¼æ¥å®ç°ç±»å‹çš„å±æ€§çš„ç»§æ‰¿ï¼Œé€šè¿‡å°†å­ç±»å‹çš„åŸå‹è®¾ç½®ä¸ºè¶…ç±»å‹çš„å®ä¾‹æ¥å®ç°æ–¹æ³•çš„ç»§æ‰¿ã€‚è¿™ç§æ–¹å¼è§£å†³äº†ä¸Šé¢çš„ä¸¤ç§æ¨¡å¼å•ç‹¬ä½¿ç”¨æ—¶çš„é—®é¢˜ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ˜¯ä»¥è¶…ç±»å‹çš„å®ä¾‹æ¥ä½œä¸ºå­ç±»å‹çš„åŸå‹ï¼Œæ‰€ä»¥è°ƒç”¨äº†ä¸¤æ¬¡è¶…ç±»çš„æ„é€ å‡½æ•°ï¼Œé€ æˆäº†å­ç±»å‹çš„åŸå‹ä¸­å¤šäº†å¾ˆå¤šä¸å¿…è¦çš„å±æ€§ã€‚</p>
<p>ï¼ˆ4ï¼‰ç¬¬å››ç§æ–¹å¼æ˜¯åŸå‹å¼ç»§æ‰¿ï¼ŒåŸå‹å¼ç»§æ‰¿çš„ä¸»è¦æ€è·¯å°±æ˜¯åŸºäºå·²æœ‰çš„å¯¹è±¡æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œå®ç°çš„åŸç†æ˜¯ï¼Œå‘å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªä»¥è¿™ä¸ªå¯¹è±¡ä¸ºåŸå‹çš„å¯¹è±¡ã€‚è¿™ç§ç»§æ‰¿çš„æ€è·¯ä¸»è¦ä¸æ˜¯ä¸ºäº†å®ç°åˆ›é€ ä¸€ç§æ–°çš„ç±»å‹ï¼Œåªæ˜¯å¯¹æŸä¸ªå¯¹è±¡å®ç°ä¸€ç§ç®€å•ç»§æ‰¿ï¼ŒES5 ä¸­å®šä¹‰çš„ Object.create() æ–¹æ³•å°±æ˜¯åŸå‹å¼ç»§æ‰¿çš„å®ç°ã€‚ç¼ºç‚¹ä¸åŸå‹é“¾æ–¹å¼ç›¸åŒã€‚</p>
<p>ï¼ˆ5ï¼‰ç¬¬äº”ç§æ–¹å¼æ˜¯å¯„ç”Ÿå¼ç»§æ‰¿ï¼Œå¯„ç”Ÿå¼ç»§æ‰¿çš„æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ªç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œé€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå¤åˆ¶ä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬ï¼Œç„¶åå¯¹è±¡è¿›è¡Œæ‰©å±•ï¼Œæœ€åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªæ‰©å±•çš„è¿‡ç¨‹å°±å¯ä»¥ç†è§£æ˜¯ä¸€ç§ç»§æ‰¿ã€‚è¿™ç§ç»§æ‰¿çš„ä¼˜ç‚¹å°±æ˜¯å¯¹ä¸€ä¸ªç®€å•å¯¹è±¡å®ç°ç»§æ‰¿ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡ä¸æ˜¯æˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»å‹æ—¶ã€‚ç¼ºç‚¹æ˜¯æ²¡æœ‰åŠæ³•å®ç°å‡½æ•°çš„å¤ç”¨ã€‚</p>
<p>ï¼ˆ6ï¼‰ç¬¬å…­ç§æ–¹å¼æ˜¯å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿ï¼Œç»„åˆç»§æ‰¿çš„ç¼ºç‚¹å°±æ˜¯ä½¿ç”¨è¶…ç±»å‹çš„å®ä¾‹åšä¸ºå­ç±»å‹çš„åŸå‹ï¼Œå¯¼è‡´æ·»åŠ äº†ä¸å¿…è¦çš„åŸå‹å±æ€§ã€‚å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿çš„æ–¹å¼æ˜¯ä½¿ç”¨è¶…ç±»å‹çš„åŸå‹çš„å‰¯æœ¬æ¥ä½œä¸ºå­ç±»å‹çš„åŸå‹ï¼Œè¿™æ ·å°±é¿å…äº†åˆ›å»ºä¸å¿…è¦çš„å±æ€§ã€‚</p>
<p>å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function Person(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = function() &#123;</span><br><span class="line">  console.log(&quot;My name is &quot; + this.name + &quot;.&quot;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function Student(name, grade) &#123;</span><br><span class="line">  Person.call(this, name);</span><br><span class="line">  this.grade = grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student.prototype = Object.create(Person.prototype);</span><br><span class="line">Student.prototype.constructor = Student;</span><br><span class="line"></span><br><span class="line">Student.prototype.sayMyGrade = function() &#123;</span><br><span class="line">  console.log(&quot;My grade is &quot; + this.grade + &quot;.&quot;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><p>ä¸èƒ½å½“æ„é€ å‡½æ•°ï¼Œ this æ˜¯å®šä¹‰æ—¶ä¸Šä¸‹æ–‡çš„thisï¼Œä¸èƒ½æ”¹å˜</p>
<h3 id="ajax"><a href="#ajax" class="headerlink" title="ajax"></a>ajax</h3><p>æˆ‘å¯¹ ajax çš„ç†è§£æ˜¯ï¼Œå®ƒæ˜¯ä¸€ç§å¼‚æ­¥é€šä¿¡çš„æ–¹æ³•ï¼Œé€šè¿‡ç›´æ¥ç”± js è„šæœ¬å‘æœåŠ¡å™¨å‘èµ· http é€šä¿¡ï¼Œç„¶åæ ¹æ®æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œæ›´æ–°ç½‘é¡µçš„ç›¸åº”éƒ¨åˆ†ï¼Œè€Œä¸ç”¨åˆ·æ–°æ•´ä¸ªé¡µé¢çš„ä¸€ç§æ–¹æ³•ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ª ajax æœ‰è¿™æ ·å‡ ä¸ªæ­¥éª¤</p>
<p>é¦–å…ˆæ˜¯åˆ›å»ºä¸€ä¸ª XMLHttpRequest å¯¹è±¡ã€‚</p>
<p>ç„¶ååœ¨è¿™ä¸ªå¯¹è±¡ä¸Šä½¿ç”¨ open æ–¹æ³•åˆ›å»ºä¸€ä¸ª http è¯·æ±‚ï¼Œopen æ–¹æ³•æ‰€éœ€è¦çš„å‚æ•°æ˜¯è¯·æ±‚çš„æ–¹æ³•ã€è¯·æ±‚çš„åœ°å€ã€æ˜¯å¦å¼‚æ­¥å’Œç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚</p>
<p>åœ¨å‘èµ·è¯·æ±‚å‰ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›ä¿¡æ¯å’Œç›‘å¬å‡½æ•°ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡ setRequestHeader æ–¹æ³•æ¥ä¸ºè¯·æ±‚æ·»åŠ å¤´ä¿¡æ¯ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ ä¸€ä¸ªçŠ¶æ€ç›‘å¬å‡½æ•°ã€‚ä¸€ä¸ª XMLHttpRequest å¯¹è±¡ä¸€å…±æœ‰ 5 ä¸ªçŠ¶æ€ï¼Œå½“å®ƒçš„çŠ¶æ€å˜åŒ–æ—¶ä¼šè§¦å‘onreadystatechange äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®ç›‘å¬å‡½æ•°ï¼Œæ¥å¤„ç†è¯·æ±‚æˆåŠŸåçš„ç»“æœã€‚å½“å¯¹è±¡çš„ readyState å˜ä¸º 4 çš„æ—¶å€™ï¼Œä»£è¡¨æœåŠ¡å™¨è¿”å›çš„æ•°æ®æ¥æ”¶å®Œæˆï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­è¯·æ±‚çš„çŠ¶æ€ï¼Œå¦‚æœçŠ¶æ€æ˜¯ 2xx æˆ–è€… 304 çš„è¯åˆ™ä»£è¡¨è¿”å›æ­£å¸¸ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ response ä¸­çš„æ•°æ®æ¥å¯¹é¡µé¢è¿›è¡Œæ›´æ–°äº†ã€‚</p>
<p>å½“å¯¹è±¡çš„å±æ€§å’Œç›‘å¬å‡½æ•°è®¾ç½®å®Œæˆåï¼Œæœ€åæˆ‘ä»¬è°ƒç”¨ sent æ–¹æ³•æ¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå¯ä»¥ä¼ å…¥å‚æ•°ä½œä¸ºå‘é€çš„æ•°æ®ä½“ã€‚</p>
<h3 id="var-let-const"><a href="#var-let-const" class="headerlink" title="var let const"></a>var let const</h3><p>1.const let æ˜¯å—çº§ä½œç”¨åŸŸ varæ²¡æœ‰å—çº§ä½œç”¨åŸŸ,varåªæœ‰å‡½æ•°å’Œå…¨å±€ä½œç”¨åŸŸ<br>2.const let ä¸å­˜åœ¨å˜é‡å£°æ˜çš„æå‰ï¼Œvaræœ‰å£°æ˜çš„æå‰ï¼Œæ‰€ä»¥constå’Œletåœ¨å£°æ˜å˜é‡/å¸¸é‡ ä¹‹å‰ï¼Œæ˜¯æ²¡åŠæ³•è·å–åˆ°çš„ï¼Œç§°ä¸ºæš‚æ—¶æ€§æ­»åŒºtemporal dead zone<br>3.const letæ˜¯ES6æå‡ºçš„ï¼Œvaræ˜¯ES5<br>4.const å£°æ˜çš„æ˜¯å¸¸é‡ï¼Œå¸¸é‡ä¸èƒ½è¢«ä¿®æ”¹ï¼Œletå’Œvarå£°æ˜çš„æ˜¯å˜é‡ï¼Œå¯ä»¥è¢«ä¿®æ”¹<br>5.conståœ¨å£°æ˜æ—¶å¿…é¡»èµ‹å€¼ï¼Œè€Œletå’Œvarä¸éœ€è¦<br>6.let å’Œconstä¸èƒ½é‡å¤å£°æ˜åŒä¸€ä¸ªå€¼:å¦‚ let a=1 ; let a =2 è¿™æ ·æ˜¯ä¸è¢«å…è®¸çš„ï¼Œä½†varå¯ä»¥ï¼Œæœ€åä¸€ä¸ªvarå£°æ˜çš„å€¼ä¼šè¦†ç›–ä¹‹å‰çš„ å¦‚ï¼švar b =1 ;var b =2 console.log(b)  ç»“æœä¸º2</p>
<h3 id="js-æ‰§è¡Œæœºåˆ¶"><a href="#js-æ‰§è¡Œæœºåˆ¶" class="headerlink" title="js æ‰§è¡Œæœºåˆ¶"></a>js æ‰§è¡Œæœºåˆ¶</h3><p>å› ä¸º js æ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œåœ¨ä»£ç æ‰§è¡Œçš„æ—¶å€™ï¼Œé€šè¿‡å°†ä¸åŒå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œæ ˆä¸­æ¥ä¿è¯ä»£ç çš„æœ‰åºæ‰§è¡Œã€‚åœ¨æ‰§è¡ŒåŒæ­¥ä»£ç çš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°äº†å¼‚æ­¥äº‹ä»¶ï¼Œjs å¼•æ“å¹¶ä¸ä¼šä¸€ç›´ç­‰å¾…å…¶è¿”å›ç»“æœï¼Œè€Œæ˜¯ä¼šå°†è¿™ä¸ªäº‹ä»¶æŒ‚èµ·ï¼Œç»§ç»­æ‰§è¡Œæ‰§è¡Œæ ˆä¸­çš„å…¶ä»–ä»»åŠ¡ã€‚å½“å¼‚æ­¥äº‹ä»¶æ‰§è¡Œå®Œæ¯•åï¼Œå†å°†å¼‚æ­¥äº‹ä»¶å¯¹åº”çš„å›è°ƒåŠ å…¥åˆ°ä¸å½“å‰æ‰§è¡Œæ ˆä¸­ä¸åŒçš„å¦ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œã€‚ä»»åŠ¡é˜Ÿåˆ—å¯ä»¥åˆ†ä¸ºå®ä»»åŠ¡å¯¹åˆ—å’Œå¾®ä»»åŠ¡å¯¹åˆ—ï¼Œå½“å½“å‰æ‰§è¡Œæ ˆä¸­çš„äº‹ä»¶æ‰§è¡Œå®Œæ¯•åï¼Œjs å¼•æ“é¦–å…ˆä¼šåˆ¤æ–­å¾®ä»»åŠ¡å¯¹åˆ—ä¸­æ˜¯å¦æœ‰ä»»åŠ¡å¯ä»¥æ‰§è¡Œï¼Œå¦‚æœæœ‰å°±å°†å¾®ä»»åŠ¡é˜Ÿé¦–çš„äº‹ä»¶å‹å…¥æ ˆä¸­æ‰§è¡Œã€‚å½“å¾®ä»»åŠ¡å¯¹åˆ—ä¸­çš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæˆåå†å»åˆ¤æ–­å®ä»»åŠ¡å¯¹åˆ—ä¸­çš„ä»»åŠ¡ã€‚</p>
<p>å¾®ä»»åŠ¡åŒ…æ‹¬äº† promise çš„å›è°ƒã€node ä¸­çš„ process.nextTick ã€å¯¹ Dom å˜åŒ–ç›‘å¬çš„ MutationObserverã€‚</p>
<p>å®ä»»åŠ¡åŒ…æ‹¬äº† script è„šæœ¬çš„æ‰§è¡Œã€setTimeout ï¼ŒsetInterval ï¼ŒsetImmediate ä¸€ç±»çš„å®šæ—¶äº‹ä»¶ï¼Œè¿˜æœ‰å¦‚ I/O æ“ä½œã€UI æ¸²<br>æŸ“ç­‰ã€‚</p>
<h3 id="å¼‚æ­¥ç¼–ç¨‹-promise"><a href="#å¼‚æ­¥ç¼–ç¨‹-promise" class="headerlink" title="å¼‚æ­¥ç¼–ç¨‹ promise"></a>å¼‚æ­¥ç¼–ç¨‹ promise</h3><h3 id="requestAnimationFrame"><a href="#requestAnimationFrame" class="headerlink" title="requestAnimationFrame"></a>requestAnimationFrame</h3><p>setTimeoutå’ŒsetIntervalçš„é—®é¢˜æ˜¯ï¼Œå®ƒä»¬éƒ½ä¸ç²¾ç¡®ã€‚å®ƒä»¬çš„å†…åœ¨è¿è¡Œæœºåˆ¶å†³å®šäº†æ—¶é—´é—´éš”å‚æ•°å®é™…ä¸Šåªæ˜¯æŒ‡å®šäº†æŠŠåŠ¨ç”»ä»£ç æ·»åŠ åˆ°æµè§ˆå™¨UIçº¿ç¨‹é˜Ÿåˆ—ä¸­ä»¥ç­‰å¾…æ‰§è¡Œçš„æ—¶é—´ã€‚å¦‚æœé˜Ÿåˆ—å‰é¢å·²ç»åŠ å…¥äº†å…¶ä»–ä»»åŠ¡ï¼Œé‚£åŠ¨ç”»ä»£ç å°±è¦ç­‰å‰é¢çš„ä»»åŠ¡å®Œæˆåå†æ‰§è¡Œã€‚</p>
<p>requestAnimationFrameé‡‡ç”¨ç³»ç»Ÿæ—¶é—´é—´éš”ï¼Œä¿æŒæœ€ä½³ç»˜åˆ¶æ•ˆç‡ï¼Œä¸ä¼šå› ä¸ºé—´éš”æ—¶é—´è¿‡çŸ­ï¼Œé€ æˆè¿‡åº¦ç»˜åˆ¶ï¼Œå¢åŠ å¼€é”€ï¼›ä¹Ÿä¸ä¼šå› ä¸ºé—´éš”æ—¶é—´å¤ªé•¿ï¼Œä½¿ç”¨åŠ¨ç”»å¡é¡¿ä¸æµç•…ï¼Œè®©å„ç§ç½‘é¡µåŠ¨ç”»æ•ˆæœèƒ½å¤Ÿæœ‰ä¸€ä¸ªç»Ÿä¸€çš„åˆ·æ–°æœºåˆ¶ï¼Œä»è€ŒèŠ‚çœç³»ç»Ÿèµ„æºï¼Œæ”¹å–„è§†è§‰æ•ˆæœã€‚</p>
<h3 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h3><p>BFCå³ Block Formatting Contexts (å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡).</p>
<p>å…·æœ‰ BFC ç‰¹æ€§çš„å…ƒç´ å¯ä»¥çœ‹ä½œæ˜¯éš”ç¦»äº†çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œå¹¶ä¸” BFC å…·æœ‰æ™®é€šå®¹å™¨æ‰€æ²¡æœ‰çš„ä¸€äº›ç‰¹æ€§ã€‚</p>
<p>é€šä¿—ä¸€ç‚¹æ¥è®²ï¼Œå¯ä»¥æŠŠ BFC ç†è§£ä¸ºä¸€ä¸ªå°é—­çš„å¤§ç®±å­ï¼Œç®±å­å†…éƒ¨çš„å…ƒç´ æ— è®ºå¦‚ä½•ç¿»æ±Ÿå€’æµ·ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°å¤–éƒ¨ã€‚</p>
<p>åªè¦å…ƒç´ æ»¡è¶³ä¸‹é¢ä»»ä¸€æ¡ä»¶å³å¯è§¦å‘ BFC ç‰¹æ€§ï¼š</p>
<p>body æ ¹å…ƒç´ <br>æµ®åŠ¨å…ƒç´ ï¼šfloat é™¤ none ä»¥å¤–çš„å€¼<br>ç»å¯¹å®šä½å…ƒç´ ï¼šposition (absoluteã€fixed)<br>display ä¸º inline-blockã€table-cellsã€flex<br>overflow é™¤äº† visible ä»¥å¤–çš„å€¼ (hiddenã€autoã€scroll)</p>
<h3 id="for-of-å’Œ-for-in-çš„åŒºåˆ«"><a href="#for-of-å’Œ-for-in-çš„åŒºåˆ«" class="headerlink" title="for of å’Œ for in çš„åŒºåˆ«"></a>for of å’Œ for in çš„åŒºåˆ«</h3><p>for-inæ˜¯ä¸ºéå†å¯¹è±¡è€Œè®¾è®¡çš„ï¼Œä¸é€‚ç”¨äºéå†æ•°ç»„ã€‚(éå†æ•°ç»„çš„ç¼ºç‚¹ï¼šæ•°ç»„çš„ä¸‹æ ‡indexå€¼æ˜¯æ•°å­—ï¼Œfor-inéå†çš„indexå€¼â€0â€,â€1â€,â€2â€ç­‰æ˜¯å­—ç¬¦ä¸²)</p>
<p>for-inå¾ªç¯å­˜åœ¨ç¼ºé™·ï¼šå¾ªç¯ä¼šéå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§(ä¸å«Symbolå±æ€§)</p>
<p>for-oféå†</p>
<p>for-ofè¿™ä¸ªæ–¹æ³•é¿å¼€äº†for-inå¾ªç¯çš„æ‰€æœ‰ç¼ºé™·<br>ä¸forEach()ä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ä»¥æ­£ç¡®å“åº”breakã€continueå’Œreturnè¯­å¥<br>for-ofå¾ªç¯ä¸ä»…æ”¯æŒæ•°ç»„ï¼Œè¿˜æ”¯æŒå¤§å¤šæ•°ç±»æ•°ç»„å¯¹è±¡ï¼Œä¾‹å¦‚DOM NodeListå¯¹è±¡ã€‚for-ofå¾ªç¯ä¹Ÿæ”¯æŒå­—ç¬¦ä¸²éå†</p>
<p>for-ofå¾ªç¯ä¸æ”¯æŒæ™®é€šå¯¹è±¡ï¼Œä½†å¦‚æœä½ æƒ³è¿­ä»£ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œä½ å¯ä»¥ç”¨for-inå¾ªç¯ï¼ˆè¿™ä¹Ÿæ˜¯å®ƒçš„æœ¬èŒå·¥ä½œï¼‰æˆ–å†…å»ºçš„Object.keys()æ–¹æ³•</p>
<h3 id="ä»€ä¹ˆæ˜¯é‡ç»˜å’Œå›æµ"><a href="#ä»€ä¹ˆæ˜¯é‡ç»˜å’Œå›æµ" class="headerlink" title="ä»€ä¹ˆæ˜¯é‡ç»˜å’Œå›æµ"></a>ä»€ä¹ˆæ˜¯é‡ç»˜å’Œå›æµ</h3><p>é‡ç»˜: å½“æ¸²æŸ“æ ‘ä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±æ€§ï¼Œè€Œè¿™äº›å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ã€é£æ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€çš„æ“ä½œï¼Œæ¯”å¦‚ background<br>       -colorï¼Œæˆ‘ä»¬å°†è¿™æ ·çš„æ“ä½œç§°ä¸ºé‡ç»˜ã€‚</p>
<p> å›æµï¼šå½“æ¸²æŸ“æ ‘ä¸­çš„ä¸€éƒ¨åˆ†ï¼ˆæˆ–å…¨éƒ¨ï¼‰å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ã€å¸ƒå±€ã€éšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºçš„æ“ä½œï¼Œä¼šå½±å“åˆ°å¸ƒå±€çš„æ“ä½œï¼Œè¿™æ ·<br>      çš„æ“ä½œæˆ‘ä»¬ç§°ä¸ºå›æµã€‚</p>
<p> å¸¸è§å¼•èµ·å›æµå±æ€§å’Œæ–¹æ³•ï¼š</p>
<p> ä»»ä½•ä¼šæ”¹å˜å…ƒç´ å‡ ä½•ä¿¡æ¯ï¼ˆå…ƒç´ çš„ä½ç½®å’Œå°ºå¯¸å¤§å°ï¼‰çš„æ“ä½œï¼Œéƒ½ä¼šè§¦å‘å›æµã€‚</p>
<p> ï¼ˆ1ï¼‰æ·»åŠ æˆ–è€…åˆ é™¤å¯è§çš„ DOM å…ƒç´ ï¼›<br> ï¼ˆ2ï¼‰å…ƒç´ å°ºå¯¸æ”¹å˜â€”â€”è¾¹è·ã€å¡«å……ã€è¾¹æ¡†ã€å®½åº¦å’Œé«˜åº¦<br> ï¼ˆ3ï¼‰å†…å®¹å˜åŒ–ï¼Œæ¯”å¦‚ç”¨æˆ·åœ¨ input æ¡†ä¸­è¾“å…¥æ–‡å­—<br> ï¼ˆ4ï¼‰æµè§ˆå™¨çª—å£å°ºå¯¸æ”¹å˜â€”â€”resizeäº‹ä»¶å‘ç”Ÿæ—¶<br> ï¼ˆ5ï¼‰è®¡ç®— offsetWidth å’Œ offsetHeight å±æ€§<br> ï¼ˆ6ï¼‰è®¾ç½® style å±æ€§çš„å€¼<br> ï¼ˆ7ï¼‰å½“ä½ ä¿®æ”¹ç½‘é¡µçš„é»˜è®¤å­—ä½“æ—¶ã€‚</p>
<p> å›æµå¿…å®šä¼šå‘ç”Ÿé‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•å‘å›æµã€‚å›æµæ‰€éœ€çš„æˆæœ¬æ¯”é‡ç»˜é«˜çš„å¤šï¼Œæ”¹å˜çˆ¶èŠ‚ç‚¹é‡Œçš„å­èŠ‚ç‚¹å¾ˆå¯èƒ½ä¼šå¯¼è‡´çˆ¶èŠ‚ç‚¹çš„ä¸€ç³»åˆ—<br> å›æµã€‚</p>
<p> å¦‚ä½•å‡å°‘å›æµ:</p>
<p> 1ï¼‰ä½¿ç”¨ transform æ›¿ä»£ top</p>
<p> ï¼ˆ2ï¼‰ä¸è¦æŠŠèŠ‚ç‚¹çš„å±æ€§å€¼æ”¾åœ¨ä¸€ä¸ªå¾ªç¯é‡Œå½“æˆå¾ªç¯é‡Œçš„å˜é‡</p>
<p> ï¼ˆ3ï¼‰ä¸è¦ä½¿ç”¨ table å¸ƒå±€ï¼Œå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ª table çš„é‡æ–°å¸ƒå±€</p>
<p> ï¼ˆ4ï¼‰æŠŠ DOM ç¦»çº¿åä¿®æ”¹ã€‚å¦‚ï¼šä½¿ç”¨ documentFragment å¯¹è±¡åœ¨å†…å­˜é‡Œæ“ä½œ DOM</p>
<p> ï¼ˆ5ï¼‰ä¸è¦ä¸€æ¡ä¸€æ¡åœ°ä¿®æ”¹ DOM çš„æ ·å¼ã€‚ä¸å…¶è¿™æ ·ï¼Œè¿˜ä¸å¦‚é¢„å…ˆå®šä¹‰å¥½ css çš„ classï¼Œç„¶åä¿®æ”¹ DOM çš„ classNameã€‚</p>
<h3 id="ç›’å­æ¨¡å‹"><a href="#ç›’å­æ¨¡å‹" class="headerlink" title="ç›’å­æ¨¡å‹"></a>ç›’å­æ¨¡å‹</h3><p>box-sizingå±æ€§å¯ä»¥æŒ‡å®šç›’å­æ¨¡å‹ç§ç±»ï¼Œcontent-boxæŒ‡å®šç›’å­æ¨¡å‹ä¸ºW3Cï¼ˆæ ‡å‡†ç›’æ¨¡å‹ï¼‰ï¼Œborder-boxä¸ºIEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰ã€‚</p>
<p>box-sizing: content-box;//å®½åº¦å’Œé«˜åº¦åˆ†åˆ«åº”ç”¨åˆ°å…ƒç´ çš„å†…å®¹æ¡†ã€‚åœ¨å®½åº¦å’Œé«˜åº¦ä¹‹å¤–ç»˜åˆ¶å…ƒç´ çš„å†…è¾¹è·å’Œè¾¹æ¡†ã€‚</p>
<p>box-sizing: border-box;// ä¸ºå…ƒç´ è®¾å®šçš„å®½åº¦å’Œé«˜åº¦å†³å®šäº†å…ƒç´ çš„è¾¹æ¡†ç›’ã€‚å°±æ˜¯è¯´ï¼Œä¸ºå…ƒç´ æŒ‡å®šçš„ä»»ä½•å†…è¾¹è·å’Œè¾¹æ¡†éƒ½å°†åœ¨å·²è®¾å®šçš„å®½åº¦å’Œé«˜åº¦å†…è¿›è¡Œç»˜åˆ¶ã€‚é€šè¿‡ä»å·²è®¾å®šçš„å®½åº¦å’Œé«˜åº¦åˆ†åˆ«å‡å»è¾¹æ¡†å’Œå†…è¾¹è·æ‰èƒ½å¾—åˆ°å†…å®¹çš„å®½åº¦å’Œé«˜åº¦ã€‚</p>
]]></content>
      <tags>
        <tag>é¢è¯•</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>promiseé¢è¯•é¢˜</title>
    <url>/2022/02/24/promise%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<p>promise è€ƒå¯Ÿçš„æ¯”è¾ƒå¤šï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ï¼ŒåŠ æ·±ç†è§£ã€‚</p>
<a id="more"></a>
<ol>
<li>ajax çš„promiseå°è£…</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getJSON(url) &#123;</span><br><span class="line">  // åˆ›å»ºä¸€ä¸ª promise å¯¹è±¡</span><br><span class="line">  let promise = new Promise(function(resolve, reject) &#123;</span><br><span class="line">    let xhr = new XMLHttpRequest();</span><br><span class="line"></span><br><span class="line">    // æ–°å»ºä¸€ä¸ª http è¯·æ±‚</span><br><span class="line">    xhr.open(&quot;GET&quot;, url, true);</span><br><span class="line"></span><br><span class="line">    // è®¾ç½®çŠ¶æ€çš„ç›‘å¬å‡½æ•°</span><br><span class="line">    xhr.onreadystatechange = function() &#123;</span><br><span class="line">      if (this.readyState !== 4) return;</span><br><span class="line"></span><br><span class="line">      // å½“è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥æ—¶ï¼Œæ”¹å˜ promise çš„çŠ¶æ€</span><br><span class="line">      if (this.status === 200) &#123;</span><br><span class="line">        resolve(this.response);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        reject(new Error(this.statusText));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    // è®¾ç½®é”™è¯¯ç›‘å¬å‡½æ•°</span><br><span class="line">    xhr.onerror = function() &#123;</span><br><span class="line">      reject(new Error(this.statusText));</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    // è®¾ç½®å“åº”çš„æ•°æ®ç±»å‹</span><br><span class="line">    xhr.responseType = &quot;json&quot;;</span><br><span class="line"></span><br><span class="line">    // è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span><br><span class="line">    xhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);</span><br><span class="line"></span><br><span class="line">    // å‘é€ http è¯·æ±‚</span><br><span class="line">    xhr.send(null);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  return promise;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>promise</tag>
      </tags>
  </entry>
  <entry>
    <title>railså•å…ƒæµ‹è¯•github actions</title>
    <url>/2021/07/08/rails%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95github-actions/</url>
    <content><![CDATA[<p>å­¦ rails æ—¶ç”¨åˆ°äº†å•å…ƒæµ‹è¯•ï¼Œé‚£å°±ç”¨ github actions æ¥è·‘æµ‹è¯•å§ã€‚</p>
<p>ä¸‹é¢æ˜¯workflowé…ç½®ï¼š<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name: Ruby</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches: [ master ]</span><br><span class="line">  pull_request:</span><br><span class="line">    branches: [ master ]</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  test:</span><br><span class="line"></span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line"></span><br><span class="line">    services:</span><br><span class="line">      mysql:</span><br><span class="line">        image: mysql:5.7</span><br><span class="line">        env:</span><br><span class="line">          MYSQL_ROOT_PASSWORD: root</span><br><span class="line">          MYSQL_DATABASE: app_db_test</span><br><span class="line">        ports:</span><br><span class="line">          - 3306</span><br><span class="line">        options: &gt;-</span><br><span class="line">          --health-cmd=&quot;mysqladmin ping&quot;</span><br><span class="line">          --health-interval=10s</span><br><span class="line">          --health-timeout=5s</span><br><span class="line">          --health-retries=3</span><br><span class="line"></span><br><span class="line">    steps:</span><br><span class="line">      - uses: actions/checkout@v1</span><br><span class="line"></span><br><span class="line">      - name: Set up Ruby 2.6.6</span><br><span class="line">        uses: ruby/setup-ruby@v1</span><br><span class="line">        with:</span><br><span class="line">          ruby-version: 2.6.6</span><br><span class="line"></span><br><span class="line">      - name: Gem cache</span><br><span class="line">        uses: actions/cache@v1</span><br><span class="line">        with:</span><br><span class="line">          path: vendor/bundle</span><br><span class="line">          key: $&#123;&#123; runner.os &#125;&#125;-gems-$&#123;&#123; hashFiles(&apos;**/Gemfile.lock&apos;) &#125;&#125;</span><br><span class="line">          restore-keys: |</span><br><span class="line">            $&#123;&#123; runner.os &#125;&#125;-gems-</span><br><span class="line"></span><br><span class="line">      - name: Verify MySQL connection from host</span><br><span class="line">        run: |</span><br><span class="line">          sudo apt-get install -y mysql-client libmysqlclient-dev</span><br><span class="line">          sudo /etc/init.d/mysql start</span><br><span class="line">          mysql -h 127.0.0.1 --port $&#123;&#123; job.services.mysql.ports[3306] &#125;&#125; -u root -proot -e &quot;CREATE DATABASE IF NOT EXISTS app_db_test;&quot;</span><br><span class="line"></span><br><span class="line">      - name: Bundle install, setup DB and run tests</span><br><span class="line">        env:</span><br><span class="line">          RAILS_ENV: test</span><br><span class="line">          DB_PASSWORD: root</span><br><span class="line">          DB_PORT: $&#123;&#123; job.services.mysql.ports[3306] &#125;&#125;</span><br><span class="line">        run: |</span><br><span class="line">          cp config/database.yml.ci config/database.yml</span><br><span class="line">          gem install bundler</span><br><span class="line">          bundle config path vendor/bundle</span><br><span class="line">          bundle install --jobs 4 --retry 3</span><br><span class="line">          bundle exec rails db:setup</span><br><span class="line">          bundle exec rails test</span><br></pre></td></tr></table></figure></p>
<p>database.yml.ci é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">default: &amp;default</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  encoding: utf8mb4</span><br><span class="line">  pool: &lt;%= ENV.fetch(&quot;RAILS_MAX_THREADS&quot;) &#123; 5 &#125; %&gt;</span><br><span class="line">  username: root</span><br><span class="line">  password: root</span><br><span class="line"></span><br><span class="line">test:</span><br><span class="line">  &lt;&lt;: *default</span><br><span class="line">  database: app_db_test</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>æŒç»­é›†æˆ</tag>
        <tag>github actions</tag>
      </tags>
  </entry>
  <entry>
    <title>vpsä¸€é”®æ­å»ºssè„šæœ¬</title>
    <url>/2019/07/27/vps%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAss%E8%84%9A%E6%9C%AC/</url>
    <content><![CDATA[<h3 id="å®‰è£…è„šæœ¬"><a href="#å®‰è£…è„šæœ¬" class="headerlink" title="å®‰è£…è„šæœ¬"></a>å®‰è£…è„šæœ¬</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget --no-check-certificate http://down.whsir.com/downloads/shadowsocks-go.sh</span><br><span class="line">chmod +x shadowsocks-go.sh</span><br><span class="line">./shadowsocks-go.sh 2&gt;&amp;1 | tee shadowsocks-go.log</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="å¸è½½æ–¹æ³•"><a href="#å¸è½½æ–¹æ³•" class="headerlink" title="å¸è½½æ–¹æ³•"></a>å¸è½½æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./shadowsocks-go.sh uninstall</span><br></pre></td></tr></table></figure>
<h3 id="ç”¨æˆ·å¯†ç é…ç½®"><a href="#ç”¨æˆ·å¯†ç é…ç½®" class="headerlink" title="ç”¨æˆ·å¯†ç é…ç½®"></a>ç”¨æˆ·å¯†ç é…ç½®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi /etc/shadowsocks/config.json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;:&quot;0.0.0.0&quot;,  //ä½ çš„ä¸»æœºIP</span><br><span class="line">    &quot;server_port&quot;:xxxx,  //ç«¯å£</span><br><span class="line">    &quot;local_port&quot;:1080,</span><br><span class="line">    &quot;password&quot;:&quot;xxxx&quot;,</span><br><span class="line">    &quot;method&quot;:&quot;aes-256-cfb&quot;,</span><br><span class="line">    &quot;timeout&quot;:600</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/etc/init.d/shadowsocks restart</span><br></pre></td></tr></table></figure>
<h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¯åŠ¨ï¼š/etc/init.d/shadowsocks start</span><br><span class="line">åœæ­¢ï¼š/etc/init.d/shadowsocks stop</span><br><span class="line">é‡å¯ï¼š/etc/init.d/shadowsocks restart</span><br><span class="line">çŠ¶æ€ï¼š/etc/init.d/shadowsocks status</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>vps</tag>
        <tag>ss</tag>
      </tags>
  </entry>
  <entry>
    <title>äº‹ä»¶æ•è·,å†’æ³¡,ä»£ç†</title>
    <url>/2022/01/26/%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7-%E5%86%92%E6%B3%A1-%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<p>äº‹ä»¶å†’æ³¡ï¼š äº‹ä»¶é»˜è®¤æ˜¯ç”±ä¸‹å¾€ä¸Šçš„å†’æ³¡æ‰§è¡Œæ–¹å¼ã€‚ä»¥ç‚¹å‡»äº‹ä»¶ä¸ºä¾‹ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»å­å…ƒç´ ä¹Ÿèƒ½è§¦å‘çˆ¶å…ƒç´ åŠä»¥ä¸Šå…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ã€‚äº‹ä»¶æ‰§è¡Œé¡ºåºç”±ä¸‹è‡³ä¸Šï¼Œè¿™å°±æ˜¯å†’æ³¡äº‹ä»¶</p>
<p>äº‹ä»¶æ•è·ï¼šæ‰§è¡Œæ–¹å¼æ˜¯ç”±ä¸Šå¾€ä¸‹çš„æ•è·æ–¹å¼ã€‚è¿˜æ˜¯ä»¥ç‚¹å‡»äº‹ä»¶ä¸ºä¾‹ï¼Œå½“ä¸€ä¸ªå­å…ƒç´ ç»‘å®šäº†ç‚¹å‡»äº‹ä»¶ï¼Œæˆ‘ä»¬ç‚¹å‡»å­å…ƒç´ æ—¶ï¼Œçˆ¶å…ƒç´ åŠä»¥ä¸Šçš„å…ƒç´ ç»‘å®šçš„ç‚¹å‡»äº‹ä»¶ä¹Ÿä¼šæ‰§è¡Œã€‚äº‹ä»¶çš„æ‰§è¡Œé¡ºåºæ—¶ç”±ä¸Šè‡³ä¸‹ï¼Œè¿™å°±æ˜¯æ•è·äº‹ä»¶</p>
<a id="more"></a>
<p>äº‹ä»¶ä»£ç†ï¼š äº‹ä»¶ä»£ç†æ˜¯åŸºäºäº‹ä»¶å†’æ³¡ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»å­å…ƒç´ ä¹Ÿèƒ½è§¦å‘çˆ¶å…ƒç´ åŠä»¥ä¸Šå…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ç»™çˆ¶å…ƒç´ æ·»åŠ äº‹ä»¶å‡½æ•°ï¼Œé€šè¿‡åˆ¤æ–­å½“å‰ç‚¹å‡»çš„æ˜¯ä¸æ˜¯å­å…ƒç´ æ¥æ·»åŠ ä¸€äº›å¤„ç†ã€‚ è¿™æ ·æˆ‘ä¹ˆå°±ä¸ç”¨ç»™æ¯ä¸€ä¸ªå­å…ƒç´ æ·»åŠ äº‹ä»¶ï¼Œå¯¹äºåŠ¨æ€æ·»åŠ çš„å­å…ƒç´ ä¹Ÿé€‚ç”¨ã€‚</p>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>äº‹ä»¶æ•è·</tag>
        <tag>äº‹ä»¶å†’æ³¡</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»è¾“å…¥urlåˆ°é¡µé¢å±•ç°</title>
    <url>/2022/02/17/%E4%BB%8E%E8%BE%93%E5%85%A5url%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%8E%B0/</url>
    <content><![CDATA[<p>ä»è¾“å…¥urlåˆ°é¡µé¢å±•ç°, èƒŒåçš„æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š<br>1.æµè§ˆå™¨æŸ¥æ‰¾å½“å‰URLæ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œå¹¶æ¯”è¾ƒç¼“å­˜æ˜¯å¦è¿‡æœŸ<br>2.DNSè§£æ<br>3.é€šè¿‡IPå‘æœåŠ¡å™¨å‘èµ·TCPè¿æ¥<br>4.å‘æœåŠ¡å™¨å‘èµ·HTTPè¯·æ±‚<br>5.æœåŠ¡å™¨è¿”å›è¯·æ±‚å†…å®¹<br>6.æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢<br>7.å…³é—­è¿æ¥<br><a id="more"></a></p>
<h3 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h3><p>HTTPç¼“å­˜æœ‰å¤šç§è§„åˆ™ï¼Œæ ¹æ®æ˜¯å¦éœ€è¦é‡æ–°å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ¥åˆ†ç±»ï¼Œæˆ‘å°†å…¶åˆ†ä¸ºå¼ºç¼“å­˜ï¼Œåå•†ç¼“å­˜</p>
<h4 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h4><p>å¼ºç¼“å­˜åˆ¤æ–­HTTPé¦–éƒ¨å­—æ®µï¼šcache-controlï¼ŒExpiresã€‚</p>
<p>Expiresæ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œå³æœåŠ¡å™¨æ—¶é—´ã€‚æµè§ˆå™¨æ£€æŸ¥å½“å‰æ—¶é—´ï¼Œå¦‚æœè¿˜æ²¡åˆ°å¤±æ•ˆæ—¶é—´å°±ç›´æ¥ä½¿ç”¨ç¼“å­˜æ–‡ä»¶ã€‚ä½†æ˜¯è¯¥æ–¹æ³•å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæœåŠ¡å™¨æ—¶é—´ä¸å®¢æˆ·ç«¯æ—¶é—´å¯èƒ½ä¸ä¸€è‡´ã€‚å› æ­¤è¯¥å­—æ®µå·²ç»å¾ˆå°‘ä½¿ç”¨ã€‚</p>
<p>cache-controlä¸­çš„max-ageä¿å­˜ä¸€ä¸ªç›¸å¯¹æ—¶é—´ã€‚ä¾‹å¦‚Cache-Control: max-age = 484200ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ”¶åˆ°æ–‡ä»¶åï¼Œç¼“å­˜åœ¨484200så†…å‡æœ‰æ•ˆã€‚ å¦‚æœåŒæ—¶å­˜åœ¨cache-controlå’ŒExpiresï¼Œæµè§ˆå™¨æ€»æ˜¯ä¼˜å…ˆä½¿ç”¨cache-controlã€‚</p>
<h4 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h4><p>åå•†ç¼“å­˜é€šè¿‡HTTPçš„last-modifiedï¼ŒEtagå­—æ®µè¿›è¡Œåˆ¤æ–­ã€‚</p>
<p>last-modifiedæ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨è¿”å›çš„å­—æ®µï¼Œè¡¨ç¤ºæœ€åä¸€æ¬¡æ›´æ–°çš„æ—¶é—´ã€‚ä¸‹ä¸€æ¬¡æµè§ˆå™¨è¯·æ±‚èµ„æºæ—¶å°±å‘é€if-modified-sinceå­—æ®µã€‚æœåŠ¡å™¨ç”¨æœ¬åœ°Last-modifiedæ—¶é—´ä¸if-modified-sinceæ—¶é—´æ¯”è¾ƒï¼Œå¦‚æœä¸ä¸€è‡´åˆ™è®¤ä¸ºç¼“å­˜å·²è¿‡æœŸå¹¶è¿”å›æ–°èµ„æºç»™æµè§ˆå™¨ï¼›å¦‚æœæ—¶é—´ä¸€è‡´åˆ™å‘é€304çŠ¶æ€ç ï¼Œè®©æµè§ˆå™¨ç»§ç»­ä½¿ç”¨ç¼“å­˜ã€‚</p>
<p>Etagï¼šèµ„æºçš„å®ä½“æ ‡è¯†ï¼ˆå“ˆå¸Œå­—ç¬¦ä¸²ï¼‰ï¼Œå½“èµ„æºå†…å®¹æ›´æ–°æ—¶ï¼ŒEtagä¼šæ”¹å˜ã€‚æœåŠ¡å™¨ä¼šåˆ¤æ–­Etagæ˜¯å¦å‘ç”Ÿå˜åŒ–(IfNoneMatch)ï¼Œå¦‚æœå˜åŒ–åˆ™è¿”å›æ–°èµ„æºï¼Œå¦åˆ™è¿”å›304ã€‚</p>
<h3 id="DNSè§£æ"><a href="#DNSè§£æ" class="headerlink" title="DNSè§£æ"></a>DNSè§£æ</h3><p>æˆ‘ä»¬çŸ¥é“åœ¨åœ°å€æ è¾“å…¥çš„åŸŸåå¹¶ä¸æ˜¯æœ€åèµ„æºæ‰€åœ¨çš„çœŸå®ä½ç½®ï¼ŒåŸŸååªæ˜¯ä¸IPåœ°å€çš„ä¸€ä¸ªæ˜ å°„ã€‚ç½‘ç»œæœåŠ¡å™¨çš„IPåœ°å€é‚£ä¹ˆå¤šï¼Œæˆ‘ä»¬ä¸å¯èƒ½å»è®°ä¸€ä¸²ä¸²çš„æ•°å­—ï¼Œå› æ­¤åŸŸåå°±äº§ç”Ÿäº†ï¼ŒåŸŸåè§£æçš„è¿‡ç¨‹å®é™…æ˜¯å°†åŸŸåè¿˜åŸä¸ºIPåœ°å€çš„è¿‡ç¨‹ã€‚</p>
<p>é¦–å…ˆæµè§ˆå™¨å…ˆæ£€æŸ¥æœ¬åœ°hostsæ–‡ä»¶æ˜¯å¦æœ‰è¿™ä¸ªç½‘å€æ˜ å°„å…³ç³»ï¼Œå¦‚æœæœ‰å°±è°ƒç”¨è¿™ä¸ªIPåœ°å€æ˜ å°„ï¼Œå®ŒæˆåŸŸåè§£æã€‚</p>
<p>å¦‚æœæ²¡æ‰¾åˆ°åˆ™ä¼šæŸ¥æ‰¾æœ¬åœ°DNSè§£æå™¨ç¼“å­˜ï¼Œå¦‚æœæŸ¥æ‰¾åˆ°åˆ™è¿”å›ã€‚</p>
<p>å¦‚æœè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°åˆ™ä¼šæŸ¥æ‰¾æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œå¦‚æœæŸ¥æ‰¾åˆ°åˆ™è¿”å›ã€‚</p>
<p>æœ€åè¿­ä»£æŸ¥è¯¢ï¼ŒæŒ‰æ ¹åŸŸæœåŠ¡å™¨ -&gt;é¡¶çº§åŸŸ,.cn-&gt;ç¬¬äºŒå±‚åŸŸï¼Œhb.cn -&gt;å­åŸŸï¼Œ<a href="http://www.hb.cnçš„é¡ºåºæ‰¾åˆ°IPåœ°å€ã€‚" target="_blank" rel="noopener">www.hb.cnçš„é¡ºåºæ‰¾åˆ°IPåœ°å€ã€‚</a></p>
<h3 id="TCPè¿æ¥"><a href="#TCPè¿æ¥" class="headerlink" title="TCPè¿æ¥"></a>TCPè¿æ¥</h3><p>åœ¨é€šè¿‡ç¬¬ä¸€æ­¥çš„DNSåŸŸåè§£æåï¼Œè·å–åˆ°äº†æœåŠ¡å™¨çš„IPåœ°å€ï¼Œåœ¨è·å–åˆ°IPåœ°å€åï¼Œä¾¿ä¼šå¼€å§‹å»ºç«‹ä¸€æ¬¡è¿æ¥ï¼Œè¿™æ˜¯ç”±TCPåè®®å®Œæˆçš„ï¼Œä¸»è¦é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹è¿›è¡Œè¿æ¥ã€‚</p>
<p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼š å»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€synåŒ…ï¼ˆsyn=jï¼‰åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼› </p>
<p>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š æœåŠ¡å™¨æ”¶åˆ°synåŒ…ï¼Œå¿…é¡»ç¡®è®¤å®¢æˆ·çš„SYNï¼ˆack=j+1ï¼‰ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…ï¼ˆsyn=kï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼›</p>
<p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=k+1ï¼‰ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDï¼ˆTCPè¿æ¥æˆåŠŸï¼‰çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚</p>
<p> å®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å¼€å§‹ä¼ é€æ•°æ®ã€‚</p>
<h3 id="å‘èµ·HTTPè¯·æ±‚"><a href="#å‘èµ·HTTPè¯·æ±‚" class="headerlink" title="å‘èµ·HTTPè¯·æ±‚"></a>å‘èµ·HTTPè¯·æ±‚</h3><p> å®Œæ•´çš„HTTPè¯·æ±‚åŒ…å«è¯·æ±‚èµ·å§‹è¡Œã€è¯·æ±‚å¤´éƒ¨ã€è¯·æ±‚ä¸»ä½“ä¸‰éƒ¨åˆ†ã€‚</p>
<h3 id="æœåŠ¡å™¨è¿”å›è¯·æ±‚å†…å®¹"><a href="#æœåŠ¡å™¨è¿”å›è¯·æ±‚å†…å®¹" class="headerlink" title="æœåŠ¡å™¨è¿”å›è¯·æ±‚å†…å®¹"></a>æœåŠ¡å™¨è¿”å›è¯·æ±‚å†…å®¹</h3><p> æœåŠ¡å™¨åœ¨æ”¶åˆ°æµè§ˆå™¨å‘é€çš„HTTPè¯·æ±‚ä¹‹åï¼Œä¼šå°†æ”¶åˆ°çš„HTTPæŠ¥æ–‡å°è£…æˆHTTPçš„Requestå¯¹è±¡ï¼Œå¹¶é€šè¿‡ä¸åŒçš„WebæœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼Œå¤„ç†å®Œçš„ç»“æœä»¥HTTPçš„Responseå¯¹è±¡è¿”å›ï¼Œä¸»è¦åŒ…æ‹¬çŠ¶æ€ç ï¼Œå“åº”å¤´ï¼Œå“åº”æŠ¥æ–‡ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p>
<p>ã€€ã€€çŠ¶æ€ç ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹éƒ¨åˆ†</p>
<p>ã€€ã€€1xxï¼šæŒ‡ç¤ºä¿¡æ¯â€“è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†ã€‚</p>
<p>ã€€ã€€2xxï¼šæˆåŠŸâ€“è¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶ã€ç†è§£ã€æ¥å—ã€‚</p>
<p>ã€€ã€€3xxï¼šé‡å®šå‘â€“è¦å®Œæˆè¯·æ±‚å¿…é¡»è¿›è¡Œæ›´è¿›ä¸€æ­¥çš„æ“ä½œã€‚</p>
<p>ã€€ã€€4xxï¼šå®¢æˆ·ç«¯é”™è¯¯â€“è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•å®ç°ã€‚</p>
<p>ã€€ã€€5xxï¼šæœåŠ¡å™¨ç«¯é”™è¯¯â€“æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚ã€‚</p>
<p>ã€€ã€€å“åº”å¤´ä¸»è¦ç”±Cache-Controlã€ Connectionã€Dateã€Pragmaç­‰ç»„æˆã€‚</p>
<p>ã€€ã€€å“åº”ä½“ä¸ºæœåŠ¡å™¨è¿”å›ç»™æµè§ˆå™¨çš„ä¿¡æ¯ï¼Œä¸»è¦ç”±HTMLï¼Œcssï¼Œjsï¼Œå›¾ç‰‡æ–‡ä»¶ç»„æˆã€‚</p>
<h3 id="æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢"><a href="#æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢" class="headerlink" title="æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢"></a>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</h3><p>æµè§ˆå™¨å†…æ ¸æ‹¿åˆ°å†…å®¹åï¼Œæ¸²æŸ“æ­¥éª¤å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š</p>
<p>  è§£æHTMLï¼Œæ„å»ºDOMæ ‘<br>  è§£æCSSï¼Œç”ŸæˆCSSè§„åˆ™æ ‘<br>  åˆå¹¶DOMæ ‘å’ŒCSSè§„åˆ™æ ‘ï¼Œç”Ÿæˆrenderæ ‘<br>  å¸ƒå±€renderæ ‘ï¼ˆlayout/reflowï¼‰ï¼Œè´Ÿè´£å„å…ƒç´ å°ºå¯¸ã€ä½ç½®çš„è®¡ç®—<br>  ç»˜åˆ¶renderæ ‘ï¼ˆpaintï¼‰ï¼Œç»˜åˆ¶é¡µé¢åƒç´ ä¿¡æ¯<br>  æµè§ˆå™¨ä¼šå°†å„å±‚çš„ä¿¡æ¯å‘é€ç»™GUIï¼ŒGUIä¼šå°†å„å±‚åˆæˆï¼ˆcompositeï¼‰ï¼Œæ˜¾ç¤ºåœ¨å±å¹•ä¸Š</p>
<p>  é‡åˆ°CSSæ ·å¼èµ„æºï¼ˆç‰¹ç‚¹ï¼‰ï¼š</p>
<pre><code>CSSä¸‹è½½æ—¶å¼‚æ­¥ï¼Œä¸ä¼šé˜»å¡æµè§ˆå™¨æ„å»ºDOMæ ‘ï¼Œä½†æ˜¯ä¼šé˜»å¡æ¸²æŸ“ï¼Œä¹Ÿå°±æ˜¯åœ¨æ„å»ºrenderæ ‘æ—¶ï¼Œä¼šç­‰åˆ°cssä¸‹è½½è§£æå®Œæ¯•åæ‰è¿›è¡Œï¼ˆè¿™ç‚¹ä¸æµè§ˆå™¨ä¼˜åŒ–æœ‰å…³ï¼Œé˜²æ­¢cssè§„åˆ™ä¸æ–­æ”¹å˜ï¼Œé¿å…äº†é‡å¤çš„æ„å»ºï¼‰ã€‚æœ‰ä¾‹å¤–ï¼Œmedia queryå£°æ˜çš„CSSæ˜¯ä¸ä¼šé˜»å¡æ¸²æŸ“çš„ã€‚
</code></pre><p>é‡åˆ°JSè„šæœ¬èµ„æºï¼ˆç‰¹ç‚¹ï¼‰ï¼š</p>
<pre><code>é˜»å¡æµè§ˆå™¨çš„è§£æï¼Œä¹Ÿå°±æ˜¯è¯´å‘ç°ä¸€ä¸ªå¤–é“¾è„šæœ¬æ—¶ï¼Œéœ€ç­‰å¾…è„šæœ¬ä¸‹è½½å®Œæˆå¹¶æ‰§è¡Œåæ‰ä¼šç»§ç»­è§£æhtmlï¼›
æµè§ˆå™¨çš„ä¼˜åŒ–ï¼Œåœ¨è„šæœ¬é˜»å¡æ—¶ï¼Œä¹Ÿä¼šç»§ç»­ä¸‹è½½å…¶ä»–èµ„æºï¼ˆå½“ç„¶æœ‰å¹¶å‘ä¸Šé™ï¼‰ï¼Œä½†æ˜¯è™½ç„¶è„šæœ¬å¯ä»¥å¹¶è¡Œä¸‹è½½ï¼Œè§£æè¿‡ç¨‹ä»ç„¶æ˜¯é˜»å¡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¿…é¡»è¿™ä¸ªè„šæœ¬æ‰§è¡Œå®Œæ¯•åæ‰ä¼šæ¥ä¸‹æ¥çš„è§£æï¼Œå¹¶è¡Œä¸‹è½½åªæ˜¯ä¸€ç§ä¼˜åŒ–è€Œå·²ã€‚deferï¼ˆå»¶è¿Ÿæ‰§è¡Œï¼‰ä¸asyncï¼ˆå¼‚æ­¥æ‰§è¡Œï¼‰ï¼Œæ™®é€šçš„è„šæœ¬æ˜¯ä¼šé˜»å¡æµè§ˆå™¨è§£æçš„ï¼Œä½†æ˜¯å¯ä»¥åŠ ä¸Šdeferå’Œasyncå±æ€§ï¼Œè¿™æ ·è„šæœ¬å°±å˜æˆå¼‚æ­¥äº†ï¼Œå¯ä»¥ç­‰åˆ°è§£æå®Œæˆåå†æ‰§è¡Œã€‚
</code></pre><p>é‡åˆ°imgå›¾ç‰‡ç±»èµ„æºï¼š</p>
<p>é‡åˆ°å›¾ç‰‡ç­‰èµ„æºæ—¶ï¼Œç›´æ¥å°±æ˜¯å¼‚æ­¥ä¸‹è½½ï¼Œä¸ä¼šé˜»å¡è§£æï¼Œä¸‹è½½å®Œæ¯•åç›´æ¥ç”¨å›¾ç‰‡æ›¿æ¢åŸæœ‰srcçš„åœ°æ–¹ã€‚</p>
<p>ã€€ã€€å¦‚æœè¯´å“åº”çš„å†…å®¹æ˜¯HTMLæ–‡æ¡£çš„è¯ï¼Œå°±éœ€è¦æµè§ˆå™¨è¿›è¡Œè§£ææ¸²æŸ“å‘ˆç°ç»™ç”¨æˆ·ã€‚æ•´ä¸ªè¿‡ç¨‹æ¶‰åŠä¸¤ä¸ªæ–¹é¢ï¼šè§£æå’Œæ¸²æŸ“ã€‚åœ¨æ¸²æŸ“é¡µé¢ä¹‹å‰ï¼Œéœ€è¦æ„å»ºDOMæ ‘å’ŒCSSOMæ ‘ã€‚</p>
<p>ã€€ã€€åœ¨æµè§ˆå™¨è¿˜æ²¡æ¥æ”¶åˆ°å®Œæ•´çš„ HTML æ–‡ä»¶æ—¶ï¼Œå®ƒå°±å¼€å§‹æ¸²æŸ“é¡µé¢äº†ï¼Œåœ¨é‡åˆ°å¤–éƒ¨é“¾å…¥çš„è„šæœ¬æ ‡ç­¾æˆ–æ ·å¼æ ‡ç­¾æˆ–å›¾ç‰‡æ—¶ï¼Œä¼šå†æ¬¡å‘é€ HTTP è¯·æ±‚é‡å¤ä¸Šè¿°çš„æ­¥éª¤ã€‚åœ¨æ”¶åˆ° CSS æ–‡ä»¶åä¼šå¯¹å·²ç»æ¸²æŸ“çš„é¡µé¢é‡æ–°æ¸²æŸ“ï¼ŒåŠ å…¥å®ƒä»¬åº”æœ‰çš„æ ·å¼ï¼Œå›¾ç‰‡æ–‡ä»¶åŠ è½½å®Œç«‹åˆ»æ˜¾ç¤ºåœ¨ç›¸åº”ä½ç½®ã€‚åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­å¯èƒ½ä¼šè§¦å‘é¡µé¢çš„é‡ç»˜æˆ–é‡æ’ã€‚è¿™é‡Œå°±æ¶‰åŠäº†ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼šReflowå’ŒRepaintã€‚</p>
<p>ã€€ã€€Reflowï¼Œä¹Ÿç§°ä½œLayoutï¼Œä¸­æ–‡å«å›æµï¼Œä¸€èˆ¬æ„å‘³ç€å…ƒç´ çš„å†…å®¹ã€ç»“æ„ã€ä½ç½®æˆ–å°ºå¯¸å‘ç”Ÿäº†å˜åŒ–ï¼Œéœ€è¦é‡æ–°è®¡ç®—æ ·å¼å’Œæ¸²æŸ“æ ‘ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºReflowã€‚</p>
<p>ã€€ã€€Repaintï¼Œä¸­æ–‡é‡ç»˜ï¼Œæ„å‘³ç€å…ƒç´ å‘ç”Ÿçš„æ”¹å˜åªæ˜¯å½±å“äº†å…ƒç´ çš„ä¸€äº›å¤–è§‚ä¹‹ç±»çš„æ—¶å€™ï¼ˆä¾‹å¦‚ï¼ŒèƒŒæ™¯è‰²ï¼Œè¾¹æ¡†é¢œè‰²ï¼Œæ–‡å­—é¢œè‰²ç­‰ï¼‰ï¼Œæ­¤æ—¶åªéœ€è¦åº”ç”¨æ–°æ ·å¼ç»˜åˆ¶è¿™ä¸ªå…ƒç´ å°±OKäº†ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºRepaintã€‚</p>
<p>ã€€ã€€æ‰€ä»¥è¯´Reflowçš„æˆæœ¬æ¯”Repaintçš„æˆæœ¬é«˜å¾—å¤šçš„å¤šã€‚DOMæ ‘é‡Œçš„æ¯ä¸ªç»“ç‚¹éƒ½ä¼šæœ‰reflowæ–¹æ³•ï¼Œä¸€ä¸ªç»“ç‚¹çš„reflowå¾ˆæœ‰å¯èƒ½å¯¼è‡´å­ç»“ç‚¹ï¼Œç”šè‡³çˆ¶ç‚¹ä»¥åŠåŒçº§ç»“ç‚¹çš„reflowã€‚</p>
<p>ã€€ã€€ä¸‹é¢è¿™äº›åŠ¨ä½œæœ‰å¾ˆå¤§å¯èƒ½ä¼šæ˜¯æˆæœ¬æ¯”è¾ƒé«˜çš„ï¼š</p>
<p>å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹DOMç»“ç‚¹æ—¶ï¼Œä¼šå¯¼è‡´Reflowæˆ–Repaint</p>
<p>ç§»åŠ¨DOMçš„ä½ç½®ï¼Œæˆ–æ˜¯æä¸ªåŠ¨ç”»çš„æ—¶å€™</p>
<p>å†…å®¹å‘ç”Ÿå˜åŒ–</p>
<p>ä¿®æ”¹CSSæ ·å¼çš„æ—¶å€™</p>
<p>Resizeçª—å£çš„æ—¶å€™ï¼ˆç§»åŠ¨ç«¯æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼‰ï¼Œæˆ–æ˜¯æ»šåŠ¨çš„æ—¶å€™</p>
<p>ä¿®æ”¹ç½‘é¡µçš„é»˜è®¤å­—ä½“æ—¶</p>
<p>ã€€ã€€åŸºæœ¬ä¸Šæ¥è¯´ï¼Œreflowæœ‰å¦‚ä¸‹çš„å‡ ä¸ªåŸå› ï¼š</p>
<p>Initialï¼Œç½‘é¡µåˆå§‹åŒ–çš„æ—¶å€™</p>
<p>Incrementalï¼Œä¸€äº›jsåœ¨æ“ä½œDOMæ ‘æ—¶</p>
<p>Resizeï¼Œå…¶äº›å…ƒä»¶çš„å°ºå¯¸å˜äº†</p>
<p>StyleChangeï¼Œå¦‚æœCSSçš„å±æ€§å‘ç”Ÿå˜åŒ–äº†</p>
<p>Dirtyï¼Œå‡ ä¸ªIncrementalçš„reflowå‘ç”Ÿåœ¨åŒä¸€ä¸ªframeçš„å­æ ‘ä¸Š</p>
<h3 id="å…³é—­TCPè¿æ¥æˆ–ç»§ç»­ä¿æŒè¿æ¥"><a href="#å…³é—­TCPè¿æ¥æˆ–ç»§ç»­ä¿æŒè¿æ¥" class="headerlink" title="å…³é—­TCPè¿æ¥æˆ–ç»§ç»­ä¿æŒè¿æ¥"></a>å…³é—­TCPè¿æ¥æˆ–ç»§ç»­ä¿æŒè¿æ¥</h3><p>é€šè¿‡å››æ¬¡æŒ¥æ‰‹å…³é—­è¿æ¥(FIN ACK, ACK, FIN ACK, ACK)ã€‚</p>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>æµè§ˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯</title>
    <url>/2022/01/24/%E4%BC%98%E5%8C%96%E6%89%93%E5%8C%85%E4%BD%93%E7%A7%AF/</url>
    <content><![CDATA[<p>æœ€è¿‘å‘ç°é¡¹ç›®æ‰“åŒ…ä½“ç§¯ç«Ÿç„¶æœ‰20Mäº†ï¼Œ æƒ³äº†æƒ³é¡¹ç›®ç¡®å®æœ‰å‡ å¼ å›¾ç‰‡ä½“ç§¯å¾ˆå¤§ï¼Œè¿˜å¼•å…¥äº†echartsï¼Œ ä½†ä¸è‡³äºä½“ç§¯è¿™ä¹ˆå¤§å§ï¼Œäºæ˜¯å¼€å§‹ç ”ç©¶webpackæ‰“åŒ…äº†ã€‚<br><a id="more"></a><br>é¦–å…ˆå®‰è£…<code></code>webpack-bundle-analyzer` æ’ä»¶ï¼Œ æ‰¾å‡ºæœ€å ç”¨ç©ºé—´çš„æ–‡ä»¶æœ‰å“ªäº›ã€‚</p>
<p><code>npm install webpack-bundle-analyzer -D</code></p>
<p>æˆ‘æ˜¯ç”¨çš„<code>vue-cli4</code>ï¼Œ æ‰€ä»¥åœ¨<code>vue.config.js</code>é‡Œé¢æ·»åŠ å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const BundleAnalyzerPlugin = require(&quot;webpack-bundle-analyzer&quot;).BundleAnalyzerPlugin;</span><br><span class="line"> </span><br><span class="line">// å±•ç¤ºå›¾å½¢åŒ–ä¿¡æ¯</span><br><span class="line">chainWebpack: config =&gt; &#123;</span><br><span class="line">  config</span><br><span class="line">    .plugin(&apos;webpack-bundle-analyzer&apos;)</span><br><span class="line">    .use(BundleAnalyzerPlugin)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶ååœ¨<code>package.json</code>é‡Œé¢æ·»åŠ <code>&quot;analyzer&quot;: &quot;use_analyzer=true npm run serve&quot;</code><br>å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://static01.imgkr.com/temp/8589678b5bcd43cc9107f90eb60f701e.jpg" alt="&#39;æ‰“åŒ…åˆ†æ&#39;"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œecharts å¯ä»¥è¯´æ˜¯ç½ªé­ç¥¸é¦–äº†ï¼Œæºç åŠ ä¸Šåœ°å›¾jsonæ–‡ä»¶ï¼Œå ç”¨äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ç©ºé—´ã€‚elementUIçš„æ–‡ä»¶ä¹Ÿå¾ˆå¤§ã€‚</p>
<p>é¦–å…ˆæ˜¯elementUI çš„æŒ‰éœ€åŠ è½½ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    &apos;@vue/app&apos;</span><br><span class="line">  ],</span><br><span class="line">  plugins: [</span><br><span class="line">    [</span><br><span class="line">      &quot;component&quot;,</span><br><span class="line">      &#123;</span><br><span class="line">        libraryName: &quot;element-ui&quot;,</span><br><span class="line">        styleLibraryName: &quot;theme-chalk&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ¥ç€ä¼˜åŒ–echartsæŒ‰éœ€åŠ è½½ï¼š<br><code>npm install babel-plugin-equire -D</code></p>
<figure class="highlight plain"><figcaption><span>echarts </span></figcaption><table><tr><td class="code"><pre><span class="line">  // å†™ä¸Šä½ éœ€è¦çš„ echarts api</span><br><span class="line">  &quot;bar&quot;,</span><br><span class="line">  &quot;line&quot;,</span><br><span class="line">  &quot;map&quot;</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">export default echarts;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>vue.config.js</code>é‡Œé¢æ·»åŠ <br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    &apos;@vue/app&apos;</span><br><span class="line">  ],</span><br><span class="line">  plugins: [</span><br><span class="line">    [</span><br><span class="line">      &quot;component&quot;,</span><br><span class="line">      &#123;</span><br><span class="line">        libraryName: &quot;element-ui&quot;,</span><br><span class="line">        styleLibraryName: &quot;theme-chalk&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;equire&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>é¡µé¢åº”ç”¨ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ç›´æ¥å¼•ç”¨</span><br><span class="line"> import echarts from &apos;@/lib/util/echarts.js&apos; </span><br><span class="line"> </span><br><span class="line"> this.myChart = echarts.init(this.$refs.chart)</span><br></pre></td></tr></table></figure></p>
<p>åˆ é™¤æ— ç”¨çš„æ’ä»¶ï¼Œé¿å…åŠ è½½å¤šä½™çš„èµ„æº<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chainWebpack: config =&gt; &#123;</span><br><span class="line">    // ç§»é™¤prefetchæ’ä»¶ï¼Œé¿å…åŠ è½½å¤šä½™çš„èµ„æº</span><br><span class="line">    config.plugins.delete(&apos;prefetch&apos;)</span><br><span class="line">    / ç§»é™¤ preload æ’ä»¶ï¼Œé¿å…åŠ è½½å¤šä½™çš„èµ„æº</span><br><span class="line">    config.plugins.delete(&apos;preload&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å›¾ç‰‡æŒ‰éœ€åŠ è½½:  <code>npm install image-webpack-loader -D</code><br><code>vue.config.js</code>é‡Œé¢ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">config.module.rule(&apos;images&apos;)</span><br><span class="line">    .test(/\.(png|jpe?g|gif|webp)(\?.*)?$/)</span><br><span class="line">    .use(&apos;image-webpack-loader&apos;)</span><br><span class="line">    .loader(&apos;image-webpack-loader&apos;)</span><br><span class="line">    .options(&#123;</span><br><span class="line">      bypassOnDebug: true</span><br><span class="line">    &#125;)</span><br><span class="line">    .end()</span><br></pre></td></tr></table></figure></p>
<p>æŠ½ç¦» css æ”¯æŒæŒ‰éœ€åŠ è½½: <code>npm install mini-css-extract-plugin -D</code><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chainWebpack: config =&gt; &#123;</span><br><span class="line">  let miniCssExtractPlugin = new MiniCssExtractPlugin(&#123;</span><br><span class="line">    filename: &apos;assets/[name].[hash:8].css&apos;,</span><br><span class="line">    chunkFilename: &apos;assets/[name].[hash:8].css&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">  config.plugin(&apos;extract-css&apos;).use(miniCssExtractPlugin)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>gzipå‹ç¼©ä»£ç : <code>npm install compression-webpack-plugin -D</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const CompressionWebpackPlugin = require(&apos;compression-webpack-plugin&apos;);</span><br><span class="line"></span><br><span class="line">// å¼€å¯gzipå‹ç¼©</span><br><span class="line">  config.plugins.push(</span><br><span class="line">    new CompressionWebpackPlugin(</span><br><span class="line">      &#123;</span><br><span class="line">        filename: info =&gt; &#123;</span><br><span class="line">          return `$&#123;info.path&#125;.gz$&#123;info.query&#125;`</span><br><span class="line">        &#125;,</span><br><span class="line">        algorithm: &apos;gzip&apos;,</span><br><span class="line">        threshold: 10240, // åªæœ‰å¤§å°å¤§äºè¯¥å€¼çš„èµ„æºä¼šè¢«å¤„ç† 10240</span><br><span class="line">        test: new RegExp(&apos;\\.(&apos; + [&apos;js&apos;].join(&apos;|&apos;) + &apos;)$&apos;</span><br><span class="line">        ),</span><br><span class="line">        minRatio: 0.8, // åªæœ‰å‹ç¼©ç‡å°äºè¿™ä¸ªå€¼çš„èµ„æºæ‰ä¼šè¢«å¤„ç†</span><br><span class="line">        deleteOriginalAssets: false // åˆ é™¤åŸæ–‡ä»¶</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>webpack</tag>
        <tag>æ‰“åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯ä¸‹è½½ excel</title>
    <url>/2021/07/02/%E5%89%8D%E7%AB%AF%E4%B8%8B%E8%BD%BD-excel/</url>
    <content><![CDATA[<p>å‰ç«¯å¯¼å‡ºexcel:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import XLSX from &apos;xlsx&apos;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * å¯¼å‡ºExcelçš„å¤„ç†å‡½æ•°--é’ˆå¯¹table</span><br><span class="line"> * @param &#123;Array&#125; headers: [&#123;key: &apos;date&apos;, title: &apos;æ—¥æœŸ&apos;&#125;, &#123;key: &apos;name&apos;, title: &apos;åç§°&apos;&#125;]</span><br><span class="line"> * @param &#123;Array&#125; data   : [&#123;date: &apos;2019-05-31&apos;, name: &apos;megen.huang&apos;&#125;, &#123;date: &apos;name&apos;, name: &apos;å°æ˜&apos;&#125;]</span><br><span class="line"> * @param &#123;String&#125; fileName: &apos;å¯¼å‡ºç»“æœ.xlsx&apos;</span><br><span class="line"> * */</span><br><span class="line">export default function Export2Excel (headers, data, fileName = &apos;å¯¼å‡ºç»“æœ.xlsx&apos;) &#123;</span><br><span class="line">  const _headers = headers.map((item, i) =&gt; Object.assign(&#123;&#125;, &#123; key: item.key, title: item.title, position: String.fromCharCode(65 + i) + 1 &#125;)).reduce((prev, next) =&gt; Object.assign(&#123;&#125;, prev, &#123; [next.position]: &#123; key: next.key, v: next.title &#125; &#125;), &#123;&#125;)</span><br><span class="line"></span><br><span class="line">  const _data = data.map((item, i) =&gt; headers.map((key, j) =&gt; Object.assign(&#123;&#125;, &#123; content: item[key.key], position: String.fromCharCode(65 + j) + (i + 2) &#125;)))</span><br><span class="line">  // å¯¹åˆšæ‰çš„ç»“æœè¿›è¡Œé™ç»´å¤„ç†ï¼ˆäºŒç»´æ•°ç»„å˜æˆä¸€ç»´æ•°ç»„ï¼‰</span><br><span class="line">    .reduce((prev, next) =&gt; prev.concat(next))</span><br><span class="line">    // è½¬æ¢æˆ worksheet éœ€è¦çš„ç»“æ„</span><br><span class="line">    .reduce((prev, next) =&gt; Object.assign(&#123;&#125;, prev, &#123; [next.position]: &#123; v: next.content &#125; &#125;), &#123;&#125;)</span><br><span class="line"></span><br><span class="line">  // åˆå¹¶ headers å’Œ data</span><br><span class="line">  const output = Object.assign(&#123;&#125;, _headers, _data)</span><br><span class="line">  // è·å–æ‰€æœ‰å•å…ƒæ ¼çš„ä½ç½®</span><br><span class="line">  const outputPos = Object.keys(output)</span><br><span class="line">  // è®¡ç®—å‡ºèŒƒå›´ ,[&quot;A1&quot;,..., &quot;H2&quot;]</span><br><span class="line">  const ref = `$&#123;outputPos[0]&#125;:$&#123;outputPos[outputPos.length - 1]&#125;`</span><br><span class="line">  // æ„å»º workbook å¯¹è±¡</span><br><span class="line">  const wb = &#123;</span><br><span class="line">    SheetNames: [&apos;mySheet&apos;],</span><br><span class="line">    Sheets: &#123;</span><br><span class="line">      mySheet: Object.assign(</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">        output,</span><br><span class="line">        &#123;</span><br><span class="line">          &apos;!ref&apos;: ref,</span><br><span class="line">          // eslint-disable-next-line</span><br><span class="line">            &apos;!cols&apos;: headers.map(item =&gt; (&#123;wpx: 100&#125;))</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // å¯¼å‡º Excel</span><br><span class="line">  XLSX.writeFile(wb, fileName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ æ²¹!</title>
    <url>/2022/02/12/%E5%8A%A0%E6%B2%B9/</url>
    <content><![CDATA[<p>æœ€è¿‘é¢è¯•ä¸å¤ªé¡ºåˆ©ï¼Œå†ä¸€æ¬¡æ„Ÿå¹å¹³æ—¶çœŸçš„æ²¡æœ‰å¥½å¥½å‡†å¤‡ï¼Œé‡åˆ°å¥½çš„å·¥ä½œæœºä¼šæœ€ååªèƒ½æ„Ÿå¹ï¼Œæœºä¼šæ˜¯ç•™ç»™æœ‰å‡†å¤‡çš„äººçš„ã€‚<br>ä¸è¿‡ï¼Œä¸è¦æ°”é¦ï¼ŒåŠ æ²¹å§ï¼å¥½å¥½æ€»ç»“ï¼Œæ¥ç€å¹²ï¼ï¼ï¼</p>
<p>å¾ˆä¹…æ²¡æœ‰å†™æ—¥è®°äº†ï¼Œæ„Ÿè§‰å¯ä»¥ç»å¸¸å†™å†™ï¼Œè®°å½•å¹³æ—¶çš„ä¸€äº›æ„Ÿæƒ³ï¼Œå¤šå¹´åå†çœ‹åº”è¯¥å¾ˆæœ‰è¶£å§ğŸ˜</p>
]]></content>
  </entry>
  <entry>
    <title>å¤šæ¡ä»¶åˆ¤æ–­çš„å¦ä¸€ç§å†™æ³•</title>
    <url>/2020/02/23/%E5%A4%9A%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E7%9A%84%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%86%99%E6%B3%95/</url>
    <content><![CDATA[<p>åœ¨å†™ä¸šåŠ¡é€»è¾‘åˆ°æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç¢°åˆ°å†™å¾ˆå¤šif, å°‘æ•°è¿˜å¥½ï¼Œå¤šä¸ªçš„è¯å¯èƒ½ä¼šç”¨switch, éšç€ä¸šåŠ¡é€»è¾‘è¶Šæ¥è¶Šå¤æ‚ï¼Œä»£ç å¯èƒ½è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å¦ä¸€ç§å†™æ³•ç®€åŒ–ä»£ç ã€‚<br><a id="more"></a></p>
<h3 id="ES6-Map"><a href="#ES6-Map" class="headerlink" title="ES6 Map"></a>ES6 Map</h3><p>ä»é˜®ä¸€å³°è€å¸ˆçš„åŸºç¡€æ•™ç¨‹é‡Œå¯ä»¥çŸ¥é“ Map çš„å¤§è‡´ç”¨æ³•ï¼š </p>
<p>Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒObject ç»“æ„æä¾›äº†â€œå­—ç¬¦ä¸²â€”å€¼â€çš„å¯¹åº”ï¼ŒMap ç»“æ„æä¾›äº†â€œå€¼â€”å€¼â€çš„å¯¹åº”ï¼Œæ˜¯ä¸€ç§æ›´å®Œå–„çš„ Hash ç»“æ„å®ç°ã€‚å¦‚æœä½ éœ€è¦â€œé”®å€¼å¯¹â€çš„æ•°æ®ç»“æ„ï¼ŒMap æ¯” Object æ›´åˆé€‚ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const m = new Map();</span><br><span class="line">const o = &#123;p: &apos;Hello World&apos;&#125;;</span><br><span class="line"></span><br><span class="line">m.set(o, &apos;content&apos;)</span><br><span class="line">m.get(o) // &quot;content&quot;</span><br><span class="line"></span><br><span class="line">m.has(o) // true</span><br><span class="line">m.delete(o) // true</span><br><span class="line">m.has(o) // false</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä½¿ç”¨ Map ç»“æ„çš„setæ–¹æ³•ï¼Œå°†å¯¹è±¡oå½“ä½œmçš„ä¸€ä¸ªé”®ï¼Œç„¶ååˆä½¿ç”¨getæ–¹æ³•è¯»å–è¿™ä¸ªé”®ï¼Œæ¥ç€ä½¿ç”¨deleteæ–¹æ³•åˆ é™¤äº†è¿™ä¸ªé”®ã€‚</p>
<p>ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å‘ Map æ·»åŠ æˆå‘˜ã€‚ä½œä¸ºæ„é€ å‡½æ•°ï¼ŒMap ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ã€‚è¯¥æ•°ç»„çš„æˆå‘˜æ˜¯ä¸€ä¸ªä¸ªè¡¨ç¤ºé”®å€¼å¯¹çš„æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const map = new Map([</span><br><span class="line">  [&apos;name&apos;, &apos;å¼ ä¸‰&apos;],</span><br><span class="line">  [&apos;title&apos;, &apos;Author&apos;]</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">map.size // 2</span><br><span class="line">map.has(&apos;name&apos;) // true</span><br><span class="line">map.get(&apos;name&apos;) // &quot;å¼ ä¸‰&quot;</span><br><span class="line">map.has(&apos;title&apos;) // true</span><br><span class="line">map.get(&apos;title&apos;) // &quot;Author&quot;</span><br></pre></td></tr></table></figure>
<p>åˆ©ç”¨ä»¥ä¸Šè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡æ„å¤šä¸ª if ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//å°†åˆ¤æ–­æ¡ä»¶ä½œä¸ºå¯¹è±¡çš„å±æ€§åï¼Œå°†å¤„ç†é€»è¾‘ä½œä¸ºå¯¹è±¡çš„å±æ€§å€¼</span><br><span class="line">var Statistics = function()&#123;</span><br><span class="line">  console.log(&apos;æ‰§è¡Œ&apos;)</span><br><span class="line">&#125;</span><br><span class="line">const comparativeTotles = new Map([</span><br><span class="line">    [0,Statistics],</span><br><span class="line">    [1,Statistics],</span><br><span class="line">    [2,Statistics],</span><br><span class="line">    [3,Statistics]</span><br><span class="line"> ])</span><br><span class="line">let map = function(val)&#123;</span><br><span class="line">      return comparativeTotles.get(val)</span><br><span class="line">&#125; </span><br><span class="line">let getMap  = map(1); //å¦‚æœæŸ¥æ‰¾ä¸åˆ°è¿”å›undefined</span><br><span class="line">if(!getMap)&#123;</span><br><span class="line">      console.log(&apos;æŸ¥æ‰¾ä¸åˆ°&apos;)</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    concaozuole.log(&apos;æ‰§è¡Œæ“ä½œ&apos;)</span><br><span class="line">      getMap()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ¹æ®å­èŠ‚ç‚¹å¯»æ‰¾çˆ¶èŠ‚ç‚¹è·¯å¾„</title>
    <url>/2020/05/03/%E6%A0%B9%E6%8D%AE%E5%AD%90%E8%8A%82%E7%82%B9%E5%AF%BB%E6%89%BE%E7%88%B6%E8%8A%82%E7%82%B9%E8%B7%AF%E5%BE%84/</url>
    <content><![CDATA[<p>æœ€è¿‘é¡¹ç›®é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œåœ¨ä¸€ä¸ªæ ‘ç»“æ„é‡Œï¼Œæ ¹æ®å­èŠ‚ç‚¹å¯»æ‰¾çˆ¶èŠ‚ç‚¹çš„è·¯å¾„ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚<br><a id="more"></a></p>
<h4 id="æ–¹æ³•ä¸€ï¼š"><a href="#æ–¹æ³•ä¸€ï¼š" class="headerlink" title="æ–¹æ³•ä¸€ï¼š"></a>æ–¹æ³•ä¸€ï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getParent(array, nodeCode)&#123;</span><br><span class="line">  let stack = [];</span><br><span class="line">  let going = true;</span><br><span class="line">  </span><br><span class="line">  let walker = (array, nodeCode) =&gt; &#123;</span><br><span class="line">      array.forEach(item =&gt; &#123;</span><br><span class="line">          if (!going) return;</span><br><span class="line">          stack.push(item[&apos;nodeCode&apos;]);</span><br><span class="line">          if (item[&apos;nodeCode&apos;] === nodeCode) &#123;</span><br><span class="line">              going = false;</span><br><span class="line">          &#125; else if (item[&apos;child&apos;]) &#123;</span><br><span class="line">              walker(item[&apos;child&apos;], nodeCode);</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">              stack.pop();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      if (going) stack.pop();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  walker(array, nodeCode);</span><br><span class="line"></span><br><span class="line">  return stack.join(&apos;,&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ–¹æ³•äºŒï¼š"><a href="#æ–¹æ³•äºŒï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼š"></a>æ–¹æ³•äºŒï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getParent(data, target)&#123;</span><br><span class="line"></span><br><span class="line">  const get = (children, target, record = []) =&gt; (</span><br><span class="line">    children.reduce((result, &#123; nodeCode, child: innerChildren &#125;) =&gt; &#123;</span><br><span class="line">      if (nodeCode === target) &#123;</span><br><span class="line">        return [...record, target]</span><br><span class="line">      &#125;</span><br><span class="line">      if (innerChildren) &#123;</span><br><span class="line">        return [...result, ...get(innerChildren, target, [...record, nodeCode])]</span><br><span class="line">      &#125;</span><br><span class="line">      return result</span><br><span class="line">    &#125;, []))</span><br><span class="line"></span><br><span class="line">  return get(data, target).join(&apos;,&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>æµ‹è¯•æŒç»­é›†æˆ</title>
    <url>/2020/09/27/%E6%B5%8B%E8%AF%95%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/</url>
    <content><![CDATA[<p>æ·»åŠ äº†travisçš„ä¸€ä¸ªè„šæœ¬ï¼Œè¿™æ ·æ¯æ¬¡åªè¦æäº¤ä¸€ä¸‹åšå®¢æ–‡ä»¶å°±è¡Œäº†ï¼Œæ‰“åŒ…çš„å·¥ä½œå°±äº¤è¿˜ç»™travisäº†ã€‚æŒç»­é›†æˆçœŸçš„å¾ˆå¥½ç”¨ï¼Œæå¤§åœ°æå‡äº†æ•ˆç‡ã€‚</p>
]]></content>
      <tags>
        <tag>æŒç»­é›†æˆ</tag>
        <tag>æµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±æ‹·è´</title>
    <url>/2022/02/15/%E6%B7%B1%E6%8B%B7%E8%B4%9D/</url>
    <content><![CDATA[<p>JSå®ç°æ·±æ‹·è´ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function deepCopy(obj)&#123;</span><br><span class="line">  let newObj = null</span><br><span class="line">  if(typeof obj === &apos;object&apos; &amp;&amp; obj)&#123;</span><br><span class="line">    for(let key in obj)&#123;</span><br><span class="line">      newObj = obj[key] instanceof Array ? [] : &#123;&#125;</span><br><span class="line">      newObj[key] = deepCopy(obj[key])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    newObj = obj</span><br><span class="line">  &#125;</span><br><span class="line">  return newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>æ·±æ‹·è´</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•ä¹‹æ•°ç»„(ä¸€)</title>
    <url>/2020/04/25/%E7%AE%97%E6%B3%95%E4%B9%8B%E6%95%B0%E7%BB%84-%E4%B8%80/</url>
    <content><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ’åºåå®ç°ç¬¬ä¸€å¤§çš„å€¼æ”¾åœ¨æœ€å·¦è¾¹ï¼ŒåŒæ—¶æŠŠç¬¬äºŒå¤§çš„å€¼æ”¾åœ¨æœ€å³è¾¹ï¼Œç¬¬ä¸‰å¤§çš„å€¼æ”¾åœ¨å·¦è¾¹ç¬¬äºŒä½ï¼Œç¬¬å››å¤§çš„å€¼æ”¾åœ¨å³è¾¹ç¬¬äºŒä½ï¼Œä¾æ¬¡æ’åºï¼Œæ¯”å¦‚ç»™å®š<code>[1, 2, 3, 4]</code>ï¼ŒæœŸæœ›ç»“æœ: <code>[4, 2, 1, 3]</code><br><a id="more"></a></p>
<h4 id="è§£æ³•ä¸€ï¼š"><a href="#è§£æ³•ä¸€ï¼š" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h4><p>å…ˆæŠŠæ•°ç»„é™åºï¼Œç„¶åç´¢å¼•ä¸ºå¶æ•°çš„æ”¾å·¦è¾¹ï¼Œä¸ºå¥‡æ•°çš„æ”¾å³è¾¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var sortArr = (nums) =&gt; &#123;</span><br><span class="line">  let arr = nums.sort((x,y) =&gt; &#123;</span><br><span class="line">    return y - x</span><br><span class="line">  &#125;)</span><br><span class="line">  let a= []</span><br><span class="line">  let b = []</span><br><span class="line">  arr.forEach((element,i) =&gt; &#123;</span><br><span class="line">    if(i%2 === 0)&#123;</span><br><span class="line">      a.push(element)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      b.push(element)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return a.concat(b.reverse())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(sortArr([2,1,4,100,50,13,8,6,23]))//[ 100, 23,  8,  4, 1, 2,  6, 13, 50 ]</span><br></pre></td></tr></table></figure>
<h4 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h4><p>åˆ†åˆ«ä»æ•°ç»„çš„å¤´å’Œå°¾è¿­ä»£æ•°ç»„ï¼Œæ‰¾å‡ºæœ€å¤§å€¼ï¼Œå¹¶ä¸ä¹‹äº¤æ¢ä½ç½®ï¼Œç»§ç»­åœ¨å‰©ä¸‹çš„æ•°ç»„é‡Œé‡å¤ä¸Šä¸€æ­¥åšæ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const getArrMaxIndex = (nums,start,end) =&gt; &#123;</span><br><span class="line">  const max = Math.max.apply(null, nums.slice(start,end))</span><br><span class="line">  return nums.findIndex(i=&gt;i===max)</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">const sortArr = (nums) =&gt; &#123;</span><br><span class="line">  let [start, temp, end] = [0, 1, nums.length]</span><br><span class="line">  while(start !== end-1)&#123;</span><br><span class="line">    let maxIndex = getArrMaxIndex(nums,start,end)</span><br><span class="line">    if(temp%2 === 0)&#123;</span><br><span class="line">      [nums[end-1], nums[maxIndex]] = [nums[maxIndex], nums[end-1]]</span><br><span class="line">      end--</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      [nums[start], nums[maxIndex]] = [nums[maxIndex], nums[start]]</span><br><span class="line">      start++</span><br><span class="line">    &#125;</span><br><span class="line">    temp++</span><br><span class="line">  &#125;</span><br><span class="line">  return nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(sortArr([2,1,4,100,50,13,8,6,23]))//[ 100, 23,  8,  4, 1, 2,  6, 13, 50 ]</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®­å¤´å‡½æ•°this</title>
    <url>/2022/02/17/%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0this/</url>
    <content><![CDATA[<p>ç®­å¤´å‡½æ•°çš„thisåœ¨å®šä¹‰æ—¶å°±ç¡®å®šï¼Œå°±æ˜¯ç®­å¤´å‡½æ•°æ‰€åœ¨ä½œç”¨åŸŸçš„this, ä¸”ä¸ä¼šè¢«call, apply, bindæ”¹å˜ã€‚<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let foo = () =&gt; &#123;</span><br><span class="line">  console.log(this.id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let id = 21</span><br><span class="line"></span><br><span class="line">foo.call(&#123; id: 42 &#125;) //  21</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœç®­å¤´å‡½æ•°æ”¹æˆfunctionï¼Œåˆ™ä¼šè¢«æ”¹å˜ï¼Œå› ä¸ºfunctionçš„thisåªæœ‰è°ƒç”¨æ—¶èƒ½ç¡®å®š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let foo = function()&#123;</span><br><span class="line">  console.log(this.id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let id = 21</span><br><span class="line"></span><br><span class="line">foo.call(&#123; id: 42 &#125;) // 42</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>ç®­å¤´å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»ˆäºçœ‹å®Œè€å‹è®°äº†</title>
    <url>/2020/04/12/%E7%BB%88%E4%BA%8E%E7%9C%8B%E5%AE%8C%E8%80%81%E5%8F%8B%E8%AE%B0%E4%BA%86/</url>
    <content><![CDATA[<p><img src="https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&amp;quality=100&amp;size=b4000_4000&amp;sec=1586704138&amp;di=4329bb6a517364a9577b7c3f3bae641e&amp;src=http://i2.hdslb.com/bfs/archive/5339b0aee51f6be61ff127d1a7f9e085ca893104.jpg" alt="&#39;è€å‹è®°æµ·æŠ¥&#39;"></p>
<p>å¤§å­¦æ—¶å°±å¼€å§‹çœ‹è€å‹è®°äº†ï¼Œä½†æ˜¯æ–­æ–­ç»­ç»­çœ‹äº†å‡ å­£ååˆæ²¡çœ‹äº†ï¼Œç›´åˆ°ä»Šå¤©ç»ˆäºçœ‹å®Œã€‚çœ‹å®Œå‘ç°ï¼Œè€å‹è®°çœŸçš„å¥½å¤šè¤æ®µå­å•ŠğŸ˜ï¼ŒçœŸçš„æ˜¯å°‘å„¿ä¸å®œ2333ã€‚æœ€å¼€å§‹æˆ‘çœ‹æµ·æŠ¥ï¼Œå°±æ˜¯ä¸Šé¢è¿™å¼ ï¼Œæˆ‘ä»¥ä¸ºä¹”ä¼Šä¼šå’Œè²æ¯”åœ¨ä¸€èµ·ï¼Œæœ€åçœ‹å®Œç«Ÿç„¶ä¸æ˜¯ï¼Œå“ˆå“ˆå“ˆå“ˆã€‚æ€»ä¹‹çœ‹å®Œè¿˜æ˜¯æœ‰ç‚¹ä¼¤æ„Ÿçš„ï¼Œæœ‰è¿½å®Œå‰§çš„ç©ºè™šï¼Œä¹Ÿæƒ³èµ·äº†å¤§å­¦æ—¶ä»£é‚£äº›æ—¥å­ï¼Œæ—¶é—´è¿‡å¾—å¯çœŸå¿«å•Šã€‚ã€‚ã€‚</p>
]]></content>
      <tags>
        <tag>è€å‹è®°</tag>
        <tag>ç¾å‰§</tag>
      </tags>
  </entry>
  <entry>
    <title>é€’å½’å®ç°1-100æ±‚å’Œ</title>
    <url>/2022/02/12/%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B01-100%E6%B1%82%E5%92%8C/</url>
    <content><![CDATA[<p>é¢è¯•é‡åˆ°è¿™æ ·ä¸€é“é¢˜ï¼Œå¹³æ—¶æ²¡æ€ä¹ˆå‡†å¤‡ç®—æ³•ï¼Œå½“æ—¶å°±å¡å£³äº†ã€‚åæ¥å›æ¥æƒ³æƒ³å…¶å®å¾ˆç®€å•ã€‚è¦åšçš„å…¶å®å°±æ˜¯ï¼Œç”¨é€’å½’å®ç°æ¯æ¬¡åŠ 1æˆ–è€…å‡1ã€‚</p>
<p>çœŸçš„è¦å¥½å¥½çœ‹çœ‹ç®—æ³•äº†å‘€ã€‚<br><a id="more"></a><br>å‡1ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function sum(n)&#123;</span><br><span class="line">  if(n === 1) return 1</span><br><span class="line">  return sum(n - 1) + n</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sum(100) // 5050</span><br></pre></td></tr></table></figure>
<p>åŠ 1ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function sum(num, start) &#123;</span><br><span class="line">  num += start</span><br><span class="line">  start++;</span><br><span class="line">  if (start &gt; 100) &#123;</span><br><span class="line">    return num</span><br><span class="line">  &#125;</span><br><span class="line">  else &#123;</span><br><span class="line">    sum(num, start)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">sum(0, 1) // 5050</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title>é”šç‚¹å¯¼èˆª</title>
    <url>/2021/03/16/%E9%94%9A%E7%82%B9%E5%AF%BC%E8%88%AA/</url>
    <content><![CDATA[<p>å¯¼èˆªé”šç‚¹è·Ÿéšé¡µé¢æ»šåŠ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$(&quot;#work_info&quot;).on(&apos;scroll&apos;, function ()&#123;</span><br><span class="line">    var flag = 0;</span><br><span class="line">    var w_top = $(this).scrollTop();</span><br><span class="line">    var len = arr.length</span><br><span class="line">    for(var i=0;i&lt;len;i++)&#123;</span><br><span class="line">        var linkText = arr[i];</span><br><span class="line">            if(w_top &gt;= topObj[linkText] &amp;&amp; w_top &lt;= topObj[[arr[i+1]]])&#123;</span><br><span class="line">                flag = i</span><br><span class="line">                    break;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (topObj[arr[flag+1]] - w_top &lt; w_top -  topObj[arr[flag]])&#123;</span><br><span class="line">        flag += 1</span><br><span class="line">    &#125;</span><br><span class="line">    if (w_top &gt; arr[len - 1]) &#123;</span><br><span class="line">        flag = len - 1;</span><br><span class="line">    &#125;</span><br><span class="line">    $(&apos;.anchor-link[value=&apos;+arr[flag]+&apos;]&apos;).siblings().removeClass(&apos;anchor-active&apos;);</span><br><span class="line">    $(&apos;.anchor-link[value=&apos;+arr[flag]+&apos;]&apos;).addClass(&apos;anchor-active&apos;)                     </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜²æŠ–èŠ‚æµ</title>
    <url>/2022/02/12/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/</url>
    <content><![CDATA[<p>åœ¨å¤„ç†é«˜é¢‘äº‹ä»¶ï¼Œç±»ä¼¼äºwindowçš„resizeæˆ–è€…scorllï¼Œæˆ–è€…inputè¾“å…¥æ ¡éªŒç­‰æ“ä½œæ—¶ã€‚å¦‚æœç›´æ¥æ‰§è¡Œäº‹ä»¶å¤„ç†å™¨ï¼Œä¼šå¢å¤§æµè§ˆå™¨çš„è´Ÿæ‹…ï¼Œä¸¥é‡çš„ç›´æ¥å¡æ­»ï¼Œç”¨æˆ·ä½“éªŒéå¸¸ä¸å¥½ã€‚</p>
<p>é¢å¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¸€èˆ¬å¯ä»¥é‡‡ç”¨é˜²æŠ–å’ŒèŠ‚æµçš„æ–¹å¼å‡å°‘è°ƒç”¨é¢‘ç‡ã€‚<br><a id="more"></a><br>é˜²æŠ–ï¼šåœ¨å•ä½æ—¶é—´å†…æ‰§è¡Œå‡½æ•°ï¼Œ å¦‚æœåœ¨è¿™ä¸ªæ—¶é—´å†…è§¦å‘ï¼Œåˆ™é‡æ–°å¼€å§‹è®¡æ—¶ã€‚<br>åœºæ™¯ï¼šæ»šåŠ¨æ¡æ»šåŠ¨ï¼Œ æäº¤æŒ‰é’®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function debounce(fn, delay)&#123;</span><br><span class="line">  let timer</span><br><span class="line">  return function()&#123;</span><br><span class="line">    if(timer) clearTimeout(timer)</span><br><span class="line"></span><br><span class="line">    timer = setTimeout(fn, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é˜²æŠ–ï¼šåœ¨å•ä½æ—¶é—´å†…æ‰§è¡Œå‡½æ•°ï¼Œ å¦‚æœåœ¨è¿™ä¸ªæ—¶é—´å†…è§¦å‘ï¼Œåˆ™å¿½ç•¥ï¼Œç›´åˆ°æ—¶é—´ç»“æŸï¼Œå‡½æ•°å¼€å§‹æ‰§è¡Œ<br>åœºæ™¯ï¼šè¾“å…¥æ¡†è¾“å…¥</p>
<p>ç¬¬ä¸€ç§å®ç°ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function throttle(fn, delay)&#123;</span><br><span class="line">  let timer</span><br><span class="line">  return function()&#123;</span><br><span class="line">    if(timer) return</span><br><span class="line">    timer = setTimeout(function()&#123;</span><br><span class="line">      fn()</span><br><span class="line">      clearTimeout(timer)</span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç¬¬äºŒç§å®ç°ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function throttle(fn, delay)&#123;</span><br><span class="line">  let prev = Date.now()</span><br><span class="line">  return function()&#123;</span><br><span class="line">    if(Date.now() - prev &lt; delay) &#123;</span><br><span class="line">      return</span><br><span class="line">    &#125;</span><br><span class="line">    fn()</span><br><span class="line">    prev = Date.now()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>JS</tag>
        <tag>é˜²æŠ–</tag>
        <tag>èŠ‚æµ</tag>
      </tags>
  </entry>
</search>
